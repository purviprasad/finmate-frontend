{"version":3,"sources":["../../src/is-array-like.ts","../../src/contains.ts","../../src/filter.ts","../../src/difference.ts","../../src/is-type.ts","../../src/is-function.ts","../../src/is-nil.ts","../../src/is-array.ts","../../src/is-object.ts","../../src/each.ts","../../src/keys.ts","../../src/is-match.ts","../../src/is-object-like.ts","../../src/is-plain-object.ts","../../src/find.ts","../../src/find-index.ts","../../src/first-value.ts","../../src/flatten.ts","../../src/max.ts","../../src/min.ts","../../src/get-range.ts","../../src/pull.ts","../../src/pull-at.ts","../../src/reduce.ts","../../src/remove.ts","../../src/is-string.ts","../../src/sort-by.ts","../../src/uniq.ts","../../src/union.ts","../../src/values-of-key.ts","../../src/head.ts","../../src/last.ts","../../src/ends-with.ts","../../src/every.ts","../../src/some.ts","../../src/group-by.ts","../../src/group-to-map.ts","../../src/group.ts","../../src/parse-radius.ts","../../src/clamp.ts","../../src/fixed-base.ts","../../src/is-number.ts","../../src/is-integer.ts","../../src/is-number-equal.ts","../../src/is-odd.ts","../../src/max-by.ts","../../src/min-by.ts","../../src/mod.ts","../../src/to-radian.ts","../../src/to-degree.ts","../../src/to-integer.ts","../../src/for-in.ts","../../src/has-key.ts","../../src/has.ts","../../src/values.ts","../../src/to-string.ts","../../src/lower-case.ts","../../src/substitute.ts","../../src/upper-first.ts","../../src/get-type.ts","../../src/is-boolean.ts","../../src/is-date.ts","../../src/is-null.ts","../../src/is-prototype.ts","../../src/is-undefined.ts","../../src/is-element.ts","../../src/request-animation-frame.ts","../../src/clear-animation-frame.ts","../../src/mix.ts","../../src/augment.ts","../../src/clone.ts","../../src/debounce.ts","../../src/memoize.ts","../../src/deep-mix.ts","../../src/index-of.ts","../../src/is-empty.ts","../../src/is-equal.ts","../../src/map.ts","../../src/map-values.ts","../../src/get.ts","../../src/set.ts","../../src/pick.ts","../../src/omit.ts","../../src/throttle.ts","../../src/to-array.ts","../../src/unique-id.ts","../../src/noop.ts","../../src/size.ts","../../src/measure-text-width.ts","../../src/get-ellipsis-text.ts","../../src/cache.ts","../node_modules/tslib/tslib.es6.js","../node_modules/gl-matrix/esm/mat3.js","../../src/index.ts","../../../src/abstract/group-component.ts","../../src/ext.ts","../../../src/util/util.ts","../../src/constant.ts","../../../src/util/theme.ts","../../src/util.ts","../../src/line.ts","../../src/bezier.ts","../../src/quadratic.ts","../../src/cubic.ts","../../src/ellipse.ts","../../src/arc.ts","../../src/segments.ts","../../src/polyline.ts","../../../src/util/dom.ts","../../../src/util/matrix.ts","../node_modules/lodash-es/_root.js","../../../src/adjusts/adjust.ts","../../src/add-event-listener.ts","../../src/create-dom.ts","../../src/get-style.ts","../../src/get-outer-height.ts","../../src/get-height.ts","../../src/get-outer-width.ts","../../src/get-width.ts","../../src/modify-css.ts","../../../src/tick-method/register.ts","../../src/base.ts","../../../src/category/base.ts","../../src/fecha.ts","../../../src/util/time.ts","../../../src/util/bisector.ts","../../../src/category/time.ts","../../../src/continuous/base.ts","../../../src/continuous/linear.ts","../../../src/util/math.ts","../../../src/continuous/log.ts","../../../src/continuous/pow.ts","../../../src/continuous/time.ts","../../../src/continuous/quantize.ts","../../../src/continuous/quantile.ts","../../src/factory.ts","../../../src/identity/index.ts","../../../src/tick-method/cat.ts","../../../src/util/d3-linear.ts","../../../src/util/interval.ts","../../../src/util/strict-limit.ts","../../../src/util/pretty-number.ts","../../../src/util/extended.ts","../../../src/util/pretty.ts","../../../src/tick-method/quantile.ts","../../../src/tick-method/time-pretty.ts","../../../src/tick-method/index.ts","../../../src/tick-method/time-cat.ts","../../../src/tick-method/linear.ts","../../../src/tick-method/r-prettry.ts","../../../src/tick-method/time.ts","../../../src/tick-method/log.ts","../../../src/tick-method/pow.ts","../../../src/tick-method/d3-linear.ts","../node_modules/gl-matrix/esm/common.js","../../../src/abstract/html-component.ts","../../../src/util/draw.ts","../../../src/util/svg.ts","../../../src/shape/base.ts","../../../src/shape/circle.ts","../../../src/shape/ellipse.ts","../../../src/shape/image.ts","../../../../src/util/in-stroke/line.ts","../../../src/shape/line.ts","../../src/parse-path.ts","../../src/parse-path-string.ts","../../src/path-2-absolute.ts","../../../src/process/arc-2-cubic.ts","../../src/get-arc-params.ts","../../src/path-2-segments.ts","../../../src/shape/marker.ts","../../../../src/util/in-path/point-in-path.ts","../../../../src/util/in-path/polygon.ts","../../../../src/util/in-stroke/arc.ts","../../../src/util/path.ts","../../../src/shape/path.ts","../../../../src/util/in-stroke/polyline.ts","../../../src/shape/polygon.ts","../../../src/shape/polyline.ts","../../../src/shape/rect.ts","../../../../src/util/in-stroke/rect-radius.ts","../../../../src/util/in-stroke/rect.ts","../../../src/shape/text.ts","../../../src/util/text.ts","../../../src/util/label.ts","../node_modules/@antv/adjust/node_modules/tslib/tslib.es6.js","../../../src/abstract/component.ts","../../../src/tooltip/css-const.ts","../../../src/util/arrow.ts","../../../src/shape/dom.ts","../../../../src/shape/marker/symbols.ts","../../../../src/shape/marker/index.ts","../../../src/util/format.ts","../../../src/event/graph-event.ts","../../../src/abstract/base.ts","../node_modules/gl-matrix/esm/vec2.js","../node_modules/gl-matrix/esm/vec3.js","../../../src/util/offscreen.ts","../../../src/util/event.ts","../../../src/util/arc-params.ts","../../../src/bbox/register.ts","../../../src/bbox/rect.ts","../../../src/bbox/circle.ts","../../../src/bbox/util.ts","../../../src/bbox/polyline.ts","../../../src/bbox/path.ts","../../../src/bbox/index.ts","../../../src/bbox/polygon.ts","../../../src/bbox/text.ts","../../../src/bbox/line.ts","../../../src/bbox/ellipse.ts","../node_modules/d3-ease/src/linear.js","../node_modules/d3-ease/src/quad.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-ease/src/poly.js","../node_modules/d3-ease/src/sin.js","../node_modules/d3-ease/src/math.js","../node_modules/d3-ease/src/exp.js","../node_modules/d3-ease/src/circle.js","../node_modules/d3-ease/src/bounce.js","../node_modules/d3-ease/src/back.js","../node_modules/d3-ease/src/elastic.js","../../../src/animate/register.ts","../../../src/abstract/container.ts","../../../src/abstract/element.ts","../node_modules/detect-browser/es/index.js","../../../src/abstract/group.ts","../../../src/abstract/shape.ts","../../../src/util/state.ts","../../../src/util/parse.ts","../node_modules/size-sensor/lib/debounce.js","../node_modules/size-sensor/lib/constant.js","../node_modules/lodash-es/_freeGlobal.js","../node_modules/lodash-es/isBuffer.js","../node_modules/webpack/buildin/harmony-module.js","../node_modules/fmin/build/fmin.js","../../../src/trend/constant.ts","../../src/catmull-rom-2-bezier.ts","../../../src/trend/path.ts","../../../src/trend/trend.ts","../../../src/slider/handler.ts","../../../src/slider/constant.ts","../../../src/slider/slider.ts","../node_modules/d3-timer/src/timer.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/basis.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/basisClosed.js","../node_modules/d3-interpolate/src/numberArray.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../../../src/animate/timeline.ts","../../../src/util/color.ts","../../../src/event/event-contoller.ts","../../../src/abstract/canvas.ts","../../../src/util/graphic.ts","../../../src/annotation/line.ts","../../../src/annotation/text.ts","../../../src/annotation/arc.ts","../../../src/annotation/region.ts","../../../src/annotation/image.ts","../../../src/annotation/data-marker.ts","../../../src/annotation/data-region.ts","../../../src/annotation/region-filter.ts","../../../src/annotation/shape.ts","../../../src/annotation/html.ts","../../../src/axis/base.ts","../../../../src/axis/overlap/auto-ellipsis.ts","../../../../src/axis/overlap/auto-hide.ts","../../../../src/axis/overlap/auto-rotate.ts","../../../src/axis/line.ts","../../../src/axis/circle.ts","../../../src/defs/gradient.ts","../../../src/defs/shadow.ts","../../../src/defs/arrow.ts","../../../src/defs/clip.ts","../../../src/defs/pattern.ts","../../../src/defs/index.ts","../../src/canvas.ts","../../../src/crosshair/base.ts","../../../src/crosshair/line.ts","../../../src/crosshair/circle.ts","../../../src/crosshair/html-theme.ts","../../../src/crosshair/css-const.ts","../../../src/crosshair/html.ts","../../../src/grid/base.ts","../../../src/grid/circle.ts","../../../src/grid/line.ts","../../../src/legend/base.ts","../../../src/legend/category.ts","../../../src/legend/continuous.ts","../../../src/tooltip/html-theme.ts","../../../src/tooltip/html.ts","../../../src/util/align.ts","../../../src/util/hit.ts","../../../src/scrollbar/scrollbar.ts","../../../src/adjusts/dodge.ts","../../../src/adjusts/jitter.ts","../../../src/adjusts/stack.ts","../../../src/adjusts/symmetric.ts","../node_modules/size-sensor/lib/index.js","../node_modules/size-sensor/lib/sensorPool.js","../node_modules/size-sensor/lib/id.js","../node_modules/size-sensor/lib/sensors/index.js","../node_modules/size-sensor/lib/sensors/object.js","../node_modules/size-sensor/lib/sensors/resizeObserver.js","../node_modules/d3-regression/dist/d3-regression.js","../node_modules/lodash-es/stubFalse.js","../node_modules/lodash-es/_nodeUtil.js","../node_modules/pdfast/src/index.js","../node_modules/pdfast/src/helper.js","../node_modules/@ant-design/icons-svg/es/asn/DollarCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/DollarCircleOutlined.js","../../../src/engine/index.ts","../../../src/attributes/base.ts","../../../src/attributes/color.ts","../../../src/attributes/opacity.ts","../../../src/attributes/position.ts","../../../src/attributes/shape.ts","../../../src/attributes/size.ts","../../../src/coord/base.ts","../../../src/coord/cartesian.ts","../../../src/coord/helix.ts","../../../src/coord/polar.ts","../../src/dependents.ts","../../../src/util/graphics.ts","../../../src/util/helper.ts","../../../src/util/bbox.ts","../../../src/util/coordinate.ts","../../../src/util/scale.ts","../../../src/util/axis.ts","../../../src/facet/facet.ts","../../../src/facet/index.ts","../../../../src/interaction/action/base.ts","../../../../src/interaction/action/callback.ts","../../../../src/interaction/action/register.ts","../../../../../src/geometry/shape/util/path.ts","../../src/get-line-intersect.ts","../../src/point-in-polygon.ts","../../src/is-polygons-intersect.ts","../../../../src/interaction/action/util.ts","../../../src/interaction/context.ts","../../../src/interaction/interaction.ts","../../../src/interaction/grammar-interaction.ts","../../../src/interaction/index.ts","../../../../src/theme/util/create-by-style-sheet.ts","../../../../src/theme/style-sheet/light.ts","../../../../src/theme/util/create-theme.ts","../../../src/theme/index.ts","../../../src/util/tooltip.ts","../../../src/util/padding.ts","../../../../src/chart/controller/index.ts","../../../../src/chart/controller/coordinate.ts","../../../src/chart/event.ts","../../../../src/chart/layout/index.ts","../../../../src/chart/util/scale-pool.ts","../../../../src/chart/layout/padding-cal.ts","../../../../src/chart/layout/auto.ts","../../../../src/chart/util/sync-view-padding.ts","../../../src/chart/view.ts","../../../src/chart/chart.ts","../../../../src/chart/controller/base.ts","../../../../src/chart/controller/tooltip.ts","../../../../src/animate/animation/index.ts","../../../src/animate/index.ts","../../../../src/geometry/shape/constant.ts","../../../../src/geometry/element/index.ts","../../../../src/geometry/label/index.ts","../../../../src/geometry/shape/base.ts","../../../../src/geometry/util/is-model-change.ts","../../../../src/geometry/util/parse-fields.ts","../../../../src/geometry/util/diff.ts","../../../src/geometry/base.ts","../../../../src/geometry/util/group-data.ts","../../../src/util/transform.ts","../../../../../src/geometry/label/util/index.ts","../../../src/component/labels.ts","../../../src/component/update-label.ts","../../../../src/geometry/label/base.ts","../../../src/util/attr.ts","../../../src/util/marker.ts","../../../src/util/legend.ts","../../../../../src/geometry/shape/util/get-path-points.ts","../../../../../src/geometry/shape/util/get-style.ts","../../../../../src/geometry/shape/util/split-points.ts","../../../../../src/geometry/shape/line/util.ts","../../../../../src/geometry/shape/line/index.ts","../../src/core.ts","../../../../src/theme/style-sheet/dark.ts","../../../src/geometry/path.ts","../../../../../src/geometry/shape/area/util.ts","../../../../../src/geometry/shape/area/index.ts","../../../src/geometry/area.ts","../../../../../src/geometry/shape/edge/index.ts","../../../src/geometry/edge.ts","../../../src/geometry/heatmap.ts","../../../../../src/geometry/shape/interval/util.ts","../../../../../src/geometry/shape/interval/index.ts","../../../../src/geometry/util/shape-size.ts","../../../src/geometry/interval.ts","../../../src/geometry/line.ts","../../../../../src/geometry/shape/point/util.ts","../../../../../src/geometry/shape/point/index.ts","../../../src/geometry/point.ts","../../../../../src/geometry/shape/polygon/index.ts","../../../src/geometry/polygon.ts","../../../../../src/geometry/shape/schema/index.ts","../../../src/geometry/schema.ts","../../../../../src/geometry/shape/violin/index.ts","../../../src/geometry/violin.ts","../../../../../src/geometry/shape/edge/util.ts","../../../../../src/geometry/shape/area/line.ts","../../../../../src/geometry/shape/area/smooth.ts","../../../../../src/geometry/shape/area/smooth-line.ts","../../../../../src/geometry/shape/edge/arc.ts","../../../../../src/geometry/shape/edge/smooth.ts","../../../../../src/geometry/shape/edge/vhv.ts","../../../../../src/geometry/shape/interval/funnel.ts","../../../../../src/geometry/shape/interval/hollow-rect.ts","../../../../../src/geometry/shape/interval/line.ts","../../../../../src/geometry/shape/interval/pyramid.ts","../../../../../src/geometry/shape/interval/tick.ts","../../../../../src/geometry/shape/line/step.ts","../../../../../src/geometry/shape/schema/box.ts","../../../../../src/geometry/shape/schema/candle.ts","../../../../../src/geometry/shape/polygon/square.ts","../../../../../src/geometry/shape/point/hollow.ts","../../../../../src/geometry/shape/point/image.ts","../../../../../src/geometry/shape/point/solid.ts","../../../../../src/geometry/shape/violin/smooth.ts","../../../../../src/geometry/shape/violin/hollow.ts","../../../../src/geometry/label/interval.ts","../../../../src/geometry/label/polar.ts","../../../../src/geometry/label/pie.ts","../../../../../../src/geometry/label/layout/pie/util.ts","../../../../../src/geometry/label/layout/overlap.ts","../../../src/util/collision-detect.ts","../../../../../src/geometry/label/util/createWorker.ts","../../../../../../src/geometry/label/layout/worker/hide-overlap.ts","../../../../../src/geometry/label/layout/hide-overlap.ts","../../../src/util/context.ts","../../../../../../src/geometry/label/layout/interval/adjust-position.ts","../../../../../../src/geometry/label/layout/point/adjust-position.ts","../../../../../../src/geometry/label/layout/path/adjust-position.ts","../../../../src/animate/animation/util.ts","../../../../src/animate/animation/sector-path-update.ts","../../../../src/animate/animation/zoom.ts","../../../src/util/facet.ts","../../../src/facet/circle.ts","../../../src/facet/list.ts","../../../src/facet/matrix.ts","../../../src/facet/mirror.ts","../../../src/facet/rect.ts","../../../src/facet/tree.ts","../../../src/util/stat.ts","../../../src/util/annotation.ts","../../../../src/chart/controller/annotation.ts","../../../src/util/grid.ts","../../../../src/chart/controller/axis.ts","../../../src/util/direction.ts","../../../../src/chart/controller/legend.ts","../../../../src/chart/controller/slider.ts","../../../../src/chart/controller/scrollbar.ts","../../../../src/interaction/action/active-region.ts","../../../../../../src/interaction/action/component/tooltip/geometry.ts","../../../../../../src/interaction/action/component/tooltip/sibling.ts","../../../../../../src/interaction/action/component/tooltip/ellipsis-text.ts","../../../../../src/interaction/action/element/state-base.ts","../../../../../src/interaction/action/element/state.ts","../../../../../src/interaction/action/element/active.ts","../../../../../src/interaction/action/element/link-by-color.ts","../../../../../src/interaction/action/element/range-state.ts","../../../../../src/interaction/action/element/range-active.ts","../../../../../src/interaction/action/element/single-state.ts","../../../../../src/interaction/action/element/single-active.ts","../../../../../src/interaction/action/element/highlight-util.ts","../../../../../src/interaction/action/element/highlight.ts","../../../../../src/interaction/action/element/range-highlight.ts","../../../../../src/interaction/action/element/highlight-by-color.ts","../../../../../src/interaction/action/element/highlight-by-x.ts","../../../../../src/interaction/action/element/single-highlight.ts","../../../../../src/interaction/action/element/range-selected.ts","../../../../../src/interaction/action/element/selected.ts","../../../../../src/interaction/action/element/single-selected.ts","../../../../../src/interaction/action/component/list-state.ts","../../../../../src/interaction/action/component/list-active.ts","../../../../../src/interaction/action/component/list-highlight.ts","../../../../../src/interaction/action/component/list-highlight-util.ts","../../../../../src/interaction/action/component/list-selected.ts","../../../../../src/interaction/action/component/list-unchecked.ts","../../../../../src/interaction/action/component/list-checked.ts","../../../../../src/interaction/action/component/list-focus.ts","../../../../../src/interaction/action/component/list-radio.ts","../../../../../src/interaction/action/mask/base.ts","../../../../../src/interaction/action/mask/circle.ts","../../../../../src/interaction/action/mask/rect.ts","../../../../../src/interaction/action/mask/dim-rect.ts","../../../../../src/interaction/action/mask/path.ts","../../../../../src/interaction/action/mask/smooth-path.ts","../../../../../src/interaction/action/data/range-filter.ts","../../../../../../src/interaction/action/mask/multiple/base.ts","../../../../../../src/interaction/action/mask/multiple/rect.ts","../../../../../../src/interaction/action/mask/multiple/dim-rect.ts","../../../../../../src/interaction/action/mask/multiple/circle.ts","../../../../../../src/interaction/action/mask/multiple/path.ts","../../../../../../src/interaction/action/mask/multiple/smooth-path.ts","../../../../src/interaction/action/cursor.ts","../../../../../src/interaction/action/data/filter.ts","../../../../../src/interaction/action/data/sibling-filter.ts","../../../../../src/interaction/action/element/filter.ts","../../../../../src/interaction/action/element/sibling-filter.ts","../../../../../src/interaction/action/view/button.ts","../../../../../src/interaction/action/view/drag.ts","../../../../../src/interaction/action/view/move.ts","../../../../../src/interaction/action/view/scale-transform.ts","../../../../../src/interaction/action/view/scale-translate.ts","../../../../../src/interaction/action/view/scale-zoom.ts","../../../../../src/interaction/action/view/mousewheel-scroll.ts","../../../../../../src/interaction/action/component/axis/axis-description.ts","../../../../../../src/geometry/label/layout/pie/distribute.ts","../../../../../src/geometry/label/layout/limit-in-shape.ts","../../../../../src/geometry/label/layout/limit-in-canvas.ts","../../../../../src/geometry/label/layout/limit-in-plot.ts","../../../../../../src/geometry/label/layout/pie/outer.ts","../../../../../src/geometry/label/layout/adjust-color.ts","../../../../../../src/geometry/label/layout/interval/hide-overlap.ts","../../../../../../src/geometry/label/layout/pie/spider.ts","../../../../src/animate/animation/fade.ts","../../../../src/animate/animation/grow-in.ts","../../../../src/animate/animation/scale-in.ts","../../../../src/animate/animation/wave-in.ts","../../../../src/animate/animation/position-update.ts","../../../../src/animate/animation/path-in.ts","../../../src/utils/invariant.ts","../../../src/utils/pick.ts","../../../src/utils/data.ts","../../../src/utils/deep-assign.ts","../../../src/utils/context.ts","../../../src/utils/dom.ts","../../../src/utils/flow.ts","../../../src/utils/geometry.ts","../../../src/utils/kebab-case.ts","../../../src/utils/label.ts","../../../src/utils/measure-text.ts","../../../src/utils/number.ts","../../../src/utils/padding.ts","../../../src/utils/path.ts","../../../src/utils/statistic.ts","../../../src/utils/template.ts","../../../src/utils/view.ts","../../../../src/utils/pattern/util.ts","../../../../src/utils/pattern/dot.ts","../../../../src/utils/pattern/line.ts","../../../../src/utils/pattern/square.ts","../../../../src/utils/pattern/index.ts","../../../src/adaptor/pattern.ts","../../../src/adaptor/common.ts","../../../src/core/global.ts","../../../src/core/locale.ts","../../../src/utils/tooltip.ts","../../../../src/adaptor/geometries/base.ts","../../../../src/adaptor/geometries/area.ts","../../../../src/adaptor/geometries/edge.ts","../../../../src/adaptor/geometries/interval.ts","../../../../src/adaptor/geometries/line.ts","../../../../src/adaptor/geometries/point.ts","../../../../src/adaptor/geometries/polygon.ts","../../../../src/adaptor/geometries/schema.ts","../../../src/core/plot.ts","../../../../src/utils/transform/percent.ts","../../../../src/plots/line/adaptor.ts","../../../../src/plots/area/adaptor.ts","../../../../src/plots/area/constants.ts","../../../../src/plots/area/index.ts","../../../../src/interactions/actions/reset-button.ts","../../../src/interactions/brush.ts","../../../src/adaptor/brush.ts","../../../src/adaptor/connected-area.ts","../../../src/utils/conversion.ts","../../../src/adaptor/conversion-tag.ts","../../../../src/plots/column/adaptor.ts","../../../../src/plots/bar/adaptor.ts","../../../../src/plots/bar/constants.ts","../../../../src/plots/bar/index.ts","../../../../src/plots/column/constants.ts","../../../../src/plots/column/index.ts","../../../../src/plots/funnel/constant.ts","../../../../../src/plots/funnel/geometries/common.ts","../../../../../src/plots/funnel/geometries/basic.ts","../../../../../src/plots/funnel/geometries/compare.ts","../../../../../src/plots/funnel/geometries/dynamic-height.ts","../../../../../src/plots/funnel/geometries/facet.ts","../../../../../src/plots/funnel/interactions/funnel-conversion-tag.ts","../../../../../src/plots/funnel/interactions/index.ts","../../../../src/plots/funnel/adaptor.ts","../../../../src/plots/funnel/index.ts","../../../../src/plots/gauge/constants.ts","../../../../src/plots/gauge/utils.ts","../../../../src/plots/gauge/adaptor.ts","../../../../../src/plots/gauge/shapes/indicator.ts","../../../../../src/plots/gauge/shapes/meter-gauge.ts","../../../../src/plots/gauge/index.ts","../../../../src/utils/transform/histogram.ts","../../../../src/plots/histogram/constant.ts","../../../../src/plots/histogram/adaptor.ts","../../../../src/plots/histogram/index.ts","../../../../src/plots/line/constants.ts","../../../../../src/plots/line/interactions/index.ts","../../../../../src/plots/line/interactions/marker-active.ts","../../../../src/plots/line/index.ts","../../../../src/plots/pie/contants.ts","../../../src/utils/matrix.ts","../../../../../../src/plots/pie/interactions/actions/legend-active.ts","../../../../../../src/plots/pie/interactions/actions/statistic-active.ts","../../../../../src/plots/pie/interactions/util.ts","../../../../src/plots/pie/utils.ts","../../../../src/plots/pie/adaptor.ts","../../../../../src/plots/pie/interactions/index.ts","../../../../src/plots/pie/index.ts","../../../../src/plots/progress/constants.ts","../../../../src/plots/progress/utils.ts","../../../../src/plots/progress/adaptor.ts","../../../../src/plots/progress/index.ts","../../../../src/plots/ring-progress/adaptor.ts","../../../../src/plots/ring-progress/constants.ts","../../../../src/plots/ring-progress/index.ts","../../../../src/plots/scatter/util.ts","../../../../src/plots/scatter/adaptor.ts","../../../../src/plots/scatter/constant.ts","../../../src/interactions/drag-move.ts","../../../../src/plots/scatter/index.ts","../../../../src/plots/stock/constant.ts","../../../../src/plots/stock/utils.ts","../../../../src/plots/stock/adaptor.ts","../../../../src/plots/stock/index.ts","../../../../src/plots/tiny-line/utils.ts","../../../../src/plots/tiny-line/constants.ts","../../../../src/plots/tiny-area/adaptor.ts","../../../../src/plots/tiny-area/constants.ts","../../../../src/plots/tiny-area/index.ts","../../../../src/plots/tiny-column/adaptor.ts","../../../../src/plots/tiny-column/constants.ts","../../../../src/plots/tiny-column/index.ts","../../../../src/plots/tiny-line/adaptor.ts","../../../../src/plots/tiny-line/index.ts","../../../../src/plots/mix/utils.ts","../../../../src/plots/mix/adaptor.ts","../../../../../src/plots/mix/interactions/association.ts","../../../../../src/plots/mix/interactions/utils.ts","../../../../src/plots/mix/index.ts","../../src/lab.ts","../../../../src/plots/bidirectional-bar/utils.ts","../../../../src/plots/bidirectional-bar/adaptor.ts","../../../../src/plots/bidirectional-bar/constant.ts","../../../../src/plots/bidirectional-bar/index.ts","../../../../src/plots/box/constant.ts","../../../../src/plots/box/utils.ts","../../../../src/plots/box/adaptor.ts","../../../../src/plots/box/index.ts","../../../../src/plots/bullet/utils.ts","../../../../src/plots/bullet/adaptor.ts","../../../../src/plots/bullet/constant.ts","../../../../src/utils/transform/chord.ts","../../../../src/plots/bullet/index.ts","../../../../src/plots/chord/constant.ts","../../../../src/plots/chord/adaptor.ts","../../../../src/plots/chord/index.ts","../../../../src/plots/circle-packing/constant.ts","../../../../src/interactions/actions/drill-down.ts","../node_modules/d3-hierarchy/src/pack/enclose.js","../node_modules/d3-hierarchy/src/array.js","../node_modules/d3-hierarchy/src/pack/siblings.js","../node_modules/d3-hierarchy/src/accessors.js","../node_modules/d3-hierarchy/src/constant.js","../node_modules/d3-hierarchy/src/pack/index.js","../node_modules/d3-hierarchy/src/hierarchy/count.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../node_modules/d3-hierarchy/src/hierarchy/iterator.js","../node_modules/d3-hierarchy/src/hierarchy/index.js","../node_modules/d3-hierarchy/src/hierarchy/each.js","../node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../node_modules/d3-hierarchy/src/hierarchy/find.js","../node_modules/d3-hierarchy/src/hierarchy/sum.js","../node_modules/d3-hierarchy/src/hierarchy/sort.js","../node_modules/d3-hierarchy/src/hierarchy/path.js","../node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../node_modules/d3-hierarchy/src/hierarchy/descendants.js","../node_modules/d3-hierarchy/src/hierarchy/leaves.js","../node_modules/d3-hierarchy/src/hierarchy/links.js","../../../../src/utils/hierarchy/util.ts","../../../../src/utils/hierarchy/pack.ts","../../../../src/plots/circle-packing/utils.ts","../../../../src/plots/circle-packing/adaptor.ts","../../../src/interactions/drill-down.ts","../../../../src/plots/circle-packing/index.ts","../../../../src/plots/dual-axes/types.ts","../../../../src/plots/dual-axes/constant.ts","../../../../../src/plots/dual-axes/util/option.ts","../../../../../src/plots/dual-axes/util/legend.ts","../../../../../src/plots/dual-axes/util/render-sider.ts","../../../../src/plots/dual-axes/adaptor.ts","../../../../../src/plots/dual-axes/util/geometry.ts","../../../../src/plots/dual-axes/index.ts","../../../../src/plots/facet/adaptor.ts","../../../../src/plots/facet/utils.ts","../../../../src/plots/facet/constant.ts","../../../../src/plots/facet/index.ts","../../../../src/plots/heatmap/adaptor.ts","../../../../src/plots/heatmap/constant.ts","../../../../../src/plots/heatmap/shapes/circle.ts","../../../../../src/plots/heatmap/shapes/square.ts","../../../../src/plots/heatmap/index.ts","../../../../src/plots/liquid/utils.ts","../../../../src/plots/liquid/adaptor.ts","../../../../src/plots/liquid/constants.ts","../../../../../src/plots/liquid/shapes/liquid.ts","../../../../src/plots/liquid/index.ts","../../../../src/plots/radar/adaptor.ts","../../../../../src/plots/radar/interactions/radar-tooltip-action.ts","../../../../../src/plots/radar/interactions/index.ts","../../../../src/plots/radar/index.ts","../../../../src/plots/radial-bar/utils.ts","../../../../src/plots/radial-bar/adaptor.ts","../../../../src/plots/radial-bar/constant.ts","../../../../src/plots/radial-bar/index.ts","../../../../src/plots/rose/adaptor.ts","../../../../src/plots/rose/constant.ts","../../../../src/plots/rose/index.ts","../../../../src/plots/sankey/circle.ts","../../../../../src/plots/sankey/sankey/align.ts","../../../../../src/plots/sankey/sankey/helper.ts","../../../../../src/plots/sankey/sankey/sankey.ts","../../../../src/plots/sankey/layout.ts","../../../../src/plots/sankey/helper.ts","../../../../src/plots/sankey/adaptor.ts","../../../../src/plots/sankey/constant.ts","../../../../../src/plots/sankey/interactions/node-draggable.ts","../../../../../../src/plots/sankey/interactions/actions/node-drag.ts","../../../../src/plots/sankey/index.ts","../../../../src/plots/sunburst/constant.ts","../node_modules/d3-hierarchy/src/treemap/round.js","../node_modules/d3-hierarchy/src/treemap/dice.js","../node_modules/d3-hierarchy/src/partition.js","../../../../src/utils/hierarchy/partition.ts","../node_modules/d3-hierarchy/src/cluster.js","../node_modules/d3-hierarchy/src/stratify.js","../node_modules/d3-hierarchy/src/tree.js","../node_modules/d3-hierarchy/src/treemap/slice.js","../node_modules/d3-hierarchy/src/treemap/squarify.js","../node_modules/d3-hierarchy/src/treemap/index.js","../node_modules/d3-hierarchy/src/treemap/binary.js","../node_modules/d3-hierarchy/src/treemap/sliceDice.js","../node_modules/d3-hierarchy/src/treemap/resquarify.js","../../../../src/utils/hierarchy/treemap.ts","../../../../src/plots/sunburst/utils.ts","../../../../src/plots/sunburst/adaptor.ts","../../../../src/plots/sunburst/index.ts","../../../../src/plots/treemap/utils.ts","../../../../src/plots/treemap/adaptor.ts","../../../../src/plots/treemap/constant.ts","../../../../src/plots/venn/constant.ts","../../../../src/plots/treemap/index.ts","../../../../../src/plots/venn/interactions/util.ts","../../../../../../src/plots/venn/interactions/actions/active.ts","../../../../../../src/plots/venn/interactions/actions/highlight.ts","../../../../../../src/plots/venn/interactions/actions/selected.ts","../../../../../src/plots/venn/interactions/index.ts","../../../../src/plots/venn/label.ts","../node_modules/lodash-es/isArray.js","../node_modules/lodash-es/_Symbol.js","../node_modules/lodash-es/_getRawTag.js","../node_modules/lodash-es/_objectToString.js","../node_modules/lodash-es/_baseGetTag.js","../node_modules/lodash-es/isObjectLike.js","../node_modules/lodash-es/_createBaseFor.js","../node_modules/lodash-es/_baseFor.js","../node_modules/lodash-es/_baseTimes.js","../node_modules/lodash-es/_baseIsArguments.js","../node_modules/lodash-es/isArguments.js","../node_modules/lodash-es/_isIndex.js","../node_modules/lodash-es/isLength.js","../node_modules/lodash-es/_baseIsTypedArray.js","../node_modules/lodash-es/_baseUnary.js","../node_modules/lodash-es/isTypedArray.js","../node_modules/lodash-es/_arrayLikeKeys.js","../node_modules/lodash-es/_isPrototype.js","../node_modules/lodash-es/_overArg.js","../node_modules/lodash-es/_nativeKeys.js","../node_modules/lodash-es/_baseKeys.js","../node_modules/lodash-es/isObject.js","../node_modules/lodash-es/isFunction.js","../node_modules/lodash-es/isArrayLike.js","../node_modules/lodash-es/keys.js","../node_modules/lodash-es/_listCacheClear.js","../node_modules/lodash-es/eq.js","../node_modules/lodash-es/_assocIndexOf.js","../node_modules/lodash-es/_listCacheDelete.js","../node_modules/lodash-es/_listCacheGet.js","../node_modules/lodash-es/_listCacheHas.js","../node_modules/lodash-es/_listCacheSet.js","../node_modules/lodash-es/_ListCache.js","../node_modules/lodash-es/_stackClear.js","../node_modules/lodash-es/_stackDelete.js","../node_modules/lodash-es/_stackGet.js","../node_modules/lodash-es/_stackHas.js","../node_modules/lodash-es/_coreJsData.js","../node_modules/lodash-es/_isMasked.js","../node_modules/lodash-es/_toSource.js","../node_modules/lodash-es/_baseIsNative.js","../node_modules/lodash-es/_getValue.js","../node_modules/lodash-es/_getNative.js","../node_modules/lodash-es/_Map.js","../node_modules/lodash-es/_nativeCreate.js","../node_modules/lodash-es/_hashClear.js","../node_modules/lodash-es/_hashDelete.js","../node_modules/lodash-es/_hashGet.js","../node_modules/lodash-es/_hashHas.js","../node_modules/lodash-es/_hashSet.js","../node_modules/lodash-es/_Hash.js","../node_modules/lodash-es/_mapCacheClear.js","../node_modules/lodash-es/_isKeyable.js","../node_modules/lodash-es/_getMapData.js","../node_modules/lodash-es/_mapCacheDelete.js","../node_modules/lodash-es/_mapCacheGet.js","../node_modules/lodash-es/_mapCacheHas.js","../node_modules/lodash-es/_mapCacheSet.js","../node_modules/lodash-es/_MapCache.js","../node_modules/lodash-es/_stackSet.js","../node_modules/lodash-es/_Stack.js","../node_modules/lodash-es/_setCacheAdd.js","../node_modules/lodash-es/_setCacheHas.js","../node_modules/lodash-es/_SetCache.js","../node_modules/lodash-es/_Uint8Array.js","../node_modules/lodash-es/_setToArray.js","../node_modules/lodash-es/_equalByTag.js","../node_modules/lodash-es/_getSymbols.js","../node_modules/lodash-es/_equalObjects.js","../node_modules/lodash-es/_DataView.js","../node_modules/lodash-es/_Promise.js","../node_modules/lodash-es/_Set.js","../node_modules/lodash-es/_WeakMap.js","../node_modules/lodash-es/_getTag.js","../node_modules/lodash-es/_baseIsEqualDeep.js","../../../../src/plots/venn/shape.ts","../../../../src/utils/color/blend.ts","../../../../../src/plots/venn/layout/circleintersection.ts","../../../../../src/plots/venn/layout/diagram.ts","../../../../../src/plots/venn/layout/layout.ts","../../../../src/plots/venn/utils.ts","../../../../src/plots/venn/adaptor.ts","../../../../src/plots/venn/index.ts","../../../../src/plots/violin/constant.ts","../../../../src/utils/transform/quantile.ts","../../../../src/plots/violin/utils.ts","../../../../src/plots/violin/adaptor.ts","../../../../src/adaptor/geometries/violin.ts","../../../../src/plots/violin/index.ts","../../../../src/plots/waterfall/constant.ts","../../../../src/plots/waterfall/utils.ts","../../../../src/plots/waterfall/adaptor.ts","../../../../src/plots/waterfall/shape.ts","../../../../src/plots/waterfall/index.ts","../../../../src/plots/word-cloud/constant.ts","../../../../src/utils/transform/word-cloud.ts","../../../../src/plots/word-cloud/utils.ts","../../../../src/plots/word-cloud/adaptor.ts","../../../../../src/plots/word-cloud/shapes/word-cloud.ts","../../../../src/plots/word-cloud/index.ts","../../../src/plugin/index.ts","../../../src/locales/en_US.ts","../../../src/locales/zh_CN.ts","../node_modules/@ant-design/plots/es/utils/render.js","../node_modules/@ant-design/plots/es/utils/createNode.js","../node_modules/@ant-design/plots/es/utils/utils.js","../node_modules/@ant-design/plots/es/hooks/useChart.js","../node_modules/@ant-design/plots/es/utils/getChart.js","../node_modules/@ant-design/plots/es/errorBoundary/index.js","../../src/shared/uid.ts","../../src/web/Svg.tsx","../../src/web/ContentLoader.tsx","../../src/web/presets/FacebookStyle.tsx","../node_modules/@ant-design/plots/es/utils/createLoading.js","../node_modules/@ant-design/plots/es/components/column/index.js"],"names":["isArrayLike","value","isFinite","length","contains","arr","indexOf","filter","func","result","index","push","difference","values","toString","isType","type","call","isNil","undefined","Array","isArray","each","elements","i","len","isObject","k","hasOwnProperty","keys","Object","obj","key","isFunction","isMatch","attrs","_keys","isObjectLike","isPlainObject","getPrototypeOf","proto","find","predicate","_predicate","a","findIndex","fromIndex","firstValue","data","name","rst","flatten","concat","reduce","prev","curr","Math","max","min","getRange","filterValues","v","isNaN","tmp","getMax","getMin","arrPrototype","prototype","splice","pullAt","indexes","last","previous","fn","init","remove","str","sortBy","comparer","b","keys_1","isString","prop","sort","uniq","cache","Map","r","item","has","set","tmpMap","j","val","head","o","endsWith","every","some","groupBy","condition","groupToMap","paramscondition_1","replace","split","row","unique","l","groups","array","parseRadius","clamp","fixedBase","base","round","substr","parseFloat","toFixed","isNumber","Number","isInteger","isNumberEqual","precision","abs","maxItem","Infinity","minItem","mod","n","m","RADIAN","PI","parseInt","toRadian","degree","lowerCase","toLowerCase","substitute","match","charAt","slice","upperFirst","toUpperCase","substring","getType","isBoolean","isDate","isNull","objectProto","isPrototype","Ctor","constructor","isUndefined","isElement","Element","HTMLDocument","requestAnimationFrame","window","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","f","setTimeout","cancelAnimationFrame","handler","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","_mix","dist","mix","src1","src2","src3","clone","debounce","wait","immediate","timeout","context","args","arguments","later","apply","callNow","resolver","TypeError","memoized","_i","get","_deepMix","src","level","maxLevel","deepMix","isEmpty","size","isEqual","other","valueKeys","otherKeys","map","identity","object","forEach","defaultValue","p","keyArr","path","idx","includes","options","leading","Date","now","throttled","remaining","trailing","cancel","prefix","isArraylike","ctx","memoize","text","font","fontSize","fontFamily","fontWeight","fontStyle","fontVariant","document","createElement","getContext","join","measureText","width","__spreadArrays","maxWidth","currentText","currentWidth","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","default_1","def","clear","delete","extendStatics","d","setPrototypeOf","__proto__","__extends","String","__","this","create","__assign","assign","t","s","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","body","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","op","pop","__values","__read","ar","error","il","jl","__spreadArray","to","from","pack","out","glMatrix","Float32Array","fromMat4","copy","fromValues","m00","m01","m02","m10","m11","m12","m20","m21","m22","transpose","a01","a02","a12","invert","a00","a10","a11","a20","a21","a22","b01","b11","b21","det","adjoint","determinant","multiply","b00","b02","b10","b12","b20","b22","translate","x","rotate","rad","sin","c","cos","scale","fromTranslation","fromRotation","fromScaling","fromMat2d","fromQuat","q","z","w","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","height","frob","hypot","add","subtract","multiplyScalar","multiplyScalarAndAdd","exactEquals","equals","a0","a1","a2","a3","a4","a5","a6","a7","a8","b0","b1","b2","b3","b4","b5","b6","b7","b8","mul","sub","version","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","GroupComponent","_super","getDefaultCfg","cfg","container","shapesMap","group","capture","isRegister","isUpdating","isInit","clearOffScreenCache","getChildComponentById","id","getElementById","getElementByLocalId","localId","getElementId","getElementsByName","elem","getContainer","updateInner","offScreenRender","render","offScreenGroup","updateElements","deleteElements","applyOffset","initEvent","show","hide","setCapture","destroy","removeEvent","getBBox","getCanvasBBox","getLayoutBBox","bbox","getInnerLayoutBBox","matrix","getTotalMatrix","applyMatrix2BBox","on","evt","callback","once","off","emit","eventName","eventObject","initGroup","delegateEmit","target","propagationDelegate","createOffScreenGroup","getGroupBase","delegateObject","getDelegateObject","offsetX","offsetY","moveElementTo","addGroup","visible","isComponent","component","renderInner","getBBoxWithClip","parent","appendDelegateObject","registerElement","addShape","shape","addComponent","restCfg","inst","updateAutoRender","element","unregisterElement","point","getMatrixByTranslate","attr","addAnimation","elmentName","newElement","animateCfg","originOpacity","animate","opacity","removeAnimation","elementName","originElement","updateAnimation","newAttrs","newGroup","originGroup","preElement","_this","animateOption","children","getChildren","elementId","childComponent","origChildComponent","newCfg","pick","update","replaceAttrs","getReplaceAttrs","isGroup","updateClip","siblings","unshift","registerNewGroup","appear","enter","clearUpdateStatus","el","_a","parentObject","originAttrs","deleteArray","destroyed","leave","callbackAnimCfg","removeElement","Component","leftTranslate","transMat","mat3","leftRotate","rotateMat","leftScale","scaleMat","transform","actions","action","direction","v1","v2","angleTo","direct","ang","vec2","angle","angleLargeThanPI","vertical","flag","formatPadding","padding","top","left","right","bottom","clearDom","childNodes","removeChild","hasClass","cName","className","RegExp","regionToBBox","region","start","end","minX","minY","maxX","maxY","pointsToBBox","points","xs","ys","createBBox","getValueByPercent","percent","getCirclePoint","center","radius","near","pow","EPSILON","clipShape","getClip","clipBBox","minX_1","maxX_1","minY_1","maxY_1","child","box","leftTop","applyToMatrix","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","box1","box2","intersectBBox","newClipShape","clipCfg","setClip","toPx","number","getTextPoint","position","offset","offsetPercent","p1","p2","dx","dy","sqrt","distance","getPixelRatio","devicePixelRatio","x1","y1","inBox","intersectRect","mergeRegion","region1","region2","isSamePoint","point1","point2","SHAPE_TO_TAGS","rect","circle","line","marker","polyline","polygon","image","ellipse","dom","SVG_ATTR_MAP","fillStyle","fill","fillOpacity","strokeStyle","strokeOpacity","stroke","rx","ry","lineCap","lineJoin","lineWidth","lineDash","lineDashOffset","miterLimit","startArrow","endArrow","class","style","preserveAspectRatio","textColor","activeTextColor","uncheckedColor","lineColor","regionColor","verticalAxisRotate","horizontalAxisRotate","descriptionIconStroke","descriptionIconFill","getBBoxByArray","xArr","yArr","getBBoxRange","piMod","pointAt","pointDistance","cross","pointToLine","u","tangentAngle","atan2","nearestPoint","tCallback","v0","segNum","increaseRate","interval","_t","d1","count","d2","quadraticAt","p0","onet","extrema","derivativeAt","divideQuadratic","x3","y3","xt","yt","controlPoint1","controlPoint2","xExtrema","yExtrema","quadraticLength","iterationCount","quadratics","x0","y0","interpolationAt","divide","cubicAt","p3","t1","t2","discSqrt","extremas","disc","divideCubic","x4","y4","c1","c2","c3","c12","c23","cubicLength","totalLength","snapLength","cubics","copysign","absv","nearestX","nearestY","relativeX","relativeY","px","py","squareA","squareB","ex","ey","rx1","ry1","qx","qy","asin","xAt","cx","cy","xRotation","yAt","getPoint","startAngle","endAngle","xDim","atan","tan","xAngle","yDim","yAngle","relativeVector","relativePoint","getAngle","vector","derivativeXAt","derivativeYAt","analyzePoints","segments","length_1","seg","lengthOfSegment","pointAtSegments","startRatio","currentRatio","localRatio","angleAtSegments","distanceAtSegment","minDistance","nextPoint","distance_1","createSVGElement","createElementNS","createDom","getParent","Error","parentNode","appendChild","sortDom","sorter","childList","toArray","fragment","createDocumentFragment","moveTo","targetIndex","node","nodeType","nodeName","currentIndex","insertBefore","targetNext","identityMatrix","getMatrixByAngle","ext","currentMatrix","getAngleByMatrix","vec3","transformMat3","multiplyVec2","topLeft","topRight","bottomLeft","bottomRight","applyRotate","getMatrix","setMatrix","applyTranslate","translateMatrix","freeSelf","self","root","freeGlobal","Function","removeFromArray","isBrowser","isParent","isCanvas","isAllowCapture","Adjust","xField","yField","adjustNames","dimValuesMap","isAdjust","dim","getAdjustRange","dimValue","pre","adjustData","groupedDataArray","mergedData","getDimValues","dataArray","adjustDim","groupData","record","DEFAULT_Y","dims","addEventListener","eventType","removeEventListener","attachEvent","detachEvent","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","tr","tbody","thead","tfoot","td","th","test","$1","innerHTML","getStyle","getComputedStyle","getOuterHeight","offsetHeight","getHeight","bTop","pTop","pBottom","getOuterWidth","offsetWidth","getWidth","bLeft","pLeft","pRight","bRight","mRight","modifyCSS","css","methodCache","registerTickMethod","method","Scale","isCategory","isLinear","isContinuous","isIdentity","range","ticks","__cfg__","initCfg","change","getTicks","tick","getText","tickValue","formatter","res","getConfig","setDomain","calculateTicks","tickMethod","rangeMin","rangeMax","calcPercent","NaN","calcValue","Category","buildIndexMap","translateIndexMap","order","scaledValue","domainRange","Base","token","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","origObj","args_1","dayNames","monthNames","monthNamesShort","defaultI18n","dayNamesShort","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","h","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","floor","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","cent","globalMasks","default","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","format","mask","getTime","literals","$0","combinedI18nSettings","shift","parse","dateStr","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","info","field","regex","requiredField","matches","dateTZ","parser","validateFields","UTC","timeFormat","time","fecha1","fecha","toTimeStamp","HOUR","DAY","MONTH","intervals","SECOND","MINUTE","getTickInterval","tickCount","getter","_lo","_hi","lo","hi","mid","TimeCat","tickIndex","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","nice","getInvertPercent","Linear","calBase","E","log","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","exponent","factor","Time","numberValue","minConfig","maxConfig","timeStamps_1","min_1","secondMin_1","max_1","timeStamp","minTickInterval","Quantize","minIndex","minTick","minIndexPercent","Quantile","getClass","registerClass","cls","Identity","calculateCatTicks","tickInterval","showLast","ticks_1","lastValue","e10","e5","e2","D3Linear","_domain","domain","i0","i1","stop","_b","tickIncrement","ceil","reverse","d3ArrayTicks","power","LN10","snapMultiple","snapType","intervalTicks","maxTick","availableInterval","strictLimit","defaultMin","defaultMax","tickMin","tickMax","prettyNumber","DEFAULT_Q","eps","simplicity","Q","lmin","lmax","lstep","simplicityMax","density","dMin","dMax","lMin","lMax","rt","densityMax","coverage","coverageMax","span","half","extended","onlyLoose","step_1","best","score","sm","dm","delta","log10","cm","minStart","maxStart","i_1","lStep","pretty","unit","nu","ns","quantileSorted","getYear","date","createYear","creatMonth","cat","catTicks","ratio","minYear","maxYear","yearInterval","monthInterval","mmMoth","dMonths","minMonth","diffMonth","mday","ddays","diffDay","hours","dHours","diffHour","dMinus","diffMinus","minSecond","dSeconds","seconds","console","warn","avg","sorted","linear","d3Linear","registerScale","ARRAY_TYPE","RANDOM","random","multiplyMatrix","registerAdjust","Dodge","Jitter","Stack","Symmetric","RGB_REG","regexLG","regexRG","regexColorStop","getValue","arr2rgb","toHex","iEl","rgb2arr","x16Value","toRGB","color","title","display","createTmp","defaultView","getPropertyValue","exec","gradient","colors","colorArray","fixedPercent","steps","calColor","toCSSGradient","gradientColor","cssColor_1","colorStops_1","itemArr","HtmlComponent","containerTpl","containerClassName","pointerEvents","clientWidth","clientHeight","removeDom","initContainer","initDom","resetStyles","applyStyles","initCapture","initVisible","parent_1","setAttribute","defaultStyles","domStyles","applyChildrenStyles","containerCss","styles","getElementsByClassName","applyStyle","cssName","hasKey","resetPosition","SHAPE_ATTRS_MAP","applyAttrsToContext","name_1","setLineDash","parseStyle","globalAlpha","drawChildren","draw","skipDraw","checkRefresh","canvas","refreshElements","refresh","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","clearChanged","cacheCanvasBBox","isInView","drawPath","arcParamsCache","currentPoint","startMovePoint","beginPath","params","command","tangent","getStartTangent","ArrowUtil","getEndTangent","lineTo","quadraticCurveTo","bezierCurveTo","arcParams","getArcParams","sweepFlag","scaleX","scaleY","arc","closePath","refreshElement","changeType","_cacheCanvasBBox","getMergedRegion","minXArr","minYArr","maxXArr","maxYArr","cacheBox","validCache","validBBox","getRefreshRegion","mergeView","viewRegion","setShadow","model","shadowOffsetX","shadowOffsetY","blur","shadowBlur","shadowColor","addShadow","removeAttribute","setTransform","clip","hasAttribute","createPath","addClip","ShapeBase","getDefaultAttrs","lineAppendWidth","getShapeBase","Shape","Group","onCanvasChange","calculateBBox","getHitLineWidth","getBBoxMethod","bboxMethod","halfLineWidth","isFill","isClipShape","isStroke","_applyClip","save","restore","_afterDraw","getCanvasViewBox","getViewRange","canvasBBox","strokeAndFill","afterDrawPath","isInShape","refX","refY","isInStrokeOrPath","AbstractShape","Circle","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","HTMLElement","ImageShape","initAttrs","_setImage","img","isOnlyHitBox","_afterLoading","image_1","Image","onload","crossOrigin","getAttribute","onAttrChange","originValue","sx","sy","swidth","sheight","drawImage","inLine","halfWidth","LineUtil","Line","setArrow","startArrowDistance","endArrowDistance","startArrowShape","endArrowShape","getTotalLength","regexTags","regexDot","parsePath","tag","SPACES","PATH_COMMAND","PATH_VALUES","REGEX_MD","toSymmetry","pathToAbsolute","pathString","pathArray","paramCounts","parsePathString","needProcess","cmd","mx","my","first","ii","pa","preParams","upCmd","jj","symetricT","symetricS","vMag","vRatio","vAngle","acos","startPoint","arcFlag","xp","yp","lambda","diff","cxp","cyp","theta","dTheta","Symbols","square","diamond","triangle","diffY","Marker","_resetParamsCache","_getR","_getPath","symbol","path2Absolute","paramsCache","isPointInPath","getOffScreenContext","dcmp","onSegment","isInPolygon","isHit","hasArc","extractPolygons","polygons","polylines","isPointInStroke","segment","prePoint","QuadUtil","CubicUtil","inArc","PathUtil","isInPolygons","Path","_setPathArr","getSegments","nextParams","lastStartMovePointIndex","startTangent","endTangent","cp","preSegment","cp1","cp2","_c","_d","_e","_f","_g","_h","dx1","dy1","dx2","dy2","path2Segments","extractResutl","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","pathToCurve","segmentT","segmentL","segmentN","tempLength","endPoint","inPolyline","isClose","Polygon","PolyLine","_resetCache","PolylineUtil","Rect","inRectWithRadius","inRect","r1","r2","r3","r4","Text","textAlign","textBaseline","_assembleFont","_setText","assembleFont","textArr","startsWith","_getSpaceingY","lineHeight","_drawTextArr","subY","spaceingY","getTextHeight","subText","fillText","strokeText","_drawText","charAtLength","charCodeAt","getMaxLabelWidth","labels","texts","maxLen","maxIdx","code","getMaxLabelWidthOptimized","ellipsisLabel","isVertical","limitLength","ellipsisText","getEllipsisText","labelLength","getLabelLength","codeLength","strLen","ellipsisFlag","reserveLength","newText","reseveLength","startStr","endStr","startIndex","endIndex","startCodeLen","hasAdd","endCodeLen","ellipsisString","lineCount","getLineSpaceing","getTextWidth","measureWidth","trim","LOCATION_FIELD_MAP","none","locationType","duration","easing","events","defaultCfg","afterUpdate","getLocationType","getOffset","setOffset","setLocation","location","getLocation","fields","isList","isSlider","CONTAINER_CLASS","TITLE_CLASS","LIST_CLASS","LIST_ITEM_CLASS","MARKER_CLASS","VALUE_CLASS","NAME_CLASS","CROSSHAIR_X","CROSSHAIR_Y","_addDefaultArrow","isStart","arrowShape","isArrowShape","rotateAtPoint","_addCustomizedArrow","arrowAttrs","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","viewRange","allowDraw","AbstractGroup","isEntityGroup","afterAttrsChange","targetAttrs","canFill","canStroke","shadow","_setColor","addGradient","addPattern","getBoundingClientRect","clientX","clientY","elementFromPoint","isEqualNode","Dom","setAttr","toDataURL","ImageData","putImageData","addArrow","getDefaultArrow","triangleDown","register","getAll","_assembleMarker","symbolsFactory","_formatPath","newValue","getPointAtLength","Polyline","completed","pathRelatedAttrs","_assembleRect","BASELINE_MAP","middle","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","_setFont","browser","detect","baseline","textLen_1","arr_1","EventEmitter","_events","wildcardEvents","doEmit","es","getEvents","catmullRomToBezier","crp","iLen","ellipsePath","pa0","dots","crz","kk","l2c","q2c","ax","ay","a2c","large_arc_flag","sweep_flag","recursive","xy","f1","f2","_120","rx2","ry2","df","f2old","x2old","y2old","s1","s2","hx","hy","m1","m2","m3","m4","newres","path2","bx","by","X","Y","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","fixArc","pp","pi","fixM","path1","seg2","seglen","seg2len","p2s","parsePathArray","base3","p4","bezlen","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","curveDim","tvalues","bounds","b2ac","sqrtb2ac","mt","jlen","intersect","denominator","px2","py2","isPointInsideBBox","rectPath","r0","vb","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","t3","alpha","interHelper","bez1","bez2","justCount","bbox1","bbox2","isBBoxIntersect","n1","n2","dots1","dots2","di","di1","dj","dj1","ci","cj","is","intersection","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","interPathHelper","decasteljau","recurse","middlePoints","splitSegment","leftSegments","splitCurve","temp","fillPath","source","sourceLen","targetLen","segmentsToFill","filled","obj1","obj2","getMinDiff","del","modify","fillPathByDiff","diffMatrix","sourceSegment","targetSegment","levenshteinDistance","changes","minPos","_splitPoints","former","formerEnd","_getSegmentPoints","formatPath","fromPath","toPath","GraphEvent","event","bubbles","currentTarget","delegateTarget","defaultPrevented","propagationStopped","fromShape","toShape","propagationPath","originalEvent","preventDefault","stopPropagation","EE","scaleAndAdd","squaredDistance","squaredLength","negate","inverse","normalize","dot","lerp","transformMat2","transformMat2d","transformMat4","sinC","cosC","mag","cosine","zero","div","sqrDist","sqrLen","vec","stride","arg","az","bz","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","rotateX","rotateY","rotateZ","offScreenCtx","ADJUST_MAP","getAdjust","ctor","MARGIN_RATIO","DODGE_RATIO","GAP","emitDelegation","parentChildren","clipPathEl","defsEl","children_1","getMethod","mergeBBox","mergeArrowBBox","getExtraFromSegmentWithAngle","currentAndPre","currentAndNext","preAndNext","currentAngle","xExtra","yExtra","Util","segmentsWithAngle","EllipseArcUtil","getPathBox","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","custom","polyOut","polyInOut","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","bounceIn","bounceOut","bounceInOut","backIn","overshoot","backOut","backInOut","tau","elasticIn","amplitude","period","elasticOut","elasticInOut","EASING_MAP","getEasing","d3Ease","registerEasing","easeFn","SHAPE_MAP","Container","childMinX","childMaxX","childMinY","childMaxY","totalMatrix","_applyChildrenMarix","applyMatrix","preTotalMatrix","shapeType","groupClass","tmpCfg","TmpGroupClass","getCanvas","getShape","ev","_findShape","invertFromMatrix","isClipped","timeline","preParent","setCanvas","setTimeline","_applyElementMatrix","compare","getFirst","getChildByIndex","getLast","getCount","contain","findAll","findById","findByClassName","findAllByName","CLONE_CFGS","RESERVED_PORPS","getFormatFromAttrs","toAttrs","fromAttrs","getFormatToAttrs","props","checkExistedAttrs","animations","animation","onFrame","startTime","delay","initAnimate","zIndex","getDefaultMatrix","applyTo","setZIndex","toFront","toBack","resetMatrix","parentMatrix","invertMatrix","Cons","_cloneArrayAttr","cons","cfgName","isAnimatePaused","isPaused","timer","initTimer","repeat","pauseCallback","resumeCallback","noop","formatToAttrs","uniqueId","pathFormatted","addAnimator","stopAnimate","toEnd","pauseAnimate","pauseTime","_paused","_pauseTime","resumeAnimate","current","eventObj","relativeShape","paths","subName","emitDelegateEvent","this_1","translateX","translateY","newMatrix","move","targetX","targetY","ratioX","ratioY","radian","rotateAtStart","BrowserInfo","os","NodeInfo","process","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","userAgent","parseUserAgent","navigator","product","matchUserAgent","ua","matched","uaMatch","matchedRule","versionParts","output","createVersionParts","detectOS","searchBotMatch","_isInBBox","clearCacheBBox","calculateCanvasBBox","shadowLeft","shadowRight","shadowTop","shadowBottom","inBBox","getStatesStyle","stateStyles","styleName","state","regexPR","addStop","addColorStop","gradientStr","tanTheta","tanTheta2","createLinearGradient","parseLineGradient","fx","fy","fr","createRadialGradient","parseRadialGradient","patternStr","pattern","createPattern","complete","parsePattern","CanvasPattern","defineProperty","exports","_len","_key","SensorTabIndex","SensorClassName","SizeSensorId","global","freeExports","freeModule","module","Buffer","isBuffer","stubFalse","originalModule","webpackPolyfill","enumerable","zeros","ret","norm2","weightedSum","w1","wolfeLineSearch","pk","phi0","phiPrime0","fxprime","phi","phi_old","phiPrime","zoom","a_lo","a_high","phi_lo","iteration","bisect","parameters","maxIterations","tolerance","fA","fB","fMid","nelderMead","maxDiff","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","chi","psi","sigma","N","simplex","updateSimplex","sortOrder","centroid","reflected","contracted","expanded","history","sortedSimplex","worst","shouldReduce","conjugateGradient","initial","yk","delta_k","gradientDescent","learnRate","gradientDescentLineSearch","functionCalls","inner","zerosM","factory","BACKGROUND_STYLE","LINE_STYLE","AREA_STYLE","catmullRom2Bezier","constraint","isLoop","pointList","controlPointList","smooth","prevPoint","nextCp0","cp0","cps","hasConstraint","d0","smoothBezier","getLinePath","pointsToPath","dataToPath","getSmoothLinePath","linePathToAreaPath","areaPath","lineYPx","lineY","getAreaLineY","Trend","isArea","backgroundStyle","lineStyle","areaStyle","DEFAULT_HANDLER_STYLE","cursor","highLightFill","Handler","bindEvents","FOREGROUND_STYLE","HANDLER_STYLE","TEXT_STYLE","Slider","onMouseDown","prevX","pageX","prevY","pageY","containerDOM","getContainerDOM","onMouseMove","onMouseUp","offsetXRange","adjustOffsetRange","updateStartEnd","updateUI","setRange","oldStart","oldEnd","newStart","newEnd","setValue","foregroundStyle","handlerStyle","textStyle","validCfg","minHandler","maxHandler","trend","trendCfg","minText","maxText","silent","handlerWidth","handlerHeight","foregroundShape","minTextShape","maxTextShape","_dodgeText","minAttrs","maxAttrs","foreground","offsetRange","minBBox","maxBBox","taskHead","taskTail","frame","clockLast","clockNow","clockSkew","clock","performance","setFrame","bind","clearNow","Timer","_call","_time","_next","restart","wake","timerFlush","t0","sleep","nap","poke","clearInterval","setInterval","extend","definition","Color","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","rgbn","Rgb","rgba","hsla","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","basis","v3","define","channels","displayable","formatHsl","brighter","darker","gamma","nogamma","exponential","constant","rgbGamma","colorRgb","rgbSpline","spline","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","setTime","reA","reB","am","bm","bs","bi","lastIndex","one","string","numberArray","valueOf","IDENTITY_MATRIX","elapsed","cProps","interf","toPathPoint","fromPathPoint","cPathPoint","interpolate","_update","Timeline","animators","d3Timer","removeAnimator","isAnimating","stopAllAnimations","animator","EVENTS","emitTargetEvent","bubbleEvent","isOverEvent","EventController","draggingShape","dragging","currentShape","mousedownShape","mousedownPoint","_eventCallback","_triggerEvent","_onDocumentMove","pointInfo","_getPointInfo","_emitEvent","_onDocumentMouseUp","_afterDrag","_bindEvents","_clearEvents","_getEventObj","_getShape","clientPoint","getClientByEvent","getPointByEvent","leaveCanvas","preShape","_onmousedown","button","mousedownTimeStamp","_emitMouseoverEvents","_emitDragoverEvents","isCanvasEmit","_onmouseup","_ondragover","_onmousemove","timeWindow","isFirefox","Canvas","initEvents","initTimeline","setDOMSize","eventController","changeSize","getRenderer","getCursor","setCursor","layerX","layerY","getPointByClient","clientInfo","touches","changedTouches","getClientByPoint","clearEvents","renderTag","tagCfg","content","maxLength","autoEllipsis","ellipsisPosition","background","tagGroup","maxTextLength","LineAnnotation","Theme","autoRotate","renderLine","renderLabel","getLabelPoint","TextAnnotation","resetLocation","textGroup","ArcAnnotation","renderArc","getArcPath","largeFlag","middlePoint","RegionAnnotation","renderRegion","ImageAnnotation","renderImage","getImageAttrs","DataMarkerAnnotation","autoAdjust","coordinateBBox","renderText","renderPoint","getShapeAttrs","textAttrs","isVertival","lineLength","textShape","lineShape","xFactor","yFactor","overflow","lineDisplay","pointStyle","DataRegionAnnotation","regionStyle","RegionFilterAnnotation","layer","shapeIdx","adjustShapeAttrs","ShapeAnnotation","HtmlAnnotation","alignX","alignY","html","domWidth","domHeight","AxisBase","tickLine","subTickLine","verticalFactor","verticalLimitLength","overlapOrder","tickStates","optimize","alignTick","displayWithLabel","autoHide","spacing","iconStyle","description","active","labelStyle","tickLineStyle","inactive","enable","threshold","theme","drawLine","drawTicks","drawTitle","getItems","setItems","items","updateItem","clearItems","itemGroup","setItemState","updateTickStates","hasState","getItemStates","clearItemsState","getItemsByState","getSidePoint","getSideVector","getTextAnchor","align","getTextBaseline","processOverlap","labelGroup","getTickLineItems","tickLineItems","tickLineLength","tickSegment","getTickPoint","tickId","getSubTickLineItems","subTickLineItems","subCount","tickLineCount","getTickLineAttrs","tickItem","tickItems","defaultTickLineStyle","drawTick","tickLineGroup","drawTickLines","tickCfg","labelId","subTickLineItems_1","processTicks","optimizeTicks","drawLabels","applyTickStates","page_1","optimizedTicks","getLabelAttrs","labelCfg","defaultLabelStyle","afterProcessTicks_1","newStyle","getTitleAttrs","titleCfg","titleHeight","titlePoint","getAxisVector","titleAttrs","titleShape","drawDescriptionIcon","descriptionShape","startX","startY","x5","y5","x6","y6","_j","x7","y7","labelShape","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","states","tickLineCfg","ellipseLabels","getDefault","ellipsisTail","ellipsisHead","ellipsisMiddle","getRotateAngle","isRotate","isOverlap","minGap","overlap","prevBBox","reserveOne","labelsGroup","reversed","autoHideCfg","hasHide","parityHide","firstBBox","equidistance","reserveFirst","reserveLast","reserveBoth","preLabel","equidistanceWithReverseBoth","labelRotate","setLabelsAngle","fixedAngle","customRotate","unfixedAngle","isHorizontal","regionX","regionY","axisVector","normal","verticalVector","labelOffset","titleSpacing","canProcessOverlap","autoProcessOverlap","hasAdjusted","util","OverlapUtil","overlapCfg","verticalFactor_1","newAlign","large","sweep","vecLen","stops","Gradient","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","Shadow","_parseShadow","config","Arrow","_setDefaultPath","_setMarker","Clip","shapeEl","Pattern","Defs","defaultArrow","arrow","autoDraw","renderer","srcElement","tagName","AbstractCanvas","CrosshairBase","textBackground","renderBackground","textPoint","textId","textBBox","LineCrosshair","backgroundColor","HtmlCrosshair","crosshairTpl","textTpl","HtmlTheme","resetText","initCrossHair","crosshairEl","textEl","alignText","GridBase","alternateColor","closed","getLineType","drawGrid","getAlternatePath","prePoints","regionPath","getGridPath","reversePoints","nextPath","getPathStyle","preItem","lineId","gridPath","regionId","isEven","drawAlternateRegion","lineType","firstPoint","radius_1","sweepFlag_1","LegendBase","layout","maxHeight","getDrawPoint","setDrawPoint","resetDraw","drawLegendContent","drawBackground","DEFAULT_PAGE_NAVIGATOR","inactiveFill","inactiveOpacity","ROTATE_MAP","up","down","currentPageIndex","totalPagesCnt","pageWidth","pageHeight","onNavigationBack","updateNavigation","getCurrentNavigationMatrix","onNavigationAfter","itemSpacing","itemMarginBottom","maxItemWidth","itemWidth","itemHeight","itemName","itemValue","radio","itemStates","itemBackground","pageNavigator","alignRight","nameStyle","unchecked","markerStyle","itemElement","offsetGroup","drawItem","getItemHeight","processItems","drawItems","itemContainerGroup","wrapped","subGroup","adjustNavigation","style_1","items_1","drawMarker","markerCfg","markerAttrs","drawItemText","textName","xPosition","drawRadio","radioCfg","showRadio","radioShape","tip","groupId","subContainer","getLimitItemWidth","curX","markerShape","itemMarkerSpacing","nameShape","valueShape","applyItemStates","subGroups","navigation","drawNavigation","navigationBBox","pages","widthLimit","maxRow","maxRowHeight_1","navigationX_1","shouldWrap","cntPerPage_1","styleCfg","arrowStyle","leftArrow","drawArrow","leftArrowBBox","rightArrow","cursorX","updateArrowPath","itemStates_1","elName","statesStyle","ContinueLegend","track","rail","slidable","defaultLength","getCurrentValue","resetTrackClip","resetHandlers","bindSliderEvent","bindRailEvent","bindTrackEvent","drawRail","fixedElements","resetTrack","bindHandlersEvent","minValue","getValueByCanvasPoint","maxValue","preValue","curValue","currentValue","curDiff","dValue","drawLabel","labelAlign","labelFormatter","alignAttrs","getLabelAlignAttrs","getRailPath","railCfg","getTrackColor","getTrackPath","getRailShape","getClipTrackAttrs","railBBox","getRailBBox","getPointByValue","getTrackAttrs","trackCfg","trackId","trackShape","trackAttrs","draggable","getRailCanvasBBox","isVertcal","resetHandler","getHandlerPath","handlerCfg","oneSixthWidth","triangleX","triangleY","handlerShape","railShape","minLabel","maxLabel","fixedVertail","fixedHorizontal","fitRailLength","minLabelBBox","maxLabelBBox","lengthField","changeRailLength","changeRailPosition","railHeight","maxLabelWidth","CssConst","visibility","transition","boxShadow","borderRadius","marginBottom","margin","listStyleType","marginRight","float","marginLeft","Tooltip","customContent","itemTpl","xCrosshairTpl","yCrosshairTpl","showTitle","crosshairsRegion","crosshairs","TooltipTheme","renderCustomContent","resetTitle","renderItems","clearCrosshairs","setTitle","clearItemDoms","setCrossHairsVisible","xCrosshairDom","yCrosshairDom","getHtmlContentNode","hasOneKey","cacheDoms","limitBox","getPointByPosition","outSides","getOutSides","getAlignPoint","resetCrosshairs","curContainer","replaceChild","titleDom","listDom","innerText","crosshairBox","resetCrosshair","croshairDom","checkCrosshair","domName","tplName","constName","colorUtil","substituteObj","domStr","itemDom","getRefXY","preTest","pixelRatio","_clearFrame","clearRect","curShape","_getRefreshRegion","drawFrame","clearAnimationFrame","_startDraw","_drawAll","_drawRegion","DEFAULT_THEME","trackColor","thumbColor","hover","Scrollbar","onStartEvent","isMobile","startPos","bindLaterEvent","thumbOffset","endPos","updateThumbOffset","onTrackClick","thumbLen","newOffset","validateRange","onThumbMouseOver","onThumbMouseOut","originalValue","minThumbLen","renderTrackShape","renderThumbShape","trackLen","themeSize","thumbShape","emitOffsetChange","cacheMap","adjustDataArray","mergeData","marginRatio","dodgeRatio","dodgeBy","intervalPadding","dodgePadding","xDimensionLength","groupNum","defaultSize","maxColumnWidth","minColumnWidth","columnWidthRatio","customOffset","xDimensionLegenth","groupDataArray","frameIndex","getDistribution","valueArr","valIndex","getDodgeOffset","tickLength","getIntervalOnlyOffset","getDodgeOnlyOffset","getIntervalAndDodgeOffset","normalizedIntervalPadding","normalizedDodgePadding","geomWidth","normalizedMaxWidht","normalizedMinWidht","adjustGroup","getAdjustOffset","Cache","reverseOrder","processStack","processOneDimStack","positive","negative","xKey","xValue","newXValue","stackHeight","stackValue","getXValuesMaxMap","yValue","off_1","getDimMaxValue","dimValues","flattenValues","ver","_sensorPool","require","cb","sensor","getSensor","unbind","removeSensor","_id","__esModule","_sensors","_constant","Sensors","sensorId","newId","createSensor","_object","_resizeObserver","ResizeObserver","_debounce","listeners","resizeListener","listener","contentDocument","newSensor","disconnect","observe","_slicedToArray","_arrayWithHoles","_arr","_n","_s","err","_iterableToArrayLimit","_nonIterableRest","xv","yv","Float64Array","ux","uy","visitPoints","iterations","determination","uY","predict","SSE","SST","sse","sst","interpose","xmin","xmax","LOG10E","iter","found","mp","ols","uX","uXY","uX2","slope","XY","X2","_ols2","intercept","rSquared","median","tricube","updateInterval","quad","quadratic","_points2","X3","X4","X2Y","n0","X2X2","regressionExp","YL","XYL","ly","exp","regressionLinear","regressionLoess","bandwidth","loess","bw","yhat","residuals","robustWeights","edge","W","denom","xk","xkw","medianResidual","_w","cnt","regressionLog","logarithmic","lb","lx","regressionPoly","polynomial","coefficients","_o","lhs","rhs","coef","gaussianElimination","uncenter","regressionPow","YS","regressionQuad","freeProcess","nodeUtil","types","binding","LN_2","helper","kernel","getUnifiedMinMax","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","findMinMulti","findMaxMulti","normalizedMinMax","buckets","partialArea","partialAreas","accumulator","generatePartialAreas","fullArea","initalValue","bucket","xToBucket","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","weight","startGradPos","inside","gradAccumulator","area","getExpectedValueFromPdf","pdf","expected","getXWithLeftTailArea","getPerplexity","entropy","ln","findMin","findMax","DollarCircleOutlined","ref","React","AntdIcon","_objectSpread","icon","DollarCircleOutlinedSvg","displayName","LAYER","DIRECTION","COMPONENT_TYPE","VIEW_LIFE_CIRCLE","GEOMETRY_LIFE_CIRCLE","PLOT_EVENTS","ELEMENT_STATE","GROUP_Z_INDEX","GROUP_ATTRS","ENGINES","registerEngine","engine","getChartSize","ele","autoFit","paddingLeft","paddingRight","paddingTop","paddingBottom","getElementSize","changeVisible","toScaleString","Attribute","names","scales","_parseCfg","mapping","param","_toOriginParam","getLinearValue","leftPercent","getNames","getFields","getScale","defaultCallback","_getAttributeValue","Opacity","Position","xi","yi","Size","ATTRIBUTE_MAP","registerAttribute","Coordinate","isRect","isHelix","isPolar","isReflectX","isReflectY","isTransposed","originalMatrix","convertDim","isReflect","invertDim","inverted","convert","convertPoint","invertPoint","reflect","getCenter","getRadius","Cartesian","Helix","innerRadius","maxRadius","thi","newY","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","vPoint","vStart3","vStart2","xPercent","yPercent","COORDINATE_MAP","registerCoordinate","LineAxis","Axis","CircleAxis","LineGrid","Grid","CircleGrid","CategoryLegend","Legend","ContinuousLegend","HtmlTooltip","Html","uniqueValues","Set","polarToCartesian","centerX","centerY","angleInRadian","getSectorPath","startAngleInRadian","endAngleInRadian","innerStart","innerEnd","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","shapeModel","coordinate","getPointsBox","coordStartAngle","diffAngle","sourceShape","targetShape","isBetween","omit","sourceArray","targetArray","sourceArray_1","sourceArray_1_1","BBox","fromRange","fromObject","subBBox","merge","cut","TOP","TOP_LEFT","TOP_RIGHT","RIGHT","RIGHT_TOP","RIGHT_BOTTOM","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT","LEFT_TOP","LEFT_BOTTOM","shrink","gap","expand","exceed","collide","isPointIn","getXDimensionLength","getDistanceToCenter","getAngleByPoint","getCoordinateClipCfg","endState","startAngle_1","endAngle_1","center_1","startState","dateRegex","inferScaleType","scaleDef","attrType","geometryType","createScaleByField","validData","valuesOfKey","getDefaultType","getName","alias","getDefaultCategoryScaleRange","isFullCircle","getMaxScale","getAxisRegion","getLineAxisRelativeRegion","getCircleAxisRelativeRegion","getAxisFactorByRegion","getAxisThemeCfg","axisTheme","getAxisTitleOptions","axisOptions","getCircleAxisCenterRadius","startVector","normalVector","getAxisOption","axes","getAxisDirection","axisOption","getAxisTitleText","Facet","view","facets","createContainer","getData","generateFacets","renderViews","clearFacetViews","facetToView","facet","createView","beforeEachView","eachView","afterEachView","getLayer","FORE","createFacetViews","removeView","parseSpacing","viewBBox","getFieldValues","getRegion","rows","cols","xIndex","yIndex","xSpacing","ySpacing","xRatio","yRatio","getDefaultTitleCfg","getTheme","processAxis","getOptions","coordinateOption","geometries","getXYFields","xOption","yOption","getXAxisOption","getYAxisOption","getFacetDataFilter","conditions","datum","Facets","registerFacet","Action","addAction","applyCfg","removeAction","CallbackAction","execute","ActionCache","getActionClass","actionName","actionOption","registerAction","ActionClass","createCallbackAction","_convertArr","coord","_convertArcPath","catmullRom2bezier","isInCircle","_points2path","getSplinePath","constaint","splinePath","convertPolarPath","cur","transposed","subPath","curPoint","angleRange","middleConvertPoint","_convertPolarPath","_filterFullCirleLine","parseToLines","lines","lineIntersectPolygon","isIntersect","D0","D1","kross","getLineIntersect","getMaskBBox","getMaskBBoxByShape","isValidMaskBBox","maskShape","maskBBox","getMultiMaskBBoxList","maskShapes","bBox","getMaskPathByMaskShape","getCurrentElement","getDelegationObject","isElementChange","gEvent","isMask","isMultipleMask","getMaskedElements","maskPathList","getMultiMaskPathList","flatMap","maskPath","getElementsByPath","maskBBoxList","getIntersectElements","getMultiMaskedElements","getMaskPath","getSiblingMaskElements","sibling","getSiblingMaskElementsByBBox","getSiblingMultiMaskedElements","getSiblingPoint","getElements","geom","views","subView","getElementsByState","stateName","getElementsBy","getElementValue","getModel","shapeBBox","pathToPoints","shapePoints","points1","points2","isIn","isPointInPolygon","lines1","lines2","isPolygonsIntersect","getComponents","co","isInBox","getSilbings","normalPoint","getCoordinate","point2Normalize","isInRecords","records","xFiled","getScaleByField","Context","getAction","getCurrentPoint","getCurrentShape","isInPlot","isPointInPlot","isInComponent","components","Interaction","parseAction","actionStr","createAction","methodName","executeAction","actionObject","STEP_NAMES","GrammarInteraction","callbackCaches","emitCaches","initContext","stepArr","stepName","getActionCallback","bindEvent","trigger","offEvent","InteractionContext","subSteps","actionArr","argArr_1","isAllowStep","currentStepName","isAllowExecute","getKey","isEnable","enterStep","afterExecute","actionCallback","throttle","nameArr","Interactions","registerInteraction","interaction","createInteraction","interaciton","getInteraction","createThemeByStyleSheet","styleSheet","shapeStyles","pointFillColor","pointSize","pointBorderColor","pointBorder","pointFillOpacity","pointActiveBorderColor","pointActiveBorder","selected","pointSelectedBorderColor","pointSelectedBorder","pointInactiveFillOpacity","pointInactiveBorderOpacity","hollowPoint","hollowPointFillColor","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointSize","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","areaFillColor","areaFillOpacity","areaActiveFillOpacity","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowArea","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaSelectedBorder","hollowAreaInactiveBorderOpacity","intervalFillColor","intervalFillOpacity","intervalActiveBorderColor","intervalActiveBorder","intervalSelectedBorderColor","intervalSelectedBorder","intervalInactiveFillOpacity","intervalInactiveBorderOpacity","hollowInterval","hollowIntervalFillColor","hollowIntervalBorderColor","hollowIntervalBorder","hollowIntervalBorderOpacity","hollowIntervalActiveBorderColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderOpacity","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderColor","hollowIntervalInactiveBorder","hollowIntervalInactiveBorderOpacity","lineBorderColor","lineBorder","lineBorderOpacity","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","axisStyles","axisTitleSpacing","axisTitleTextFillColor","axisTitleTextFontSize","axisTitleTextLineHeight","axisDescriptionIconFillColor","axisLabelOffset","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLineBorder","axisLineBorderColor","grid","axisGridBorderColor","axisGridBorder","axisGridLineDash","axisTickLineBorder","axisTickLineBorderColor","axisTickLineLength","createAxisStyles","legendStyles","legendMarkerSpacing","legendCircleMarkerSize","legendMarkerColor","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","flipPage","legendPageNavigatorMarkerSize","legendPageNavigatorMarkerInactiveFillColor","legendPageNavigatorMarkerInactiveFillOpacity","legendPageNavigatorMarkerFillColor","legendPageNavigatorMarkerFillOpacity","legendPageNavigatorTextFillColor","legendPageNavigatorTextFontSize","legendItemSpacing","legendItemMarginBottom","legendPadding","createLegendStyles","defaultColor","brandColor","subColor","semanticRed","paletteSemanticRed","semanticGreen","paletteSemanticGreen","roseWidthRatio","multiplePieWidthRatio","colors10","paletteQualitative10","colors20","paletteQualitative20","sequenceColors","paletteSequence","shapes","sizes","geometry","middleAngle","funnel","pyramid","dash","hv","vh","hvh","vhv","bowtie","hexagon","plus","hyphen","schema","candle","violin","hollow","axis","common","legend","legendVerticalPadding","legendHorizontalPadding","continuous","sliderRailHeight","sliderRailWidth","sliderRailFillColor","sliderRailBorderColor","sliderRailBorder","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","sliderHandlerWidth","sliderHandlerFillColor","sliderHandlerBorderColor","tooltip","showContent","follow","showCrosshairs","showMarkers","shared","enterable","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","TOOLTIP_CSS_CONST","tooltipContainerFillColor","tooltipContainerFillOpacity","tooltipContainerShadow","tooltipContainerBorderRadius","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","marginTop","annotation","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineDash","annotationLineBorder","annotationTextFillColor","annotationTextBorderColor","annotationTextBorder","annotationTextFontSize","annotationRegionBorder","annotationRegionBorderColor","annotationRegionFillColor","annotationRegionFillOpacity","dataMarker","annotationDataMarkerLineLength","dataRegion","slider","cSliderBackgroundFillColor","cSliderBackgroundFillOpacity","cSliderForegroundFillColor","cSliderForegroundFillOpacity","cSliderHandlerWidth","cSliderHandlerHeight","cSliderHandlerFillColor","cSliderHandlerFillOpacity","cSliderHandlerBorderColor","cSliderHandlerBorder","cSliderHandlerBorderRadius","cSliderHandlerHighlightFillColor","cSliderTextFillColor","cSliderTextFillOpacity","cSliderTextFontSize","cSliderTextLineHeight","cSliderTextFontWeight","cSliderTextBorderColor","cSliderTextBorder","scrollbar","scrollbarTrackFillColor","scrollbarThumbFillColor","scrollbarThumbHighlightFillColor","labelFillColor","labelFontSize","labelBorderColor","labelBorder","fillColorDark","labelFillColorDark","fillColorLight","labelFillColorLight","innerLabels","innerLabelFillColor","innerLabelFontSize","innerLabelBorderColor","innerLabelBorder","overflowLabels","overflowLabelFillColor","overflowLabelFontSize","overflowLabelBorderColor","overflowLabelBorder","pieLabels","labelHeight","labelLine","labelLineBorder","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","QUALITATIVE_20","SINGLE_SEQUENCE","createLightStyleSheet","paletteSemanticYellow","axisLineDash","axisTitleTextFontWeight","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFontWeight","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","sliderLabelTextFontWeight","sliderHandlerHeight","sliderHandlerBorder","annotationTextLineHeight","annotationTextFontWeight","tooltipCrosshairsLineDash","tooltipTextFontWeight","labelLineHeight","labelFontWeight","innerLabelLineHeight","innerLabelFontWeight","overflowLabelLineHeight","overflowLabelFontWeight","labelLineBorderColor","cSliderRailHieght","pointBorderOpacity","hollowPointActiveBorder","areaActiveFillColor","areaSelectedFillColor","hollowAreaActiveBorderColor","hollowAreaSelectedBorderColor","intervalActiveBorderOpacity","intervalSelectedBorderOpacity","createTheme","themeCfg","styleSheetCfg","themeObject","Themes","snapEqual","value1","value2","filterYValue","yScale","getYScale","originData","getXDistance","scaleValues","numericValue","getTooltipValueScale","attributes","attribute","getAttributesForLegend","attributes_1","attributes_1_1","tmpScale","scaleDefs","xScale","getXScale","findDataByPoint","getXValueByPoint","firstXValue","firstYValue","lastXValue","isYArray","firstIdx","lastIdx","middleIdx","getTooltipItems","showNil","tooltipTitle","titleField","titleScale","getTooltipTitle","tooltipOption","addItem","mappingData","callbackParams","itemCfg","fields_1","fields_1_1","valueScale","eachValue","getTooltipValue","nameScale","groupScales","getGroupScales","getTooltipName","getTooltipItemsByFindData","tooltipCfg","dataArray_1","dataArray_1_1","elementsMap","getTooltipItemsByHitShape","findItemsFromView","geometries_1","geometries_1_1","tooltipItems","parsePadding","paddingArray","LOAD_COMPONENT_CONTROLLERS","registerComponentController","plugin","CoordinateController","option","wrapperOption","hasAction","isTheta","C","execActions","adjust","getOption","includeActions","Event","fromData","GEvent","defaultLayout","getController","controller","ScalePool","syncScales","createScale","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","sync","scaleKeys","syncKey","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","newScale","syncScale","getSyncKey","removeFromSyncScales","scaleMeta","deleteScale","PaddingCal","instance","inc","getPadding","calculatePadding","isAutoPadding","paddingCal","axisComponents","paddingComponents","otherComponents","AXIS","LEGEND","SLIDER","SCROLLBAR","GRID","TOOLTIP","bboxObject","componentPadding","componentBBox","defaultSyncViewPadding","chart","PC","syncPadding","autoPadding","View","controllers","interactions","limitInPlot","usedControllers","scalePool","layoutFunc","isPreMouseInPlot","isDataChanged","isCoordinateChanged","createdScaleKeys","onCanvasEvent","createViewEvent","doPlotEvent","onDelegateEvents","backgroundGroup","middleGroup","foregroundGroup","appendPadding","syncViewPadding","setLayout","calculateViewBBox","initComponentController","initOptions","isUpdate","payload","BEFORE_RENDER","paint","AFTER_RENDER","BEFORE_CLEAR","filteredData","coordinateInstance","labelsContainer","getRootView","AFTER_CLEAR","BEFORE_DESTROY","filters","legendOption","scaleOption","guide","coordinateCfg","coordinateController","facetInstance","getFacet","status","updateOptions","opt","existInteraction","removeInteraction","changeData","BEFORE_CHANGE_DATA","AFTER_CHANGE_DATA","sharedOptions","legends","removedView","getYScales","yScales","getScalesByDim","dimType","defaultKey","getScaleKey","getOriginalData","getGeometries","BG","MID","isPointInCoordinate","getLegendAttributes","getGroupAttributes","getXY","xScales","showTooltip","hideTooltip","lockTooltip","unlockTooltip","isTooltipLocked","getSnapRecords","dataLen","snapRecords","filterData","filterFieldData","adjustCoordinate","curStart","curEnd","bl","renderDataRecursive","BEFORE_PAINT","renderPaddingRecursive","renderLayoutRecursive","renderBackgroundStyleShape","renderPaintRecursive","AFTER_PAINT","backgroundStyleRectShape","initComponents","syncViewPaddingFn","doLayout","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","doFilterData","createCoordinate","initGeometries","renderFacet","controllerName","currentInPlot","newEvent","TYPE","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","createOrUpdateScales","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupedFields","getGroupFields","adjustCategoryScaleRange","xyScales","scaleOptions","doAnimation","canvasRegion","annotations","geometryOption","createGeometry","interactionOption","viewOption","annotationComponent","annotationOption","eventCallback","rest","geometry_1","registerGeometry","Chart","localRefresh","supportCSSTransform","defaultInteractions","wrapperElement","G","getEngine","onResize","forceFit","updateCanvasStyle","bindAutoFit","initDefaultInteractions","aria","ariaOption","BEFORE_CHANGE_SIZE","AFTER_CHANGE_SIZE","unbindAutoFit","verticalAlign","Controller","includeOption","isLocked","isVisible","getTitle","dataPoint","getTooltipCfg","lastItems","lastTitle","tooltipMarkersGroup","renderTooltip","getItemsAfterProcess","renderTooltipMarkers","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","guideGroup","reset","tooltipCrosshairsGroup","items_1_1","itemArr_1","e_2","itemArr_1_1","snapItem","items_2","items_2_1","aItem","yDistance","uniqItems","subItem","isCursorEntered","processOption","processCustomContent","currentCustomContent","getTooltipMarkersGroup","rootView","items_3","items_3_1","attrs_1","markerDefaultCfg","crosshairsType","renderXCrosshairs","renderYCrosshairs","getViewWithGeometry","getTooltipCrosshairsGroup","getCrosshairsText","Crosshair","textCfg","firstItem","getGuideGroup","childView","originalItems","customItems","ANIMATIONS_MAP","getAnimation","registerAnimation","DEFAULT_ANIMATE_CFG","GEOMETRY_ANIMATE_CFG","GEOMETRY_GROUP_APPEAR_ANIMATION","getDefaultAnimateCfg","animateType","doAnimate","parsedAnimateCfg","parseAnimateConfig","animateFunction","shapeFactory","offscreenGroup","elementIndex","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","origin","syncShapeStyle","getStates","getAnimateCfg","setState","stateStatus","sortZIndex","zIndexReversed","offscreenShape","clearStates","labelBBox","stateOption","defaultShapeType","stateTheme","getStateStyle","shapeKey","stateCfg","shapeStyle","cfg_1","AFTER_DRAW_ANIMATE","BEFORE_DRAW_ANIMATE","GroupCtor","newClip","newChildren","name_2","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","registerGeometryLabel","registerGeometryLabelLayout","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getPoints","getDefaultPoints","getDefaultStyle","geometryTheme","getMarker","parsedPath","convertNormalPath","parsePoint","parsePoints","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","registerShape","shapeObj","getShapeFactory","isModelChange","currentModel","preModel","parseFields","keyItem","added","updated","removed","keyIncluded","Geometry","attributeOption","lastElementsMap","generatePoints","beforeMappingData","adjusts","idFields","hasSorted","sortable","useDeferredLabel","userTheme","positionCfg","createAttrOption","adjustCfg","adjustOption","styleFunc","styleOption","secondParam","thirdParam","labelOption","customInfo","customOption","setCfg","initAttributes","processData","adjustScale","lastAttributeOption","beforeMapping","canDoGroupAnimation","yMinPoint","getYMinValue","minYPoint","doGroupAppearAnimate","deferred","renderLabels","requestIdleCallback","geometryLabel","getDefaultValue","attrName","getAttributeValues","adjustType","getShapeMarker","shapeName","xVal","yVal","length_2","dodgeAdjust","attributeType","eachOpt","length_3","uniqMap","groupFields","length_4","attributeName","getXField","getYField","getShapes","mappingArray","xScale_1","xField_1","updateStackRange","createShapePointsCfg","normalizeValues","mappingDatum","shapeCfg","getDrawCfg","defaultStyle","getStyleCfg","nextPoints","mappingDataArray","keyDatum","keyIndex","finalKey","added_1","added_1_1","updated_1","updated_1_1","currentShapeCfg","preShapeCfg","removed_1","removed_1_1","getLabelType","coordinateType","labelType","attrCfg","AttributeCtor","getAttributeClass","categoryScales","groupedArray","beforeAdjust","subData","subLen","categoryScales_1","e_4","categoryScales_1_1","xScale_2","sizeAttr","adjustCtor","getAdjustClass","adjustInstance","appendConditions","values_1","values_1_1","eachGroup","mergeArray","tmpMin","tmpMax","length_5","currentData","generateShapePoints","nextData","shapeAttr","newRecord","_origin","mappingRecord","rstX","rstY","xLen","yLen","BEFORE_RENDER_LABEL","GeometryLabelsCtor","labelsMap","labelsRenderer","elementLabels","labelGroupId","labelChildren","entries","AFTER_RENDER_LABEL","rotateRadian","getRotateMatrix","findLabelTextShape","getLabelBackgroundInfo","labelItem","boxPadding","rotation","checkShapeOverlap","dones","Labels","createOffscreenGroup","renderLabelLine","renderLabelBackground","adjustLabel","lastShapesMap","origin_1","currentAnimateCfg","updateLabel","updateAnimateCfg","fromChild","toChild","deleteShape","shapeAppendCfg","isShape","layouts","all","labelShapes","geometryShapes","labelItems","labelLineCfg","labelContentShape","backgroundShape","GeometryLabel","getLabelItems","mapppingArray","labelCfgs","getLabelCfgs","labelContent","total","subIndex","getLabelAlign","getLabelsRenderer","getGeometryShapes","getDefaultLabelCfg","getThemedLabelCfg","defaultLabelCfg","setLabelPosition","labelPointCfg","getLabelOffset","getOffsetVector","getLabelOffsetPoint","offsetPoint","getDimValue","isAvg","isFunnel","getPolygonCentroid","getLabelId","labelScales","callbackCfg","originText","getLabelText","originValues","labelTexts","subVal","actualOffset","getMappingValue","restArgs","MarkerSymbols","diffX","STROKES_SYMBOLS","setMarkerSymbol","getLegendLayout","getLegendItems","themeMarker","userMarker","field_1","colorAttr_1","shapeAttr_1","defaultColor_1","isInPolar_1","scaleValue","isInPolar","adpatorMarkerStyle","getLegendThemeCfg","legendTheme","isValueEmpty","isYNil","getPathPoints","connectNulls","showSinglePoint","filtered","getViolinPath","getSmoothViolinPath","leftPoints","rightPoints","leftPath","rightPath","sizeName","getBackgroundRectStyle","splitPoints","eachY","LineSymbols","getLineMarker","getSinglePath","getPath","isStack","topPoints","bottomPoints","topPath","bottomPath","getRangePath","shapeAttrs","eachLinePoints","LineShapeFactory","antvDark","legendSpacing","overflowLabelFillColorDark","overflowLabelFillColorLight","createDarkStyleSheet","keyData","getShapeInfo","getPointsAndData","registeredShape","topLinePoints_1","bottomLinePoints_1","pointsData","parsedPoints","pathPoints","eachPoints","getConstraint","yItem","AreaShapeFactory","Area","startOnZero","EdgeShapeFactory","Edge","Heatmap","paletteCache","prepareRange","prepareSize","blur_1","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","colorField","getDefaultSize","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","valueField","getShadowCanvasCtx","data_1","data_1_1","drawGrayScaleBlurredCircle","colored","getImageData","colorize","imageShape","getImageShape","shadowCanvas","colorAttr","pixels","palette","ColorUtil","getRectPoints","yMin","yMax","xMin","xMax","getRectPath","isClosed","minLength","getBackgroundRectPath","isReflectYTransposed_1","bump","opposite","getFunnelPath","isPyramid","swap","backgroundCfg","backgroundPath","getRectWithCornerRadius","coor","getIntervalRectPath","xValues","sourceArr","findMinDistance","normalizedSize","wr","dodgeCount","getDodgeCount","normalizedMaxColumnWidth","normalizedMinColumnWidth","Interval","SHAPES","drawPoints","pointPosition","points_1","points_1_1","PointShapeFactory","Point","subX","PolygonShapeFactory","xOffset","yOffset","Schema","sizeArr","num","normalizeSize","_size","isMin","isMax","ViolinShapeFactory","Violin","_sizeField","sizeField","getCPath","getQPath","getArcShapePath","arc1","arc2","getArcShapeWeightPath","getSmoothPath","getVHVPath","getLinePoints","getTickPoints","getInterpolateShapeAttrs","interpolatePoints","interpolatePoint","nextX","nextY","middleX","middleY","interpolateCallback","getInterpolatePoints","getInterpolatePath","parseValue","min1","max1","getBoxPoints","pointsArray","halfSize","getCandleYValues","targetLength","padValue","padEnd","sourceLength","getCandlePoints","yValues","getRectAttrs","IntervalLabel","getLabelValueDir","dir","point0","nextP0","nextP1","HALF_PI","PolarLabel","labelEmit","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","getPointAngle","isLabelEmit","labelPositionCfg","getLabelRotate","labelAngle","PieLabel","isLabelLimit","antiCollision","plotRange","invisible","overlapping","endY","totalHeight","MIN_VALUE","boxes","targets","pos","previousBox","posInCompositeBox","Greedy","bitmap","xGap","yGap","hasGap","fillGap","adjustLabelPosition","getAxes","deg","getProjection","scalars","isProjectionOverlap","projection1","projection2","isValidBox","isIntersectRect","rect1Points","rect2Points","MyWorker","url","queue","worker","Worker","onmessage","onmessageerror","post","onError","postMessage","terminate","generateUtils","methods","eventData","JSON","blob","Blob","BlobBuilder","append","getBlob","URL","createObjectURL","createWorker","layoutCode","preset","shouldInShape","shouldInShapeSingle","hasSome","rightText","doScaleAnimate","endMatrix","scaledMatrix","transformShape","arcPath","getArcStartPoint","getArcInfo","arcPaths","firstArcPathCommand","lastArcPathCommand","firstIndex","firstStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","doShapeZoom","getFactTitleConfig","getAnglePoint","renderTitle","avgAngle","facetR","facetData","columnValue","columnField","columnIndex","columnValuesLength","rowValue","rowField","rowIndex","rowValuesLength","List","colValues","getPageCount","getRowCol","col","pageSize","Matrix","columnTitle","rowTitle","facetIndex","Mirror","columnValues","rowValues","Tree","afterChartRender","drawLines","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","levelFacets","getFacetsByLevel","levelFacets_1","e_1","levelFacets_1_1","originColIndex","getRegionIndex","addFacetLines","subFacet","subRegion","middle1","middle2","getMedian","getNormalizedValue","scaled","getMean","ANNOTATIONS_AFTER_RENDER","Annotation","foregroundContainer","backgroundContainer","onAfterRender","updateOrCreate","getCacheKey","syncCache","updateCache","clearComponents","doWhat","createAnnotation","AnnotationComponent","getAnnotationTheme","getAnnotationCfg","isTop","NONE","ANNOTATION","extra","regionFilter","parsePosition","xPos","yPos","parsePercentPosition","getRegionPoints","viewData","startXValue","endXValue","getCoordinateBBox","sp","ep","textContent","start_5","end_5","apply_1","shapes_1","addShapes_1","render_1","restOptions","_k","html_1","getComponentContainer","newCache","getGridThemeCfg","getLineGridItems","preTick","currentTick","middleValue","getCircleGridItems","showGrid","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","gridContainer","gridForeContainer","axisContainer","axisForeContainer","updatedCache","updateXAxes","updateYAxes","xAxisOption","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","RADIUS","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","CIRCLE","createCircleGrid","yAxisOption","titleText","axisThemeCfg","optionWithTitle","isAxisVertical","canvasWidth","canvasHeight","gridThemeCfg","gridCfg","verticalScale","directionToPosition","parentBBox","tl","br","getLegendOption","getDirection","layoutBBox","maxWidthRatio","maxHeightRatio","maxSize","getCategoryLegendSizeCfg","existCo","getComponentById","customCfg","getCategoryCfg","createCustomLegend","loopLegends","getContinuousCfg","createFieldLegend","doEach","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","attrLegendCfg","mergeLegendCfg","themePageNavigator","userPageNavigator","itemMarker","getCustomLegendItems","baseCfg","categoryCfg","vw","onChangeFn","resetMeasure","onValueChange","changeViewData","getSliderCfg","updateSlider","createSlider","measureSlider","getMinMaxText","SliderComponent","getThemeOptions","dataSize","xTickCount","maxIndex","xScaleValues","getValidScrollbarCfg","originalAnimate","getScrollRange","updateScrollbar","createScrollbar","measureScrollbar","getScrollbarComponentCfg","xScaleCfg","yScalesCfg","getScrollbarTheme","thumbHighlightColor","restStyles","getScrollbarData","getStep","getCnt","startIdx","endIdx","ScrollbarComponent","realConfig","categorySize","DEFAULT_REGION_PATH_STYLE","getItemsOfView","findItemsFromViewRecurisive","ActiveRegion","xValue_1","elements_1","coordinate_1","firstBBox_1","lastBBox_1","groupBBox_1","appendRatio","appendWidth","firstElement","lastElement","innterRadius","TooltipAction","lastTimeStamp","preLoc","curLoc","SiblingTooltip","siblingPoint","EllipsisText","tipContent","tooltipStyles","StateBase","setElementState","setStateEnable","clearViewState","getItem","ElementState","ignoreListItemStates","isItemIgnore","list","setStateByComponent","setElementsStateByItem","setStateByElement","isMathItem","event_1","toggle","ElementActive","StateAction","LinkByColor","getColorScale","getLinkPath","nextElement","nextBBox","addLinkShape","activeStyle","linkByElement","getElementsByField","group_1","linkGroup","count_1","nextEl","removeLink","link","unlink","ElementRangeState","isStarted","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","ElementRangeActive","ElementSingleState","ElementSingleActive","clearHighlight","setHighlightBy","STATUS_UNACTIVE","INACTIVE","STATUS_ACTIVE","ACTIVE","ElementHighlight","setElementHighlight","activeElements","allCancel_1","highlight","HighlightColor","highlightElements","Highlight","HighlightX","ElementRangeHighlight","BEFORE_HIGHLIGHT","AFTER_HIGHLIGHT","ElementSingleHighlight","ElementRangeSelected","ElementMultipleSelected","ElementSingleSelected","ListState","ignoreItemStates","getTriggerListInfo","getAllowComponents","allowSetStateByElement","clearAllComponentsState","componentNames","allowSetStateByItem","ignoreStates","setItemsState","triggerInfo","ListActive","ListHighlight","activeItems","clearList","ListSelected","ListUnchecked","ListChecked","setCheckedBy","list_1","checked","ListFocus","clickedItem","checkedItems","uncheckedItems","checkedItem","items_4","items_4_1","TIP_ID","ListRadio","showTip","hideTip","containerId","MaskBase","starting","moving","preMovePoint","emitEvent","createMask","maskAttrs","getMaskAttrs","updateMask","maskStyle","moveStart","moveEnd","resize","CircleMask","RectMask","clampPoint","inPlot","normalStart","normalEnd","DimRect","PathMask","addPoint","getSpline","SmoothPathMask","MultipleMaskBase","recordPoints","maskType","multiPoints","recordPointStart","updateShapesCapture","getCurMaskShapeIndex","recordPointContinue","clearAll","recordPointClear","getRecordPoints","lastPoints","isCapture","RectMultiMask","DimRectMultiMask","MultipleRectMask","CircleMultiMask","PathMultiMask","SmoothPathMultiMask","MultiplePathMask","CursorAction","pointer","crosshair","help","eResize","wResize","nResize","sResize","neResize","nwResize","seResize","swResize","nsResize","ewResize","zoomIn","zoomOut","DataFilter","filterView","unCheckedItems","scale_1","names_1","getFilter","RangeFilter","hasDim","BEFORE_FILTER","normalCurrent","reRender","FILTER","AFTER_FILTER","BEFORE_RESET","RESET","AFTER_RESET","SiblingFilter","ElementFilter","maskElements_1","byRecord","filterByRecord","filterByBBox","maskElements","ButtonAction","buttonGroup","buttonCfg","getButtonCfg","drawButton","buttonShape","Drag","dragStart","drag","Move","isMoving","startMatrix","ScaleTranslate","cfgFields","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","TransformAction","zoomRatio","zoomDim","dRatio","zoomLinear","toMin","toMax","MousewheelScroll","scroll","wheelDelta","scrollbarController","nextStart","deltaY","isWheelDown","correction","nextRatio","AxisDescription","descriptionTooltipStyle","isPointInView","CanvasEngine","SVGEngine","greedy","totalHeight_1","lineHeight_1","plotRange_1","halves_1","maxLabelsCountForOneSide","isRight","labelShapes_1","labelShapes_1_1","rPow2","dyPow2","innerPoint","itemX","itemY","maxTimes","dxdy","maxDelta","nt","times","accessedCache","spiralFill","memoKey","stringify","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","translateX_1","textBox","DOT_WIDTH","labels_1","labels_1_1","separateLabels","totalR","labelsContainerRange","dxPow2","dx_offset","smoothConnector","breakPoint","breakPoint3","xSign","slope1","slope2","drawLabelline","fillWhite","isContrastColorWhite","moveInShape","filteredLabels","filterLabel","todo","groupedLabels","addCurrentGroup","curItems","sortedCollections","sortedLabels","sortLabels","downFail","inRight","inflectionPoint","totalOffset","halfHeight","originalPos","pathCommands","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","EllipsisTextAction","ElementHighlightByX","ElementHighlightByColor","ElementSelected","ElementLinkByColor","DimMask","DataRangeFilter","ElementSiblingFilter","ViewDrag","ViewMove","ScaleZoom","showEnable","processing","rollback","LEVEL","AXIS_META_CONFIG_KEYS","BRAND","getMessage","argIndex","adjustYMetaByZero","numberData","gtZero","ltZero","transformDataToNodeLinkData","sourceField","targetField","weightField","rawFields","nodes","links","nodesMap","nodesIndex","rawData","processIllegalData","WARN","deep","deepAssign","getContainerSize","flow","flows","findGeometry","getAllElements","getAllElementsRecursively","kebabCase","transformLabel","labelOptions","isRealNumber","normalPadding","getAdjustAppendPadding","currentAppendPadding","PADDING","resolveAllPadding","paddings","normalPaddings","finalPadding","adapteStyle","styleObject","justifyContent","alignItems","shapeStyleKeys","setStatisticContainerStyle","renderStatistic","statistic","plotType","titleOpt","contentOpt","containerW","liquidShape","customHtml","template","findViewById","getViews","getSiblingViews","addViewAnimation","animationCfg","initCanvas","fillRect","getUnitPatternSize","isStagger","unitSize","getSymbolsPosition","transformMatrix","dpr","defaultDotPatternCfg","drawDot","defaultLinePatternCfg","createLinePattern","lineCfg","Path2D","defaultSquarePatternCfg","drawSquare","strokeRect","getCanvasPattern","dotCfg","dots_1","createDotPattern","squareCfg","squares","squares_1","createSquarePattern","patternOption","colorAttribute","seriesValue","seriesField","meta","annotationOptions","annotationController","yAxis","transformations","GLOBAL","locale","LocaleMap","registerLocale","localeObj","getLocale","getTooltipMapping","defaultFields","getMappingField","shapeField","styleField","mappingFields","tileMappingField","getMappingFunction","tooltipFields","columnBackground","widthRatio","groupField","otherAdaptor","stepType","PLOT_CONTAINER_OPTIONS","Plot","getDefaultOptions","createG2","xAxis","chartSize","execAdaptor","bindSizeSensor","updateOption","stateObjects","addAnnotations","incoming","removeAnnotations","unbindSizeSensor","adaptor","getSchemaAdaptor","triggerResize","measure","as","sumMap","groupValue","percentage","getDataWhetherPercentage","asField","isPercent","pointMapping","areaMapping","pointState","areaState","primary","areaParams","lineGeometry","areaShape","lineMapping","chartData","tooltipOptions","lineParams","pointParams","areaGeometry","DEFAULT_OPTIONS","BUTTON_ACTION_CONFIG","buttonStyle","getInteractionCfg","interactionType","brushType","isStartEnable","drawText","BRUSH_TYPES","brushInteraction","brush","enabled","buttonConfig","INTERACTION_MAP","click","getStartStages","conversionTagFormatter","getConversionTagOptionsWithDefaults","horizontal","headSize","elemPrev","elemNext","pointPrev","pointNext","totalWidth","renderArrowTag","textWidth","cWidth","cEnd","textAdjusted","renderTextTag","defaultOptions","columnStyle","percentData","getDeepPercent","stackedItem","percentYMeta","isRange","columnTooltip","customItems_1","tooltipFormatter_1","isBar","disable","disabled","conversionTag","connectedArea","verticalAxis","horizontalAxis","coordinateOptions","barStyle","barWidthRatio","minBarWidth","maxBarWidth","barBackground","columnAdaptor","Bar","Column","minSize","transformData","maxYFieldValue","maxBy","conversionTagComponent","getLineCoordinate","formatter_1","lineOption","formatData","funnelStyle","baseGeometry","datumIndex","initLineOption","basicFunnel","compareField","showFacetTitle","formatterData","defaultFacetLabel","compareConversionTag","viewIndex","preItemX","preItemY","ConversionTagAction","rendering","conversionTag_1","basicConversionTag","interactionStart","dynamicHeight","facetFunnel","compareFunnel","dynamicHeightFunnel","Funnel","CONVERSATION_FIELD","PERCENT_FIELD","TOTAL_PERCENT_FIELD","indicator","pin","getIndicatorData","getRangeData","clampTicks","processRangeData","gaugeStyle","meter","rangeWidth","indicatorData","rangeData","contentOption","transformContent","polarCoord","polarCenter","polarMaxY","containerWidth","renderGaugeStatistic","STEP","stepRatio","STEP_RATIO","COORD_START_ANGLE","COORD_END_ANGLE","INTERVAL","START_ANGLE","END_ANGLE","Gauge","indicatorView","rangeView","getBinKey","binWidth","binNumber","binHistogram","binField","stackField","originData_copy","_binWidth","_defaultBinNumber","LN2","sturges","bins","bin","binKey","groupKey","groupKeyBinKey","plotData","Histogram","MarkerActiveAction","getView","InteractionAction","pieStyle","ORIGIN_MATRIX","ulMatrix","PieLegendAction","getActiveElements","item_1","getActiveElementLabels","transfrom","StatisticAction","getAnnotations","_view","getInitialAnnotation","initialAnnotation","colorField_1","initialStatistic","adaptOffset","defaultOffset","isAllZero","angleField","content_1","dataum","angleScale","labelLayoutType","outer","spider","labelLayoutCfg","transformStatisticOptions","titleOpt_1","contentOpt_1","dataValue","getTotalValue","metaFormatter","pieAnnotation","startStages_1","stage","Pie","prevOptions","prevData","curData","DEFAULT_COLOR","getProgressData","clampPercent","progressStyle","Progress","RingProgress","REGRESSION_MAP","poly","xScaleView","yScaleView","points2Path","pathData","regressionLine","algorithm","customEquation","equation","safeFormat","getRegressionEquation","reg","transformOptions","isOneX","isOneY","meta_1","xFieldValue","yFieldValue","xIsPositiveNumber","yIsPositiveNumber","getMetaMinMax","fieldMeta","getCustomValue","getMeta","newOptions","shapeLegend","sizeLegend","showLegend","scatterGeometry","scatterAnnotation","quadrant","xBaseline","yBaseline","regionStyle_1","defaultConfig_1","getQuadrantDefaultConfig","equationStyle","equationStyle_1","top_1","showEquation","showEquation_1","defaultStyle_1","defaulEquationStyle_1","Scatter","BRUSH_FILTER_EVENTS","Y_FIELD","defaultContent","risingFill","fallingFill","getStockData","open_1","close_1","high","low","stockStyle","baseMeta","Stock","getTinyData","DEFAULT_TOOLTIP_OPTIONS","pointOptions","lineOptions","seriesData","TinyArea","TinyColumn","TinyLine","PLOT_ADAPTORS","lineAdaptor","pie","pieAdaptor","column","bar","barAdaptor","areaAdaptor","gauge","gaugeAdaptor","tinyLineAdaptor","tinyColumnAdaptor","tinyAreaAdaptor","ringProgressAdaptor","progress","progressAdaptor","scatter","scatterAdaptor","histogram","histogramAdaptor","funnelAdaptor","stock","stockAdaptor","PLOT_CONSTRUCTOR","DEFAULT_OPTIONS_MAP","execPlotAdaptor","plot","multiView","viewOfG2","geometryAdaptor","multiPlot","plots","Association","getAssociationItems","linkField","Stage","Mix","Lab","STABLE","DEV","BETA","hopeData","data1","data2","__axisPosition","firstView","secondView","firstViewData","secondViewData","aliasMap","metaKey","commonInteraction","commonLimitInPlot","commonTheme","commonAnimation","leftGeometry","rightGeometry","leftLabelCfg","positionMap_1","BidirectionalBar","SERIES_FIELD_KEY","boxStyle","newData","low_1","q1_1","median_1","q3_1","high_1","yFieldName","outliersPoint","outliersField","outliersStyle","outliersView","outliersViewData","Box","getSeriesFieldKey","measureField","rangeField","ds","rangeValues","flat","rKey","measureValues","mKey","targetValues","tKey","bulletStyle","extData","rangeGeometry","measureGeometry","targetGeometry","Bullet","nodeWidthRatio","nodePaddingRatio","sourceWeight","targetWeight","chordLayout","chordLayoutOptions","chordLayoutInputData","nodeById","edges","forIn","inEdges","outEdges","frequency","processGraph","localeCompare","sortNodes","nodePaddingRatio_1","margin_1","nodeWidthRatio_1","totalValue_1","deltaX","deltaX_1","layoutNodes","valueById_1","sId","tId","sNode","tNode","sValue","currentSValue","sStart","sEnd","tValue","currentTValue","tStart","tEnd","locatingEdges","nodeStyle","edgeStyle","nodesData","isNode","edgesData","chordData","nodeGeometry","nodeView","edgeGeometry","edgeView","Chord","RAW_FIELDS","hierarchyConfig","drilldown","DEFAULT_BREAD_CRUMB_CONFIG","dividerText","activeTextStyle","DrillDownAction","historyCache","breadCrumbGroup","breadCrumbCfg","drill","drawBreadCrumb","PADDING_TOP","back","backTo","hideCrumbGroup","nodeInfo","drillData","nodeData","depth","drillDownConfig","breadCrumb","drawBreadCrumbGroup","rootText","textShapeBox","targetId","newHistoryCache","dividerBox","circles","shuffle","B","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","x21","y21","r21","d3","ab","xa","xb","ya","yb","place","intersects","Node","packEnclose","aa","ca","sj","sk","enclose","optional","required","constantZero","defaultRadius","eachBefore","radiusLeaf","eachAfter","packChildren","translateChild","_createForOfIteratorHelper","unsupportedIterableToArray","F","it","normalCompletion","didErr","_e2","_regeneratorRuntime","Op","hasOwn","desc","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","configurable","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","__await","unwrapped","doneResult","delegate","delegateResult","maybeInvokeDelegate","_sent","dispatchException","abrupt","return","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","mark","awrap","async","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","finish","catch","thrown","delegateYield","_marked","_callee","_context","hierarchy","mapChildren","objectChildren","childs","computeHeight","copyData","_defineProperty","that","_step","_iterator","ancestor","aNodes","ancestors","bNodes","leastCommonAncestor","descendants","leaves","node_iterator","getField","defaultField","getAllNodes","index_1","eachNode","enableDrillDown","d3Hierarchy","packLayout","ancestorNode","resolvePaddingForCircle","containerSize","tempPadding","wSize","hSize","restWidthPadding","restHeightPadding","finalSize","diameter","tempAppendPadding","circleSize","nameFormatter","valueFormatter","adaptorInteraction","baseInteraction","isParentNode","inCenter","CirclePacking","AxisType","DualAxesGeometry","DEFAULT_YAXIS_CONFIG","DEFAULT_LEFT_YAXIS_CONFIG","DEFAULT_RIGHT_YAXIS_CONFIG","isLine","isColumn","getGeometryOption","transformObjectToArray","transformAttribute","getYAxisWithDefault","axisType","Left","Right","getViewLegendItems","legendItemName","isGeometry","viewId","attrItems","doSliderFilter","sliderValue","geometryOptions","allLine","createViews","SORT_MAP","FIELD_KEY","adjust_1","drawSingleGeometry","themeColor","groupScale","leftView","rightView","commonAnnotation","leftLegend_1","rightLegend_1","leftItems","rightItems","yF","legendItem_1","DualAxes","facetAdaptor","facetType","restFacetCfg","viewOptions","execViewAdaptor","plotOptions","sizeRatio","heatmapStyle","checkedSizeRatio","dautm","maxSideLength","sideLength","getLiquidData","liquidStyle","outline","wave","border","getWaterWavePositions","waveLength","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","builtInShapeByName","cpX","cpY","waveCount","minXPoint","waveAttrs","getFillAttrs","outlineAttrs","getLineAttrs","shapePath","waves","clipPath","addWaterWave","Liquid","areaOptions","RadarTooltipController","cfgTitle","hintItems","title_1","result_1","displayTitle","TooltipController","RadarTooltipAction","getTooltipController","Radar","getScaleMax","maxAngle","yData","formatRadian","stackedData","valueItem","getStackedData","intervalGeometry","RadialBar","sectorStyle","Rose","cutoffCircle","removedData","getNodes","graphMatrix","visited","DFS","dfsNode","targetDepth","justify","sourceLinks","sumBy","maxValueBy","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultId","defaultNodes","graph","defaultLinks","computeLinkBreadths","nodes_1","targetLinks","Sankey","linkSort","sankey","nodes_2","computeNodeLinks","nodes_3","fixedValue","computeNodeValues","maxDepth","computeNodeDepths","computeNodeHeights","columns","kx","nodes_4","columns_1","computeNodeLayers","ky","minValueBy","columns_2","nodes_6","nodes_5","reorderLinks","initializeNodeBreadths","beta","relaxRightToLeft","relaxLeftToRight","computeNodeBreadths","column_1","targetTop","dy_1","reorderNodeLinks","resolveCollisions","column_2","sourceTop","dy_2","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","dy_3","dy_4","targetLinks_1","sourceLinks_1","nodes_7","nodeId","nodeAlign","nodeDepth","nodeSort","nodeWidth","nodePadding","extent","ALIGN_METHOD","minBy","sankeyLayout","sankeyLayoutOptions","layoutData","getNodeAlignFunction","sankeyProcessor","tx","getNodeWidthRatio","getNodePaddingRatio","transformToViewsData","sankeyLayoutInputData","dataType","isNodeLink","nodeState","edgeState","nodeDraggable","nodeInteractions","edgeInteractions","SankeyNodeDragAction","isDragging","isNodeElement","getNodeView","getEdgeView","getCurrentDatumIdx","currentElementIdx","prevNodeAnimateCfg","prevEdgeAnimateCfg","prevDatum","datumGap_1","nextDatum","edgeData","isLast","nodesView","edgesView","sunburstStyle","partition","treemapDice","positionNode","roundNode","ignoreParentValue","defaultSeparation","meanXReduce","maxYReduce","separation","nodeSize","cluster","previousNode","meanX","leafLeft","leafRight","preroot","ambiguous","defaultParentId","parentId","stratify","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","nextAncestor","vim","TreeNode","tree","treeRoot","firstWalk","secondWalk","sizeNode","executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","squarifyRatio","nodeValue","sumValue","newRatio","minRatio","dice","treemapSlice","squarify","tile","paddingStack","paddingInner","treemap","paddingOuter","sums","valueOffset","valueTarget","valueLeft","valueRight","resquarify","_squarify","tileMethod","activeDepth","polygonAdaptor","pathFormatter","Sunburst","SUNBURST_ANCESTOR_FIELD","SUNBURST_PATH_FIELD","NODE_ANCESTORS_FIELD","findInteraction","enableInteraction","enableDrillInteraction","curPath","rectStyle","basePolygon","viewZoomInteraction","Treemap","transData","drillDownInteraction","resetDrillDown","blendMode","placeElementsOrdered","VennElementActive","syncElementsPos","VennElementHighlight","ElementSelectedAction","ElementSingleSelectedAction","VennElementSelected","VennElementSingleSelected","VennLabel","customLabelInfo","nativeObjectToString","symToStringTag","getRawTag","isOwn","unmasked","objectToString","baseGetTag","createBaseFor","baseFor","fromRight","iteratee","keysFunc","baseTimes","baseIsArguments","isArguments","reIsUint","isIndex","isLength","typedArrayTags","baseIsTypedArray","baseUnary","nodeIsTypedArray","isTypedArray","arrayLikeKeys","inherited","isArr","isArg","isBuff","skipIndexes","overArg","nativeKeys","baseKeys","listCacheClear","__data__","eq","assocIndexOf","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","stackClear","stackDelete","stackGet","stackHas","coreJsData","maskSrcKey","uid","IE_PROTO","isMasked","funcToString","toSource","reIsHostCtor","funcProto","reIsNative","baseIsNative","getNative","nativeCreate","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","mapCacheClear","isKeyable","getMapData","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","stackSet","pairs","LARGE_ARRAY_SIZE","setCacheAdd","setCacheHas","SetCache","Uint8Array","setToArray","symbolProto","equalObjects","WeakMap","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ctorString","fillAttrs","blendObject","screen","overlay","darken","lighten","dodge","burn","blend","c0","mode","blendRgbArr","innerBlend","colorToArr","g0","g1","rgbaArr","intersectionArea","stats","intersectionPoints","circleCircleIntersection","parentIndex","getIntersectionPoints","innerPoints","containedInCircles","arcArea","polygonArea","arcs","midPoint","angleDiff","circleArea","smallest","disjoint","circleOverlap","circleMargin","interior","exterior","computeTextCentre","solution","valid","areaStats","computeTextCentres","areas","overlapped","circleids","circleid","getOverlappingCircles","sets","areaids","exclude","overlaps","setid","centre","distanceFromIntersectArea","bestInitialLayout","loss","lossFunction","setOverlaps","rowid","mostOverlapped","positioned","isPositioned","positionSet","setIndex","extraPoints","bestLoss","bestPoint","localLoss","greedyLayout","constrained","restarts","setids","matrices","distances","constraints","getDistanceMatrices","norm","xj","yj","dij","constrainedMDSGradient","positions","constrainedMDSLayout","getBoundingBox","minMax","xRange","yRange","getColorMap","colorPalette","setsField","colorMap","colorPaletteLen","colorArr","layoutVennData","vennData","xScaling","yScaling","scaling","scaleSolution","initialLayout","ids","addMissingAreas","setid_1","venn","textCenters","circlePath","wide","intersectionAreaPath","currSets","filterSets","legalArr","testArr","islegalSets","schemaGeometry","colorOptions","map_1","transformColor","vennInteraction","MAP_1","Venn","kde","sampleSize","violinStyle","quickselect","sd","quantile","indices","quantileIndex","stack","quantileSelect","multiQuantileSelect","results","toBoxValue","q1","q3","toViolinValue","pdfOptions","pdfResults","violinSize","violinY","transformViolinData","resultList","seriesGroup","series","TOOLTIP_FIELDS","violinView","boxView","minMaxView","quantileView","medianView","legendField_1","legendOptions","baseAnnotation","leaderLine","waterfallStyle","newYField","dIdx","localeTotalLabel","Y_FIELD_META","labelMode","leaderLineCfg","linkPath","Waterfall","timeInterval","wordStyle","rotationSteps","rotateRatio","spiral","wordCloud","words","cloudFont","cloudFontSize","cloudFontNormal","cloudRotate","cloudPadding","archimedeanSpiral","cloudText","cloudCanvas","cloud","board","dt","cloudCollide","sprite","sw","msx","contextAndRatio","willReadFrequently","zeroArray","tags","cloudSprite","hasText","hasImage","cloudBounds","_tags","_bounds","can","w32","cxt","imageData","functor","spirals","tagCloud","imageMask","cloudRadians","maxh","sr","cr","wcr","wsr","hcr","hsr","cw","xoff","yoff","seen","seenRow","archimedean","rectangular","sign","rawOptions","chartPadding","wordField","placementStrategy","numbers","getSingleKeyValues","getFontSizeMapping","getSize","getRotate","resolvePadding","fMin_1","fMax_1","resolveRotate","perSize","getTextAttrs","WordCloud","rej","HTMLImageElement","onerror","ERROR","general","increase","decrease","waterfall","createRoot","fullClone","ReactDOM","reactRender","unmountComponentAtNode","toggleWarning","skip","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","usingClientEntryPoint","MARK","modernRender","legacyRender","TOOLTIP_CONTAINER_MAPPING","createNode","uuid","mountPoint","deepClone","hasPath","useInit","ChartClass","useRef","chartOptions","onReady","onEvent","reactDomToString","_uuid","statisticCustomHtml","setPath","statisticDom","processConfig","useEffect","currentConfig","inputConfig","changeType_1","currentKeys_1","chartInstance","encoderOptions","downloadImage","imageName","base64","href","download","ErrorBoundary","hasError","renderError","errorTemplate","message","getDerivedStateFromError","getDerivedStateFromProps","nextProps","Fragment","SVG","backgroundOpacity","baseUrl","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","rtl","speed","fixedId","idClip","idGradient","idAria","rtlStyle","keyTimes","dur","role","stopColor","stopOpacity","repeatCount","defaultProps","ContentLoader","ReactContentLoaderFacebook","viewBox","ChartLoading","loadingTemplate","ColumnChart","forwardRef","chartRef","loading","useChart","G2plotColumn","getChart","useImperativeHandle"],"mappings":"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","file":"static/js/7.18531dd1.chunk.js","sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport default {\r\n    __extends,\r\n    __assign,\r\n    __rest,\r\n    __decorate,\r\n    __param,\r\n    __metadata,\r\n    __awaiter,\r\n    __generator,\r\n    __createBinding,\r\n    __exportStar,\r\n    __values,\r\n    __read,\r\n    __spread,\r\n    __spreadArrays,\r\n    __spreadArray,\r\n    __await,\r\n    __asyncGenerator,\r\n    __asyncDelegator,\r\n    __asyncValues,\r\n    __makeTemplateObject,\r\n    __importStar,\r\n    __importDefault,\r\n    __classPrivateFieldGet,\r\n    __classPrivateFieldSet,\r\n    __classPrivateFieldIn,\r\n};\r\n","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","export const version = '2.4.31';\n\n// G2 \nimport * as G2 from '@antv/g2';\n/**  adaptor  */\nimport { animation, annotation, interaction, legend, scale, theme, tooltip } from './adaptor/common';\n// \nimport { registerLocale } from './core/locale';\nimport { EN_US_LOCALE } from './locales/en_US';\nimport { ZH_CN_LOCALE } from './locales/zh_CN';\n/**  geometry  adaptor */\nexport { area, interval, line, point, polygon, schema } from './adaptor/geometries';\nexport type {\n  AreaGeometryOptions,\n  IntervalGeometryOptions,\n  LineGeometryOptions,\n  PointGeometryOptions,\n  PolygonGeometryOptions,\n  SchemaGeometryOptions,\n} from './adaptor/geometries';\n/** Adaptor  */\nexport type { Adaptor, Params } from './core/adaptor';\n/**  */\nexport { setGlobal } from './core/global';\n/** G2Plot  Plot  */\nexport { Plot } from './core/plot';\n/**  Lab  export */\nexport { Lab } from './lab';\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Area } from './plots/area';\nexport type { AreaOptions } from './plots/area';\n//  | author by [BBSQQ](https://github.com/BBSQQ)\nexport { Bar } from './plots/bar';\nexport type { BarOptions } from './plots/bar';\n//  | author by [arcsin1](https://github.com/arcsin1)\nexport { BidirectionalBar } from './plots/bidirectional-bar';\nexport type { BidirectionalBarOptions } from './plots/bidirectional-bar';\n//  | author by [BBSQQ](https://github.com/BBSQQ), [visiky](https://github.com/visiky)\nexport { Box } from './plots/box';\nexport type { BoxOptions } from './plots/box';\n//  | author by [arcsin1](https://github.com/arcsin1)\nexport { Bullet } from './plots/bullet';\nexport type { BulletOptions } from './plots/bullet';\n//  | author by [MrSmallLiu](https://github.com/MrSmallLiu), [visiky](https://github.com/visiky)\nexport { Chord } from './plots/chord';\nexport type { ChordOptions } from './plots/chord';\n// circle-packing  | author by [visiky](https://github.com/visiky), [Angeli](https://github.com/Angelii)\nexport { CirclePacking } from './plots/circle-packing';\nexport type { CirclePackingOptions } from './plots/circle-packing';\n//  | author by [zqlu](https://github.com/zqlu)\nexport { Column } from './plots/column';\nexport type { ColumnOptions } from './plots/column';\n//  | author by [liuzhenying](https://github.com/liuzhenying)\nexport { DualAxes } from './plots/dual-axes';\nexport type { DualAxesOptions } from './plots/dual-axes';\n//  | author by [visiky](https://github.com/visiky)\nexport { Facet } from './plots/facet';\nexport type { FacetOptions } from './plots/facet';\n// \nexport { Funnel, FUNNEL_CONVERSATION_FIELD } from './plots/funnel';\nexport type { FunnelOptions } from './plots/funnel';\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Gauge } from './plots/gauge';\nexport type { GaugeOptions } from './plots/gauge';\n//  | author by [jiazhewang](https://github.com/jiazhewang)\nexport { Heatmap } from './plots/heatmap';\nexport type { HeatmapOptions } from './plots/heatmap';\n//  | author by [arcsin1](https://github.com/arcsin1), [visiky](https://github.com/visiky)\nexport { Histogram } from './plots/histogram';\nexport type { HistogramOptions } from './plots/histogram';\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Line } from './plots/line';\nexport type { LineOptions } from './plots/line';\n//  | author by [CarisL](https://github.com/CarisL), [hustcc](https://github.com/hustcc), [pearmini](https://github.com/pearmini)\nexport { addWaterWave, Liquid } from './plots/liquid';\nexport type { LiquidOptions } from './plots/liquid';\n//  Mix\nexport { Mix as Mix, Mix as MultiView } from './plots/mix';\nexport type { MixOptions, MixOptions as MultiViewOptions } from './plots/mix';\n//  | author by [visiky](https://github.com/visiky)\nexport { Pie } from './plots/pie';\nexport type { PieOptions } from './plots/pie';\n//  | author by [connono](https://github.com/connono)\nexport { Progress } from './plots/progress';\nexport type { ProgressOptions } from './plots/progress';\n//  | author by [visiky](https://github.com/visiky)\nexport { Radar } from './plots/radar';\nexport type { RadarOptions } from './plots/radar';\n//  | author by [yujs](https://github.com/yujs) | updated by [visiky](https://github.com/visiky)\nexport { RadialBar } from './plots/radial-bar';\nexport type { RadialBarOptions } from './plots/radial-bar';\n//  | author by [connono](https://github.com/connono)\nexport { RingProgress } from './plots/ring-progress';\nexport type { RingProgressOptions } from './plots/ring-progress';\n//  | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { Rose } from './plots/rose';\nexport type { RoseOptions } from './plots/rose';\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Sankey } from './plots/sankey';\nexport type { SankeyOptions } from './plots/sankey';\n//  | author by [lxfu1](https://github.com/lxfu1)\nexport { Scatter } from './plots/scatter';\nexport type { ScatterOptions } from './plots/scatter';\n// K | author by [jhwong](https://github.com/jinhuiWong), [visiky](https://github.com/visiky)\nexport { Stock } from './plots/stock';\nexport type { StockOptions } from './plots/stock';\n//  | author by [lxfu1](https://github.com/lxfu1), [visiky](https://github.com/visiky)\nexport { Sunburst } from './plots/sunburst';\nexport type { SunburstOptions } from './plots/sunburst';\n//  | author by [connono](https://github.com/connono)\nexport { TinyArea } from './plots/tiny-area';\nexport type { TinyAreaOptions } from './plots/tiny-area';\n//  | author by [connono](https://github.com/connono)\nexport { TinyColumn } from './plots/tiny-column';\nexport type { TinyColumnOptions } from './plots/tiny-column';\n//  | author by [connono](https://github.com/connono)\nexport { TinyLine } from './plots/tiny-line';\nexport type { TinyLineOptions } from './plots/tiny-line';\n// \nexport { Treemap } from './plots/treemap';\nexport type { TreemapOptions } from './plots/treemap';\n//  | author by [visiky](https://github.com/visiky)\nexport { Venn } from './plots/venn';\nexport type { VennOptions } from './plots/venn';\n//  | author by [YiSiWang](https://github.com/YiSiWang), [visiky](https://github.com/visiky)\nexport { Violin } from './plots/violin';\nexport type { ViolinOptions } from './plots/violin';\n//  | author by [visiky](https://github.com/visiky)\nexport { Waterfall } from './plots/waterfall';\nexport type { WaterfallOptions } from './plots/waterfall';\n//  | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { WordCloud } from './plots/word-cloud';\nexport type { WordCloudOptions } from './plots/word-cloud';\n// \n/**  G2Plot.P  G2Plot.P  */\nexport { P } from './plugin';\n// \nexport * from './types';\n/**  adaptor  */\nexport { flow, measureTextWidth } from './utils';\n/**  getCanvasPatterng  */\nexport { getCanvasPattern } from './utils/pattern';\nexport { G2 };\n/**    */\nexport { registerLocale };\n\n/** default locale register */\nregisterLocale('en-US', EN_US_LOCALE);\nregisterLocale('zh-CN', ZH_CN_LOCALE);\n\nexport const adaptors = { scale, legend, tooltip, annotation, interaction, theme, animation };\n",null,null,null,"/**\n *  meta  key \n */\nexport const AXIS_META_CONFIG_KEYS = [\n  'type',\n  'alias',\n  'tickCount',\n  'tickInterval',\n  'min',\n  'max',\n  'nice',\n  'minLimit',\n  'maxLimit',\n  // \n  'range',\n  'tickMethod',\n  // type: 'log' \n  'base',\n  // type: 'exp' \n  'exponent',\n  // time \n  'mask',\n  // \n  'sync',\n];\n",null,null,null,null,null,null,null,null,null,null,"import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\nimport { Size } from '../interface';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele: HTMLElement): Size {\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v: any): boolean {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele: HTMLElement, autoFit: boolean, width: number, height: number): Size {\n  let w = width;\n  let h = height;\n\n  if (autoFit) {\n    const size = getElementSize(ele);\n\n    w = size.width ? size.width : w;\n    h = size.height ? size.height : h;\n  }\n\n  return {\n    width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n    height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n  };\n}\n\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom: HTMLElement) {\n  const parent = dom.parentNode;\n\n  if (parent) {\n    parent.removeChild(dom);\n  }\n}\n\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n",null,"import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n",null,null,null,null,null,null,null,null,null,null,"import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 ChartViewGeometry  Element \n */\nexport default class Base extends EE {\n  /**  */\n  public visible: boolean;\n  /**  */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * \n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n",null,"const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"\\\\d\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  let dateTZ: Date;\n  if (dateInfo.timezoneOffset == null) {\n    dateTZ = new Date(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute,\n      dateInfo.second,\n      dateInfo.millisecond\n    );\n    const validateFields: [\n      \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n      \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n    ][] = [\n      [\"month\", \"getMonth\"],\n      [\"day\", \"getDate\"],\n      [\"hour\", \"getHours\"],\n      [\"minute\", \"getMinutes\"],\n      [\"second\", \"getSeconds\"]\n    ];\n    for (let i = 0, len = validateFields.length; i < len; i++) {\n      // Check to make sure the date field is within the allowed range. Javascript dates allows values\n      // outside the allowed range. If the values don't match the value was invalid\n      if (\n        specifiedFields[validateFields[i][0]] &&\n        dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()\n      ) {\n        return null;\n      }\n    }\n  } else {\n    dateTZ = new Date(\n      Date.UTC(\n        dateInfo.year,\n        dateInfo.month,\n        dateInfo.day,\n        dateInfo.hour,\n        dateInfo.minute - dateInfo.timezoneOffset,\n        dateInfo.second,\n        dateInfo.millisecond\n      )\n    );\n\n    // We can't validate dates in another timezone unfortunately. Do a basic check instead\n    if (\n      dateInfo.month > 11 ||\n      dateInfo.month < 0 ||\n      dateInfo.day > 31 ||\n      dateInfo.day < 1 ||\n      dateInfo.hour > 23 ||\n      dateInfo.hour < 0 ||\n      dateInfo.minute > 59 ||\n      dateInfo.minute < 0 ||\n      dateInfo.second > 59 ||\n      dateInfo.second < 0\n    ) {\n      return null;\n    }\n  }\n\n  // Don't allow invalid dates\n\n  return dateTZ;\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { isString, memoize, values, toString } from '@antv/util';\nimport * as CSS from 'csstype';\nimport { getCanvasContext } from './context';\n\ntype FontFace = CSS.Properties;\n\ntype Font = Pick<FontFace, 'fontFamily' | 'fontWeight' | 'fontStyle' | 'fontVariant'> & {\n  fontSize?: number;\n};\n\n/**\n * \n */\nexport const measureTextWidth = memoize(\n  (text: any, font: Font = {}): number => {\n    const { fontSize, fontFamily, fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    ctx!.font = [fontStyle, fontVariant, fontWeight, `${fontSize}px`, fontFamily].join(' ');\n    return ctx!.measureText(isString(text) ? text : '').width;\n  },\n  (text: any, font: Font = {}) => [text, ...values(font)].join('')\n);\n\n/**\n *  ... \n *  measureText measureText \n * 1.  STEP  maxWidth \n * 2. \n * @param text ,  string,number\n * @param maxWidth\n * @param font\n */\nexport const getEllipsisText = (text: any, maxWidth: number, font?: Font) => {\n  const STEP = 16; //  16\n  const DOT_WIDTH = measureTextWidth('...', font);\n\n  let leftText;\n\n  if (!isString(text)) {\n    leftText = toString(text);\n  } else {\n    leftText = text;\n  }\n\n  let leftWidth = maxWidth;\n\n  const r = []; // \n  let currentText;\n  let currentWidth;\n\n  if (measureTextWidth(text, font) <= maxWidth) {\n    return text;\n  }\n\n  //  step \n  while (true) {\n    // \n    currentText = leftText.substr(0, STEP);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      if (currentWidth > leftWidth) {\n        break;\n      }\n    }\n\n    r.push(currentText);\n\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(STEP);\n\n    // \n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  //  STEP 1 \n  while (true) {\n    // \n    currentText = leftText.substr(0, 1);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      break;\n    }\n\n    r.push(currentText);\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(1);\n\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  return `${r.join('')}...`;\n};\n",null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,null,null,null,null,"import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n",null,null,null,"var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n",null,null,null,null,"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SensorTabIndex = exports.SensorClassName = exports.SizeSensorId = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.fmin = global.fmin || {})));\n}(this, function (exports) { 'use strict';\n\n    /** finds the zeros of a function, given two starting points (which must\n     * have opposite signs */\n    function bisect(f, a, b, parameters) {\n        parameters = parameters || {};\n        var maxIterations = parameters.maxIterations || 100,\n            tolerance = parameters.tolerance || 1e-10,\n            fA = f(a),\n            fB = f(b),\n            delta = b - a;\n\n        if (fA * fB > 0) {\n            throw \"Initial bisect points must have opposite signs\";\n        }\n\n        if (fA === 0) return a;\n        if (fB === 0) return b;\n\n        for (var i = 0; i < maxIterations; ++i) {\n            delta /= 2;\n            var mid = a + delta,\n                fMid = f(mid);\n\n            if (fMid * fA >= 0) {\n                a = mid;\n            }\n\n            if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n                return mid;\n            }\n        }\n        return a + delta;\n    }\n\n    // need some basic operations on vectors, rather than adding a dependency,\n    // just define here\n    function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\n    function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\n    function dot(a, b) {\n        var ret = 0;\n        for (var i = 0; i < a.length; ++i) {\n            ret += a[i] * b[i];\n        }\n        return ret;\n    }\n\n    function norm2(a)  {\n        return Math.sqrt(dot(a, a));\n    }\n\n    function scale(ret, value, c) {\n        for (var i = 0; i < value.length; ++i) {\n            ret[i] = value[i] * c;\n        }\n    }\n\n    function weightedSum(ret, w1, v1, w2, v2) {\n        for (var j = 0; j < ret.length; ++j) {\n            ret[j] = w1 * v1[j] + w2 * v2[j];\n        }\n    }\n\n    /** minimizes a function using the downhill simplex method */\n    function nelderMead(f, x0, parameters) {\n        parameters = parameters || {};\n\n        var maxIterations = parameters.maxIterations || x0.length * 200,\n            nonZeroDelta = parameters.nonZeroDelta || 1.05,\n            zeroDelta = parameters.zeroDelta || 0.001,\n            minErrorDelta = parameters.minErrorDelta || 1e-6,\n            minTolerance = parameters.minErrorDelta || 1e-5,\n            rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n            chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n            psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n            sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n            maxDiff;\n\n        // initialize simplex.\n        var N = x0.length,\n            simplex = new Array(N + 1);\n        simplex[0] = x0;\n        simplex[0].fx = f(x0);\n        simplex[0].id = 0;\n        for (var i = 0; i < N; ++i) {\n            var point = x0.slice();\n            point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n            simplex[i+1] = point;\n            simplex[i+1].fx = f(point);\n            simplex[i+1].id = i+1;\n        }\n\n        function updateSimplex(value) {\n            for (var i = 0; i < value.length; i++) {\n                simplex[N][i] = value[i];\n            }\n            simplex[N].fx = value.fx;\n        }\n\n        var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n        var centroid = x0.slice(),\n            reflected = x0.slice(),\n            contracted = x0.slice(),\n            expanded = x0.slice();\n\n        for (var iteration = 0; iteration < maxIterations; ++iteration) {\n            simplex.sort(sortOrder);\n\n            if (parameters.history) {\n                // copy the simplex (since later iterations will mutate) and\n                // sort it to have a consistent order between iterations\n                var sortedSimplex = simplex.map(function (x) {\n                    var state = x.slice();\n                    state.fx = x.fx;\n                    state.id = x.id;\n                    return state;\n                });\n                sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n                parameters.history.push({x: simplex[0].slice(),\n                                         fx: simplex[0].fx,\n                                         simplex: sortedSimplex});\n            }\n\n            maxDiff = 0;\n            for (i = 0; i < N; ++i) {\n                maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n            }\n\n            if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n                (maxDiff < minTolerance)) {\n                break;\n            }\n\n            // compute the centroid of all but the worst point in the simplex\n            for (i = 0; i < N; ++i) {\n                centroid[i] = 0;\n                for (var j = 0; j < N; ++j) {\n                    centroid[i] += simplex[j][i];\n                }\n                centroid[i] /= N;\n            }\n\n            // reflect the worst point past the centroid  and compute loss at reflected\n            // point\n            var worst = simplex[N];\n            weightedSum(reflected, 1+rho, centroid, -rho, worst);\n            reflected.fx = f(reflected);\n\n            // if the reflected point is the best seen, then possibly expand\n            if (reflected.fx < simplex[0].fx) {\n                weightedSum(expanded, 1+chi, centroid, -chi, worst);\n                expanded.fx = f(expanded);\n                if (expanded.fx < reflected.fx) {\n                    updateSimplex(expanded);\n                }  else {\n                    updateSimplex(reflected);\n                }\n            }\n\n            // if the reflected point is worse than the second worst, we need to\n            // contract\n            else if (reflected.fx >= simplex[N-1].fx) {\n                var shouldReduce = false;\n\n                if (reflected.fx > worst.fx) {\n                    // do an inside contraction\n                    weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < worst.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                } else {\n                    // do an outside contraction\n                    weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < reflected.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                }\n\n                if (shouldReduce) {\n                    // if we don't contract here, we're done\n                    if (sigma >= 1) break;\n\n                    // do a reduction\n                    for (i = 1; i < simplex.length; ++i) {\n                        weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                        simplex[i].fx = f(simplex[i]);\n                    }\n                }\n            } else {\n                updateSimplex(reflected);\n            }\n        }\n\n        simplex.sort(sortOrder);\n        return {fx : simplex[0].fx,\n                x : simplex[0]};\n    }\n\n    /// searches along line 'pk' for a point that satifies the wolfe conditions\n    /// See 'Numerical Optimization' by Nocedal and Wright p59-60\n    /// f : objective function\n    /// pk : search direction\n    /// current: object containing current gradient/loss\n    /// next: output: contains next gradient/loss\n    /// returns a: step size taken\n    function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n        var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n            phi = phi0, phi_old = phi0,\n            phiPrime = phiPrime0,\n            a0 = 0;\n\n        a = a || 1;\n        c1 = c1 || 1e-6;\n        c2 = c2 || 0.1;\n\n        function zoom(a_lo, a_high, phi_lo) {\n            for (var iteration = 0; iteration < 16; ++iteration) {\n                a = (a_lo + a_high)/2;\n                weightedSum(next.x, 1.0, current.x, a, pk);\n                phi = next.fx = f(next.x, next.fxprime);\n                phiPrime = dot(next.fxprime, pk);\n\n                if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                    (phi >= phi_lo)) {\n                    a_high = a;\n\n                } else  {\n                    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                        return a;\n                    }\n\n                    if (phiPrime * (a_high - a_lo) >=0) {\n                        a_high = a_lo;\n                    }\n\n                    a_lo = a;\n                    phi_lo = phi;\n                }\n            }\n\n            return 0;\n        }\n\n        for (var iteration = 0; iteration < 10; ++iteration) {\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (iteration && (phi >= phi_old))) {\n                return zoom(a0, a, phi_old);\n            }\n\n            if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                return a;\n            }\n\n            if (phiPrime >= 0 ) {\n                return zoom(a, a0, phi);\n            }\n\n            phi_old = phi;\n            a0 = a;\n            a *= 2;\n        }\n\n        return a;\n    }\n\n    function conjugateGradient(f, initial, params) {\n        // allocate all memory up front here, keep out of the loop for perfomance\n        // reasons\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            yk = initial.slice(),\n            pk, temp,\n            a = 1,\n            maxIterations;\n\n        params = params || {};\n        maxIterations = params.maxIterations || initial.length * 20;\n\n        current.fx = f(current.x, current.fxprime);\n        pk = current.fxprime.slice();\n        scale(pk, current.fxprime,-1);\n\n        for (var i = 0; i < maxIterations; ++i) {\n            a = wolfeLineSearch(f, pk, current, next, a);\n\n            // todo: history in wrong spot?\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     alpha: a});\n            }\n\n            if (!a) {\n                // faiiled to find point that satifies wolfe conditions.\n                // reset direction for next iteration\n                scale(pk, current.fxprime, -1);\n\n            } else {\n                // update direction using PolakRibiere CG method\n                weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n                var delta_k = dot(current.fxprime, current.fxprime),\n                    beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n                weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n                temp = current;\n                current = next;\n                next = temp;\n            }\n\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        return current;\n    }\n\n    function gradientDescent(f, initial, params) {\n        params = params || {};\n        var maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 0.001,\n            current = {x: initial.slice(), fx: 0, fxprime: initial.slice()};\n\n        for (var i = 0; i < maxIterations; ++i) {\n            current.fx = f(current.x, current.fxprime);\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice()});\n            }\n\n            weightedSum(current.x, 1, current.x, -learnRate, current.fxprime);\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        return current;\n    }\n\n    function gradientDescentLineSearch(f, initial, params) {\n        params = params || {};\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 1,\n            pk = initial.slice(),\n            c1 = params.c1 || 1e-3,\n            c2 = params.c2 || 0.1,\n            temp,\n            functionCalls = [];\n\n        if (params.history) {\n            // wrap the function call to track linesearch samples\n            var inner = f;\n            f = function(x, fxprime) {\n                functionCalls.push(x.slice());\n                return inner(x, fxprime);\n            };\n        }\n\n        current.fx = f(current.x, current.fxprime);\n        for (var i = 0; i < maxIterations; ++i) {\n            scale(pk, current.fxprime, -1);\n            learnRate = wolfeLineSearch(f, pk, current, next, learnRate, c1, c2);\n\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     functionCalls: functionCalls,\n                                     learnRate: learnRate,\n                                     alpha: learnRate});\n                functionCalls = [];\n            }\n\n\n            temp = current;\n            current = next;\n            next = temp;\n\n            if ((learnRate === 0) || (norm2(current.fxprime) < 1e-5)) break;\n        }\n\n        return current;\n    }\n\n    exports.bisect = bisect;\n    exports.nelderMead = nelderMead;\n    exports.conjugateGradient = conjugateGradient;\n    exports.gradientDescent = gradientDescent;\n    exports.gradientDescentLineSearch = gradientDescentLineSearch;\n    exports.zeros = zeros;\n    exports.zerosM = zerosM;\n    exports.norm2 = norm2;\n    exports.weightedSum = weightedSum;\n    exports.scale = scale;\n\n}));",null,null,null,null,null,null,null,"var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n",null,"import colorUtil from '@antv/color-util';\n\n// \nconst preset = {\n  '#5B8FF9': true,\n};\n\n// YIQ\n// http://24ways.org/2010/calculating-color-contrast\n// http://www.w3.org/TR/AERT#color-contrast\nexport const isContrastColorWhite = (color: string): boolean => {\n  const rgb = colorUtil.toRGB(color).toUpperCase();\n  if (preset[rgb]) {\n    return preset[rgb];\n  }\n\n  const [r, g, b] = colorUtil.rgb2arr(rgb);\n  const isDark = (r * 299 + g * 587 + b * 114) / 1000 < 128;\n\n  return isDark;\n};\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\n\nvar _sensorPool = require(\"./sensorPool\");\n\n/**\n * Created by hustcc on 18/6/9.[]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // listen with callback\n\n  sensor.bind(cb); // return unbind function\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\n\n\nexports.bind = bind;\n\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nexports.clear = clear;\nvar ver = \"1.0.1\";\nexports.ver = ver;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = void 0;\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _sensors = require(\"./sensors\");\n\nvar _constant = require(\"./constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\n\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. if the sensor exists, then use it\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. not exist, then create one\n\n\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // add sensor into pool\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n *  sensor\n * @param sensor\n */\n\n\nexports.getSensor = getSensor;\n\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // remove attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // remove event, dom of the sensor used\n\n  sensor.destroy(); // exist, then remove from pool\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};\n\nexports.removeSensor = removeSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar id = 1;\n/**\n * generate unique id in application\n * @return {string}\n */\n\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _object = require(\"./object\");\n\nvar _resizeObserver = require(\"./resizeObserver\");\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); //  resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * trigger listeners\n   */\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener); // listen element\n\n    s.observe(element); // trigger once\n\n    resizeListener();\n    return s;\n  };\n  /**\n   * listen with callback\n   * @param cb\n   */\n\n\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy\n   */\n\n\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n  };\n  /**\n   * cancel bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","// https://github.com/HarryStevens/d3-regression#readme Version 1.3.10. Copyright 2022 Harry Stevens.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.d3 = {}));\n}(this, (function (exports) { 'use strict';\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n\n  // Adapted from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\n  function points(data, x, y, sort) {\n    data = data.filter(function (d, i) {\n      var u = x(d, i),\n          v = y(d, i);\n      return u != null && isFinite(u) && v != null && isFinite(v);\n    });\n\n    if (sort) {\n      data.sort(function (a, b) {\n        return x(a) - x(b);\n      });\n    }\n\n    var n = data.length,\n        X = new Float64Array(n),\n        Y = new Float64Array(n); // extract values, calculate means\n\n    var ux = 0,\n        uy = 0,\n        xv,\n        yv,\n        d;\n\n    for (var i = 0; i < n;) {\n      d = data[i];\n      X[i] = xv = +x(d, i, data);\n      Y[i] = yv = +y(d, i, data);\n      ++i;\n      ux += (xv - ux) / i;\n      uy += (yv - uy) / i;\n    } // mean center the data\n\n\n    for (var _i = 0; _i < n; ++_i) {\n      X[_i] -= ux;\n      Y[_i] -= uy;\n    }\n\n    return [X, Y, ux, uy];\n  }\n  function visitPoints(data, x, y, cb) {\n    var iterations = 0;\n\n    for (var i = 0, n = data.length; i < n; i++) {\n      var d = data[i],\n          dx = +x(d, i, data),\n          dy = +y(d, i, data);\n\n      if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n        cb(dx, dy, iterations++);\n      }\n    }\n  }\n\n  // return the coefficient of determination, or R squared.\n\n  function determination(data, x, y, uY, predict) {\n    var SSE = 0,\n        SST = 0;\n    visitPoints(data, x, y, function (dx, dy) {\n      var sse = dy - predict(dx),\n          sst = dy - uY;\n      SSE += sse * sse;\n      SST += sst * sst;\n    });\n    return 1 - SSE / SST;\n  }\n\n  // Returns the angle of a line in degrees.\n  function angle(line) {\n    return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n  } // Returns the midpoint of a line.\n\n  function midpoint(line) {\n    return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n  }\n\n  // returns a smooth line.\n\n  function interpose(xmin, xmax, predict) {\n    var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n    var precision = 1 * Math.pow(10, -l / 2 - 1),\n        maxIter = 1e4;\n    var points = [px(xmin), px(xmax)],\n        iter = 0;\n\n    while (find(points) && iter < maxIter) {\n    }\n\n    return points;\n\n    function px(x) {\n      return [x, predict(x)];\n    }\n\n    function find(points) {\n      iter++;\n      var n = points.length;\n      var found = false;\n\n      for (var i = 0; i < n - 1; i++) {\n        var p0 = points[i],\n            p1 = points[i + 1],\n            m = midpoint([p0, p1]),\n            mp = px(m[0]),\n            a0 = angle([p0, m]),\n            a1 = angle([p0, mp]),\n            a = Math.abs(a0 - a1);\n\n        if (a > precision) {\n          points.splice(i + 1, 0, mp);\n          found = true;\n        }\n      }\n\n      return found;\n    }\n  }\n\n  // Ordinary Least Squares from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\n  function ols(uX, uY, uXY, uX2) {\n    var delta = uX2 - uX * uX,\n        slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n        intercept = uY - slope * uX;\n    return [intercept, slope];\n  }\n\n  function exponential () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function exponential(data) {\n      var n = 0,\n          Y = 0,\n          YL = 0,\n          XY = 0,\n          XYL = 0,\n          X2Y = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var ly = Math.log(dy),\n            xy = dx * dy;\n        ++n;\n        Y += (dy - Y) / n;\n        XY += (xy - XY) / n;\n        X2Y += (dx * xy - X2Y) / n;\n        YL += (dy * ly - YL) / n;\n        XYL += (xy * ly - XYL) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.exp(b * x);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    exponential.domain = function (arr) {\n      return arguments.length ? (domain = arr, exponential) : domain;\n    };\n\n    exponential.x = function (fn) {\n      return arguments.length ? (x = fn, exponential) : x;\n    };\n\n    exponential.y = function (fn) {\n      return arguments.length ? (y = fn, exponential) : y;\n    };\n\n    return exponential;\n  }\n\n  function linear () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function linear(data) {\n      var n = 0,\n          X = 0,\n          // sum of x\n      Y = 0,\n          // sum of y\n      XY = 0,\n          // sum of x * y\n      X2 = 0,\n          // sum of x * x\n      xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n;\n        X += (dx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (dx * dy - XY) / n;\n        X2 += (dx * dx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * x + intercept;\n      },\n          out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    linear.domain = function (arr) {\n      return arguments.length ? (domain = arr, linear) : domain;\n    };\n\n    linear.x = function (fn) {\n      return arguments.length ? (x = fn, linear) : x;\n    };\n\n    linear.y = function (fn) {\n      return arguments.length ? (y = fn, linear) : y;\n    };\n\n    return linear;\n  }\n\n  // Returns the medium value of an array of numbers.\n  function median(arr) {\n    arr.sort(function (a, b) {\n      return a - b;\n    });\n    var i = arr.length / 2;\n    return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n  }\n\n  var maxiters = 2,\n      epsilon = 1e-12;\n  function loess () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        bandwidth = .3;\n\n    function loess(data) {\n      var _points = points(data, x, y, true),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          bw = Math.max(2, ~~(bandwidth * n)),\n          yhat = new Float64Array(n),\n          residuals = new Float64Array(n),\n          robustWeights = new Float64Array(n).fill(1);\n\n      for (var iter = -1; ++iter <= maxiters;) {\n        var interval = [0, bw - 1];\n\n        for (var i = 0; i < n; ++i) {\n          var dx = xv[i],\n              i0 = interval[0],\n              i1 = interval[1],\n              edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n          var W = 0,\n              X = 0,\n              Y = 0,\n              XY = 0,\n              X2 = 0,\n              denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n          for (var k = i0; k <= i1; ++k) {\n            var xk = xv[k],\n                yk = yv[k],\n                w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n                xkw = xk * w;\n            W += w;\n            X += xkw;\n            Y += yk * w;\n            XY += yk * xkw;\n            X2 += xk * xkw;\n          } // Linear regression fit\n\n\n          var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n              _ols2 = _slicedToArray(_ols, 2),\n              a = _ols2[0],\n              b = _ols2[1];\n\n          yhat[i] = a + b * dx;\n          residuals[i] = Math.abs(yv[i] - yhat[i]);\n          updateInterval(xv, i + 1, interval);\n        }\n\n        if (iter === maxiters) {\n          break;\n        }\n\n        var medianResidual = median(residuals);\n        if (Math.abs(medianResidual) < epsilon) break;\n\n        for (var _i = 0, arg, _w; _i < n; ++_i) {\n          arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n          // Keeping weights tiny but non-zero prevents singularites\n\n          robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n        }\n      }\n\n      return output(xv, yhat, ux, uy);\n    }\n\n    loess.bandwidth = function (bw) {\n      return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n    };\n\n    loess.x = function (fn) {\n      return arguments.length ? (x = fn, loess) : x;\n    };\n\n    loess.y = function (fn) {\n      return arguments.length ? (y = fn, loess) : y;\n    };\n\n    return loess;\n  } // Weighting kernel for local regression\n\n  function tricube(x) {\n    return (x = 1 - x * x * x) * x * x;\n  } // Advance sliding window interval of nearest neighbors\n\n\n  function updateInterval(xv, i, interval) {\n    var val = xv[i],\n        left = interval[0],\n        right = interval[1] + 1;\n    if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n    // Step when distance is equal to ensure movement over duplicate x values\n\n    while (i > left && xv[right] - val <= val - xv[left]) {\n      interval[0] = ++left;\n      interval[1] = right;\n      ++right;\n    }\n  } // Generate smoothed output points\n  // Average points with repeated x values\n\n\n  function output(xv, yhat, ux, uy) {\n    var n = xv.length,\n        out = [];\n    var i = 0,\n        cnt = 0,\n        prev = [],\n        v;\n\n    for (; i < n; ++i) {\n      v = xv[i] + ux;\n\n      if (prev[0] === v) {\n        // Average output values via online update\n        prev[1] += (yhat[i] - prev[1]) / ++cnt;\n      } else {\n        // Add new output point\n        cnt = 0;\n        prev[1] += uy;\n        prev = [v, yhat[i]];\n        out.push(prev);\n      }\n    }\n\n    prev[1] += uy;\n    return out;\n  }\n\n  function logarithmic () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        base = Math.E,\n        domain;\n\n    function logarithmic(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity,\n          lb = Math.log(base);\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx) / lb;\n        ++n;\n        X += (lx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (lx * dy - XY) / n;\n        X2 += (lx * lx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * Math.log(x) / lb + intercept;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    logarithmic.domain = function (arr) {\n      return arguments.length ? (domain = arr, logarithmic) : domain;\n    };\n\n    logarithmic.x = function (fn) {\n      return arguments.length ? (x = fn, logarithmic) : x;\n    };\n\n    logarithmic.y = function (fn) {\n      return arguments.length ? (y = fn, logarithmic) : y;\n    };\n\n    logarithmic.base = function (n) {\n      return arguments.length ? (base = n, logarithmic) : base;\n    };\n\n    return logarithmic;\n  }\n\n  function quad () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function quadratic(data) {\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length;\n\n      var X2 = 0,\n          X3 = 0,\n          X4 = 0,\n          XY = 0,\n          X2Y = 0,\n          i,\n          dx,\n          dy,\n          x2;\n\n      for (i = 0; i < n;) {\n        dx = xv[i];\n        dy = yv[i++];\n        x2 = dx * dx;\n        X2 += (x2 - X2) / i;\n        X3 += (x2 * dx - X3) / i;\n        X4 += (x2 * x2 - X4) / i;\n        XY += (dx * dy - XY) / i;\n        X2Y += (x2 * dy - X2Y) / i;\n      }\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        n0++;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var X2X2 = X4 - X2 * X2,\n          d = X2 * X2X2 - X3 * X3,\n          a = (X2Y * X2 - XY * X3) / d,\n          b = (XY * X2X2 - X2Y * X3) / d,\n          c = -a * X2,\n          fn = function fn(x) {\n        x = x - ux;\n        return a * x * x + b * x + c + uy;\n      };\n\n      var out = interpose(xmin, xmax, fn);\n      out.a = a;\n      out.b = b - 2 * a * ux;\n      out.c = c - b * ux + a * ux * ux + uy;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    quadratic.domain = function (arr) {\n      return arguments.length ? (domain = arr, quadratic) : domain;\n    };\n\n    quadratic.x = function (fn) {\n      return arguments.length ? (x = fn, quadratic) : x;\n    };\n\n    quadratic.y = function (fn) {\n      return arguments.length ? (y = fn, quadratic) : y;\n    };\n\n    return quadratic;\n  }\n\n  // Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n  // License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n  // ...with ideas from vega-statistics by Jeffrey Heer\n  // Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\n  function polynomial () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        order = 3,\n        domain;\n\n    function polynomial(data) {\n      // Use more efficient methods for lower orders\n      if (order === 1) {\n        var o = linear().x(x).y(y).domain(domain)(data);\n        o.coefficients = [o.b, o.a];\n        delete o.a;\n        delete o.b;\n        return o;\n      }\n\n      if (order === 2) {\n        var _o = quad().x(x).y(y).domain(domain)(data);\n\n        _o.coefficients = [_o.c, _o.b, _o.a];\n        delete _o.a;\n        delete _o.b;\n        delete _o.c;\n        return _o;\n      }\n\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          lhs = [],\n          rhs = [],\n          k = order + 1;\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n0;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n      var i, j, l, v, c;\n\n      for (i = 0; i < k; ++i) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i) * yv[l];\n        }\n\n        lhs.push(v);\n        c = new Float64Array(k);\n\n        for (j = 0; j < k; ++j) {\n          for (l = 0, v = 0; l < n; ++l) {\n            v += Math.pow(xv[l], i + j);\n          }\n\n          c[j] = v;\n        }\n\n        rhs.push(c);\n      }\n\n      rhs.push(lhs);\n\n      var coef = gaussianElimination(rhs),\n          fn = function fn(x) {\n        x -= ux;\n        var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n        for (i = 3; i < k; ++i) {\n          y += coef[i] * Math.pow(x, i);\n        }\n\n        return y;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.coefficients = uncenter(k, coef, -ux, uy);\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    polynomial.domain = function (arr) {\n      return arguments.length ? (domain = arr, polynomial) : domain;\n    };\n\n    polynomial.x = function (fn) {\n      return arguments.length ? (x = fn, polynomial) : x;\n    };\n\n    polynomial.y = function (fn) {\n      return arguments.length ? (y = fn, polynomial) : y;\n    };\n\n    polynomial.order = function (n) {\n      return arguments.length ? (order = n, polynomial) : order;\n    };\n\n    return polynomial;\n  }\n\n  function uncenter(k, a, x, y) {\n    var z = Array(k);\n    var i, j, v, c; // initialize to zero\n\n    for (i = 0; i < k; ++i) {\n      z[i] = 0;\n    } // polynomial expansion\n\n\n    for (i = k - 1; i >= 0; --i) {\n      v = a[i];\n      c = 1;\n      z[i] += v;\n\n      for (j = 1; j <= i; ++j) {\n        c *= (i + 1 - j) / j; // binomial coefficent\n\n        z[i - j] += v * Math.pow(x, j) * c;\n      }\n    } // bias term\n\n\n    z[0] += y;\n    return z;\n  } // Given an array for a two-dimensional matrix and the polynomial order,\n  // solve A * x = b using Gaussian elimination.\n\n\n  function gaussianElimination(matrix) {\n    var n = matrix.length - 1,\n        coef = [];\n    var i, j, k, r, t;\n\n    for (i = 0; i < n; ++i) {\n      r = i; // max row\n\n      for (j = i + 1; j < n; ++j) {\n        if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n          r = j;\n        }\n      }\n\n      for (k = i; k < n + 1; ++k) {\n        t = matrix[k][i];\n        matrix[k][i] = matrix[k][r];\n        matrix[k][r] = t;\n      }\n\n      for (j = i + 1; j < n; ++j) {\n        for (k = n; k >= i; k--) {\n          matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n        }\n      }\n    }\n\n    for (j = n - 1; j >= 0; --j) {\n      t = 0;\n\n      for (k = j + 1; k < n; ++k) {\n        t += matrix[k][j] * coef[k];\n      }\n\n      coef[j] = (matrix[n][j] - t) / matrix[j][j];\n    }\n\n    return coef;\n  }\n\n  function power () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function power(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          YS = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx),\n            ly = Math.log(dy);\n        ++n;\n        X += (lx - X) / n;\n        Y += (ly - Y) / n;\n        XY += (lx * ly - XY) / n;\n        X2 += (lx * lx - X2) / n;\n        YS += (dy - YS) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.pow(x, b);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, YS, fn);\n      return out;\n    }\n\n    power.domain = function (arr) {\n      return arguments.length ? (domain = arr, power) : domain;\n    };\n\n    power.x = function (fn) {\n      return arguments.length ? (x = fn, power) : x;\n    };\n\n    power.y = function (fn) {\n      return arguments.length ? (y = fn, power) : y;\n    };\n\n    return power;\n  }\n\n  exports.regressionExp = exponential;\n  exports.regressionLinear = linear;\n  exports.regressionLoess = loess;\n  exports.regressionLog = logarithmic;\n  exports.regressionPoly = polynomial;\n  exports.regressionPow = power;\n  exports.regressionQuad = quad;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n","'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n","// This icon file is generated automatically.\nvar DollarCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z\" } }] }, \"name\": \"dollar-circle\", \"theme\": \"outlined\" };\nexport default DollarCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DollarCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/DollarCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar DollarCircleOutlined = function DollarCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DollarCircleOutlinedSvg\n  }));\n};\nDollarCircleOutlined.displayName = 'DollarCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(DollarCircleOutlined);","import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n *  engine\n * @param name \n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * \n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n",null,null,null,null,null,null,null,null,null,null,"/*  */\n\n// G\nexport {\n  ICanvas,\n  IElement,\n  IGroup,\n  IShape,\n  PathCommand,\n  BBox,\n  Point,\n  ShapeAttrs,\n  Event,\n  AbstractGroup,\n  AbstractShape,\n} from '@antv/g-base';\n//  G-base  g engine \nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig, Tick } from '@antv/scale';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n  Scrollbar,\n} from '@antv/component';\n\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendPageNavigatorCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n  EnhancedTextCfg,\n  LineAnnotationTextCfg,\n  IComponent,\n  IList,\n} from '@antv/component';\n\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n","import { BBox } from '@antv/g-svg';\nimport { each, isEmpty, isNumber, isNumberEqual, max, min } from '@antv/util';\nimport { Coordinate, IShape, Point } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// \nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nfunction uniqueValues<T = number>(array: T[]) {\n  return Array.from(new Set(array)).length === 1;\n}\n\nfunction mid(array: number[]) {\n  return (min(array) + max(array)) / 2;\n}\n\n/**\n * @ignore\n * \n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n *  path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // \n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n *  points \n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * : https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // xs  ys \n    return [xs, ys];\n  }\n\n  xs = xs as number[];\n  ys = ys as number[];\n  //  polygon \n  //  xs [1, 1, 1, 1]\n  //  ys [0, 0, 0, 0]\n  //  k = 0\n  //  [NaN, NaN]\n  // \n  if (uniqueValues(xs) || uniqueValues(ys)) return [mid(xs), mid(ys)];\n\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = xs.length - 1;\n  let diff;\n  let k = 0;\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n *  undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n","import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  if (typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      delete obj[key];\n    });\n  }\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: Map<any, boolean> = new Map()) {\n  for (const source of sourceArray) {\n    if (!map.has(source)) {\n      targetArray.push(source);\n      map.set(source, true);\n    }\n  }\n  return targetArray;\n}\n","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { BBox as BBoxObject } from '../dependents';\n\n/**\n * \n */\nexport class BBox {\n  /** x  */\n  public x: number;\n  /** y  */\n  public y: number;\n  /**  */\n  public height: number;\n  /**  */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  public static fromObject(bbox: BBoxObject) {\n    return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end \n\n  /**\n   * \n   * @param {BBox} bbox \n   * @returns      \n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * \n   * @param child\n   */\n  public contains(child: BBox): boolean {\n    return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox \n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // \n        return this;\n    }\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public expand(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): Padding {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * \n   * @param bbox\n   */\n  public collide(bbox: BBox): boolean {\n    return this.minX < bbox.maxX && this.maxX > bbox.minX && this.minY < bbox.maxY && this.maxY > bbox.minY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n\n  /**\n   *  bbox \n   * @param p\n   */\n  public isPointIn(p: Point) {\n    return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n  }\n}\n\n/**\n *  bbox  region  bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n *  bbox  points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY],\n  ];\n}\n","import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    //  width \n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // \n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  //  transpose \n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * \n * @param coordinate \n * @param point \n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n    \n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * \n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n\n/**\n *  BBox\n * @param coordinate\n * @param margin\n */\nexport function getCoordinateBBox(coordinate: Coordinate, margin = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  const minX = Math.min(start.x, end.x);\n  const minY = Math.min(start.y, end.y);\n\n  return BBox.fromRange(minX - margin, minY - margin, minX + width + margin, minY + height + margin);\n}\n","import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { GROUP_ATTRS } from '../constant';\nimport { getScale, Scale, Coordinate } from '../dependents';\nimport { LooseObject, ScaleOption, ViewCfg } from '../interface';\nimport { isFullCircle } from './coordinate';\n\nconst dateRegex =\n  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * \n * @param field \n * @param data \n * @returns default type \n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'timeCat';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * using the scale type if user specified, otherwise infer the type\n */\nexport function inferScaleType(scale: Scale, scaleDef: ScaleOption = {}, attrType: string, geometryType: string): string {\n  if (scaleDef.type) return scaleDef.type;\n  // identity scale \n  // geometry : edge,heatmap,interval,line,path,point,polygon,schema,voilininterval  linear scale \n  if (scale.type !== 'identity' && GROUP_ATTRS.includes(attrType) && ['interval'].includes(geometryType)) {\n    return 'cat';\n  }\n  return scale.isCategory ? 'cat' : scale.type;\n}\n\n/**\n * @ignore\n *  `field`  scale\n * @param field \n * @param [data] \n * @param [scaleDef] \n * @returns scale  Scale \n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  //  (fix-later  scale type )\n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n *  scale\n * @todo  scale.update() \n * @param scale  scale \n * @param newScale  Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n\n/**\n *  scale values  coordinate  range\n * @param scale  scale \n * @param coordinate coordinate \n * @param theme theme\n */\nexport function getDefaultCategoryScaleRange(\n  scale: Scale,\n  coordinate: Coordinate,\n  theme: ViewCfg['theme']\n): Scale['range'] {\n  const { values } = scale;\n  const count = values.length;\n  let range;\n\n  if (count === 1) {\n    range = [0.5, 1]; // , [0.5,0.5] \n  } else {\n    let widthRatio = 1;\n    let offset = 0;\n\n    if (isFullCircle(coordinate)) {\n      if (!coordinate.isTransposed) {\n        range = [0, 1 - 1 / count];\n      } else {\n        widthRatio = get(theme, 'widthRatio.multiplePie', 1 / 1.3);\n        offset = (1 / count) * widthRatio;\n        range = [offset / 2, 1 - offset / 2];\n      }\n    } else {\n      offset = 1 / count / 2; // \n      range = [offset, 1 - offset]; // \n    }\n  }\n  return range;\n}\n\n/**\n * @function yscalemax\n * @param {yScale}\n */\nexport function getMaxScale(scale: Scale) {\n  // values[] NaN/undefined/null \n  const values = scale.values.filter((item) => !isNil(item) && !isNaN(item));\n\n  return Math.max(...values, isNil(scale.max) ? -Infinity : scale.max);\n}\n","import { deepMix, get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // \n  if (isAxisVertical) {\n    // ,,\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // ,,\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix({}, get(axisTheme, ['common'], {}), deepMix({}, get(axisTheme, [direction], {})));\n}\n\n/**\n * get the options of axis titlemix the cfg from theme, avoid common themeCfg not work\n * @param theme\n * @param direction\n * @param axisOptions\n * @returns axis title options\n */\nexport function getAxisTitleOptions(theme: object, direction: string, axisOptions?: object): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix(\n    {},\n    get(axisTheme, ['common', 'title'], {}),\n    deepMix({}, get(axisTheme, [direction, 'title'], {})),\n    axisOptions\n  );\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n *  axis \n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n *  position\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n *  axis  title \n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n","import { deepMix, each, every, get, isNil, isNumber } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet \n *  -  facet\n *  - \n *\n * \n *\n *  init\n * 1. \n * 2. \n *\n *  render\n * 1. view \n * 2. title\n * 3. axis\n *\n *  clear\n * 1.  view\n *\n *  destroy\n * 1. clear\n * 2. \n * 3.  group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /**  view */\n  public view: View;\n  /**  */\n  public container: IGroup;\n  /**  */\n  public destroyed: boolean = false;\n\n  /**  */\n  protected cfg: C;\n  /**  */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * \n   */\n  public init() {\n    // \n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // \n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   *  view \n   *  -  view\n   *  - \n   *  - title\n   *\n   *  \n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   *  facet\n   */\n  public update() {\n    //  facet  View  Geometry  view \n  }\n\n  /**\n   * clear  init \n   * \n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   *  facet  view\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // \n    view.data(data || []);\n    facet.view = view;\n\n    // \n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // \n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // \n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   *  view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   *   view\n   */\n  private createFacetViews(): View[] {\n    //   view\n    return this.facets.map((facet): View => {\n      return this.facetToView(facet);\n    });\n  }\n\n  /**\n   *  view  facetView\n   */\n  private clearFacetViews() {\n    //  view  view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  /**\n   *  spacing\n   */\n  private parseSpacing() {\n    /**\n     * @example\n     *\n     * // \n     * //  10% 10%\n     * ['10%', '10%']\n     * //  10px 10px\n     * [10, 10]\n     *\n     * // \n     * ['10%', 10]\n     * //  10% 10px\n     */\n    const { width, height } = this.view.viewBBox;\n    const { spacing } = this.cfg;\n    return spacing.map((s: number, idx: number) => {\n      if (isNumber(s)) return s / (idx === 0 ? width : height);\n      else return parseFloat(s) / 100;\n    });\n  }\n\n  // \n\n  /**\n   * \n   * @protected\n   * @param data \n   * @param field \n   * @return \n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    //  Nil \n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   *  region\n   * @param rows row \n   * @param cols col \n   * @param xIndex x  index\n   * @param yIndex y  index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    const [xSpacing, ySpacing] = this.parseSpacing();\n    // xSPacing, ySpacing\n    // \n    /**\n     * ratio * num + spacing * (num - 1) = 1\n     * => ratio = (1 - (spacing * (num - 1))) / num\n     *          = (1 + spacing) / num - spacing\n     *\n     * num  cols/rows\n     * spacing  xSpacing/ySpacing\n     */\n    const xRatio = (1 + xSpacing) / (cols === 0 ? 1 : cols) - xSpacing;\n    const yRatio = (1 + ySpacing) / (rows === 0 ? 1 : rows) - ySpacing;\n\n    //  index \n    const start = {\n      x: (xRatio + xSpacing) * xIndex,\n      y: (yRatio + ySpacing) * yIndex,\n    };\n    const end = {\n      x: start.x + xRatio,\n      y: start.y + yRatio,\n    };\n    return { start, end };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      spacing: [0, 0],\n      padding: 10,\n      fields: [],\n    };\n  }\n\n  /**\n   *  title  title columnTitlerowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      },\n    };\n  }\n\n  /**\n   *  axis \n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // \n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override  eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override  eachView \n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override \n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   *  x \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   *  y \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n","import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n *  Facet \n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n *  type  facet \n * @param type \n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n *  Facet \n * @param type \n * @param ctor \n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n","import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action \n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action  */\n  public name;\n  /**  */\n  public context: IInteractionContext;\n  /** Action  */\n  protected cfg: T;\n  /**  this  */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * \n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    //  action\n    this.context.removeAction(this);\n    // \n    this.context = null;\n  }\n}\n\nexport default Action;\n","import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/**  Action */\nexport default class CallbackAction extends Action {\n  /**\n   * \n   */\n  public callback: ActionCallback;\n  /**\n   * \n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n","import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action  */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action \nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n *  Action \n * @param actionName - action \n * @param context \n * @returns Action \n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n *  action  name \n * @param actionName action  name\n */\nexport function getActionClass(actionName: string): ActionConstructor {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n *  Action\n * @param actionName - action \n * @param ActionClass -  action \n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n *  Action\n * @param actionName action \n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n *  Action \n * @param callback - action \n * @param context \n * @returns Action \n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\nfunction _convertArcPath(path: PathCommand, coord: Coordinate): any[] {\n  const { isTransposed } = coord;\n  const r = path[1];\n  const x = path[6];\n  const y = path[7];\n  const point = coord.convert({ x, y });\n  const direction = isTransposed ? 0 : 1;\n  return ['A', r, r, 0, 0, direction, point.x, point.y];\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n  const prePoint =\n    pre[0].toLowerCase() === 'a'\n      ? {\n          x: pre[6],\n          y: pre[7],\n        }\n      : {\n          x: pre[1],\n          y: pre[2],\n        };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \n  const flag = angleRange > Math.PI ? 1 : 0; // \n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // 1\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  const hasConstraint = !!constraint;\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  let min: Position;\n  let max: Position;\n  let nextCp0: Position;\n  let cp1: Position;\n  let cp0: Position;\n\n  if (hasConstraint) {\n    [min, max] = constraint;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (i === 0 && !isLoop) {\n      cp0 = point;\n    } else if (i === len - 1 && !isLoop) {\n      cp1 = point;\n      cps.push(cp0);\n      cps.push(cp1);\n    } else {\n      prevPoint = points[isLoop ? (i ? i - 1 : len - 1) : i - 1];\n      nextPoint = points[isLoop ? (i + 1) % len : i + 1];\n\n      let v: [number, number] = [0, 0];\n      v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n      v = vec2.scale(v, v, smooth) as [number, number];\n\n      let d0 = vec2.distance(point, prevPoint);\n      let d1 = vec2.distance(point, nextPoint);\n\n      const sum = d0 + d1;\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      let v1 = vec2.scale([0, 0], v, -d0);\n      let v2 = vec2.scale([0, 0], v, d1);\n\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      // \n      nextCp0 = vec2.min([0, 0], nextCp0, vec2.max([0, 0], nextPoint, point)) as Position;\n      nextCp0 = vec2.max([0, 0], nextCp0, vec2.min([0, 0], nextPoint, point)) as Position;\n\n      //  cp1 \n      v1 = vec2.sub([0, 0], nextCp0, point);\n      v1 = vec2.scale([0, 0], v1, -d0 / d1);\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n\n      // \n      cp1 = vec2.min([0, 0], cp1, vec2.max([0, 0], prevPoint, point)) as Position;\n      cp1 = vec2.max([0, 0], cp1, vec2.min([0, 0], prevPoint, point)) as Position;\n\n      //  nextCp0 \n      v2 = vec2.sub([0, 0], point, cp1);\n      v2 = vec2.scale([0, 0], v2, d1 / d0);\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      if (hasConstraint) {\n        cp1 = vec2.max([0, 0], cp1, min) as Position;\n        cp1 = vec2.min([0, 0], cp1, max) as Position;\n        nextCp0 = vec2.max([0, 0], nextCp0, min) as Position;\n        nextCp0 = vec2.min([0, 0], nextCp0, max) as Position;\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n      cp0 = nextCp0;\n    }\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n *  path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \n  return tmp;\n}\n",null,null,null,"import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport { isPolygonsIntersect } from '@antv/path-util';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  return getMaskBBoxByShape(maskShape, tolerance);\n}\n\n/**\n *  mask BBox \n */\nfunction isValidMaskBBox(maskShape, tolerance: number) {\n  const maskBBox = maskShape.getCanvasBBox();\n  const { width, height } = maskBBox;\n  return width > 0 && height > 0 && (width >= tolerance || height >= tolerance);\n}\n\n/**\n *  maskShape  mask  canvasBBox\n * @param maskShape\n * @param tolerance\n * @returns\n */\nfunction getMaskBBoxByShape(maskShape, tolerance: number) {\n  const maskBBox = maskShape.getCanvasBBox();\n  return isValidMaskBBox(maskShape, tolerance) ? maskBBox : null;\n}\n\n/**\n *  multiple  mask  canvasBBox \n * @param context \n * @param tolerance box \n * @returns\n */\nfunction getMultiMaskBBoxList(context: IInteractionContext, tolerance: number) {\n  const { maskShapes } = context.event;\n  return maskShapes.map((maskShape) => getMaskBBoxByShape(maskShape, tolerance)).filter((bBox) => !!bBox);\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  return getMaskPathByMaskShape(maskShape, tolerance);\n}\n\n/**\n *  maskShape  mask path\n * @param maskShape\n * @param tolerance box \n * @returns\n */\nfunction getMaskPathByMaskShape(maskShape, tolerance: number) {\n  return isValidMaskBBox(maskShape, tolerance) ? maskShape.attr('path') : null;\n}\n\n/**\n *  multiple  mask path \n * @param context \n * @param tolerance box \n * @returns\n */\nfunction getMultiMaskPathList(context: IInteractionContext, tolerance: number) {\n  const { maskShapes } = context.event;\n  return maskShapes.map((maskShape) => getMaskPathByMaskShape(maskShape, tolerance));\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  //  element label  shape \n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n *  mask \n * @param context \n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return (target && target?.get('name') === 'mask') || isMultipleMask(context);\n}\n\n/**\n *  multiple mask \n * @param context\n * @returns\n */\nexport function isMultipleMask(context: IInteractionContext): boolean {\n  return context.event.target?.get('name') === 'multi-mask';\n}\n\n/**\n *  elements\n * @param context \n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const target = context.event.target;\n\n  // multiple \n  if (isMultipleMask(context)) {\n    return getMultiMaskedElements(context, tolerance);\n  }\n\n  // \n  if (target.get('type') === 'path') {\n    const maskPath = getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n *  multiple  mask  elements\n * @param context \n * @returns\n */\nfunction getMultiMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const { target } = context.event;\n  if (target.get('type') === 'path') {\n    const maskPathList = getMultiMaskPathList(context, tolerance);\n    if (maskPathList.length > 0) {\n      return maskPathList.flatMap((maskPath) => getElementsByPath(context.view, maskPath));\n    }\n    return null;\n  }\n  const maskBBoxList = getMultiMaskBBoxList(context, tolerance);\n  if (maskBBoxList.length > 0) {\n    return maskBBoxList.flatMap((maskBBox) => getIntersectElements(context.view, maskBBox));\n  }\n  return null;\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  // multiple \n  if (isMultipleMask(context)) {\n    return getSiblingMultiMaskedElements(context, sibling, tolerance);\n  }\n\n  // \n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getSiblingMaskElementsByBBox(maskBBox, context, sibling);\n}\n\n/**\n *  mashBBox  sibling  mask  elements\n * @param maskBBox\n * @param context \n * @param sibling sibling view\n * @returns\n */\nfunction getSiblingMaskElementsByBBox(maskBBox, context: IInteractionContext, sibling: View) {\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n  const end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y,\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n *  sibling  multiple mask  elements\n * @param context \n * @param sibling sibling view\n * @param tolerance box \n * @returns\n */\nfunction getSiblingMultiMaskedElements(context: IInteractionContext, sibling: View, tolerance: number): Element[] {\n  const maskBBoxList = getMultiMaskBBoxList(context, tolerance);\n  if (maskBBoxList.length > 0) {\n    return maskBBoxList.flatMap((maskBBox) => getSiblingMaskElementsByBBox(maskBBox, context, sibling));\n  }\n  return null;\n}\n\n/**\n * \n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, (subView) => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * \n * @param view View/Chart\n * @param field \n * @param value \n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter((el) => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * \n * @param view View/Chart\n * @param stateName \n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * \n * @param box1 1\n * @param box2 2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * \n * @param view View/Chart\n * @param box \n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, (seg) => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for (let i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * \n * @param view View/Chart\n * @param path \n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n *  View \n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * \n * @param box \n * @param point \n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter((sub) => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n *  view  view \n * @param view  view\n * @param sibling  view\n * @param point \n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n/**\n *  view \n *  view  includes\n *  x, y  isEqual \n * \n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, (r) => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n//  field  scale view  view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, (subView) => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // \n      }\n    });\n  }\n  return scale;\n}\n","import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * \n */\nexport default class Context implements IInteractionContext {\n  /**  Action */\n  public actions: IAction[] = [];\n  /**  View  */\n  public view: View;\n  /**  */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * \n   * @param params \n   *  - \n   *  - \n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   *  Action\n   * @param name Action \n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * \n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   *  shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   *  View \n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name shape  name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape(); //  shape  parent \n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name \n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    //  action \n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.view = null;\n    this.event = null;\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n","import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractionConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * \n */\nexport default class Interaction {\n  /** view  chart */\n  protected view: View;\n  /**  */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {}\n\n  /**\n   * \n   */\n  protected clearEvents() {}\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n","import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n//  action\nexport function parseAction(actionStr: string, context: IInteractionContext, arg?: any): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  //  action  action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n    arg,\n  };\n}\n\n//  Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName, arg } = actionObject;\n  if (action[methodName]) {\n    action[methodName](arg);\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/**  */\nexport interface InteractionStep {\n  /**\n   *  viewchart  documentwindow \n   */\n  trigger: string;\n  /**\n   *  action\n   * @param context - \n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * \n   * - action:method : action \n   * - [action1:method1, action2:method]\n   * - ActionCallback: \n   */\n  action: string | string[] | ActionCallback;\n  /**\n   *  action method \n   * -  action args \n   */\n  arg?: any | any[];\n  /**\n   * action \n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * \n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * \n   */\n  once?: boolean;\n  /**\n   * \n   */\n  throttle?: ThrottleOption;\n  /**\n   * \n   */\n  debounce?: DebounceOption;\n}\n\n// action  debounce  throttlehttps://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce \n */\nexport interface DebounceOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle \n */\nexport interface ThrottleOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  leading?: boolean;\n  /**\n   * \n   */\n  trailing?: boolean;\n}\n\n/**  action  */\ninterface ActionObject {\n  /**\n   *  action\n   */\n  action: IAction;\n  /**\n   * action \n   */\n  methodName: string;\n  /**\n   *  action \n   */\n  arg?: any;\n}\n\n/**  */\nexport interface InteractionSteps {\n  /**\n   * \n   */\n  showEnable?: InteractionStep[];\n  /**\n   * \n   */\n  start?: InteractionStep[];\n  /**\n   * \n   */\n  processing?: InteractionStep[];\n  /**\n   * \n   */\n  end?: InteractionStep[];\n  /**\n   * \n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * \n */\nexport default class GrammarInteraction extends Interaction {\n  // \n  private steps: InteractionSteps;\n  /**  */\n  public currentStepName: string;\n  /**\n   * \n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // \n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy(); // \n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          //  callback callback \n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * \n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  //  action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    //  Action\n    each(steps, (subSteps: InteractionStep[]) => {\n      each(subSteps, (step: InteractionStep) => {\n        if (isFunction(step.action)) {\n          //  CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // \n          step.actionObject = parseAction(step.action, context, step.arg);\n        } else if (isArray(step.action)) {\n          // \n          const actionArr = step.action;\n          const argArr = isArray(step.arg) ? step.arg : [step.arg];\n          step.actionObject = [];\n          each(actionArr, (actionStr, idx) => {\n            (step.actionObject as ActionObject[]).push(parseAction(actionStr, context, argArr[idx]));\n          });\n        }\n        //  action  actionObject\n      });\n    });\n  }\n\n  // \n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // \n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // \n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      //  start  processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      //  processing start end \n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        //  end,  end \n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        //  end, \n        return true;\n      }\n    }\n    return false;\n  }\n\n  // \n  private isAllowExecute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // \n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      //  isEnable \n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; //  isEnable \n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {}; // \n  }\n\n  // \n  private afterExecute(stepName: string, step) {\n    // show enable  step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // \n    this.emitCaches[key] = true;\n  }\n  // \n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  //  step \n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        //  action \n        const actionCallback = (event) => {\n          context.event = event; //  event\n          if (this.isAllowExecute(stepName, step)) {\n            // \n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; //  context.event \n                executeAction(obj);\n              });\n            } else {\n              context.event = event; //  context.event \n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; //  context.event \n              step.callback(context);\n            }\n          } else {\n            // \n            context.event = null;\n          }\n        };\n        //  debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) {\n          //  throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing,\n          });\n        } else {\n          // \n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * \n * @param name \n * @param interaction \n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * \n * @param name \n * @param view  View \n * @param cfg \n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    //  clone  interaction  step \n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport Element from '../../geometry/element';\nimport { LooseObject, StyleSheet } from '../../interface';\nimport { getAngle } from '../../util/graphics';\n\n/**\n *  axis \n * @param styleSheet\n */\nfunction createAxisStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: {\n      autoRotate: true,\n      position: 'center', // start, center, end\n      spacing: styleSheet.axisTitleSpacing,\n      style: {\n        fill: styleSheet.axisTitleTextFillColor,\n        fontSize: styleSheet.axisTitleTextFontSize,\n        lineHeight: styleSheet.axisTitleTextLineHeight,\n        textBaseline: 'middle',\n        fontFamily: styleSheet.fontFamily,\n      },\n      iconStyle: {\n        fill: styleSheet.axisDescriptionIconFillColor\n      }\n    },\n    label: {\n      autoRotate: false,\n      autoEllipsis: false,\n      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n      offset: styleSheet.axisLabelOffset,\n      style: {\n        fill: styleSheet.axisLabelFillColor,\n        fontSize: styleSheet.axisLabelFontSize,\n        lineHeight: styleSheet.axisLabelLineHeight,\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    line: {\n      style: {\n        lineWidth: styleSheet.axisLineBorder,\n        stroke: styleSheet.axisLineBorderColor,\n      },\n    },\n    grid: {\n      line: {\n        type: 'line',\n        style: {\n          stroke: styleSheet.axisGridBorderColor,\n          lineWidth: styleSheet.axisGridBorder,\n          lineDash: styleSheet.axisGridLineDash,\n        },\n      },\n      alignTick: true,\n      animate: true,\n    },\n    tickLine: {\n      style: {\n        lineWidth: styleSheet.axisTickLineBorder,\n        stroke: styleSheet.axisTickLineBorderColor,\n      },\n      alignTick: true, // \n      length: styleSheet.axisTickLineLength,\n    },\n    subTickLine: null,\n    animate: true,\n  };\n}\n\n/**\n *\n * @param styleSheet\n */\n// export function\n\n/**\n *  legend \n * @param styleSheet\n */\nfunction createLegendStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: null,\n    marker: {\n      symbol: 'circle',\n      spacing: styleSheet.legendMarkerSpacing,\n      style: {\n        r: styleSheet.legendCircleMarkerSize,\n        fill: styleSheet.legendMarkerColor,\n      },\n    },\n    itemName: {\n      spacing: 5, //  value \n      style: {\n        fill: styleSheet.legendItemNameFillColor,\n        fontFamily: styleSheet.fontFamily,\n        fontSize: styleSheet.legendItemNameFontSize,\n        lineHeight: styleSheet.legendItemNameLineHeight,\n        fontWeight: styleSheet.legendItemNameFontWeight,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    },\n    itemStates: {\n      active: {\n        nameStyle: {\n          opacity: 0.8,\n        },\n      },\n      unchecked: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          fill: '#D8D8D8',\n          stroke: '#D8D8D8',\n        },\n      },\n      inactive: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          opacity: 0.2,\n        },\n      },\n    },\n    flipPage: true,\n    pageNavigator: {\n      marker: {\n        style: {\n          size: styleSheet.legendPageNavigatorMarkerSize,\n          inactiveFill: styleSheet.legendPageNavigatorMarkerInactiveFillColor,\n          inactiveOpacity: styleSheet.legendPageNavigatorMarkerInactiveFillOpacity,\n          fill: styleSheet.legendPageNavigatorMarkerFillColor,\n          opacity: styleSheet.legendPageNavigatorMarkerFillOpacity,\n        },\n      },\n      text: {\n        style: {\n          fill: styleSheet.legendPageNavigatorTextFillColor,\n          fontSize: styleSheet.legendPageNavigatorTextFontSize,\n        },\n      },\n    },\n    animate: false,\n    maxItemWidth: 200,\n    itemSpacing: styleSheet.legendItemSpacing,\n    itemMarginBottom: styleSheet.legendItemMarginBottom,\n    padding: styleSheet.legendPadding, // \n  };\n}\n\n/**\n * \n * @param styleSheet \n */\nexport function createThemeByStyleSheet(styleSheet: StyleSheet): LooseObject {\n  const shapeStyles = {\n    point: {\n      default: {\n        fill: styleSheet.pointFillColor,\n        r: styleSheet.pointSize,\n        stroke: styleSheet.pointBorderColor,\n        lineWidth: styleSheet.pointBorder,\n        fillOpacity: styleSheet.pointFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.pointActiveBorderColor,\n        lineWidth: styleSheet.pointActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.pointSelectedBorderColor,\n        lineWidth: styleSheet.pointSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.pointInactiveFillOpacity,\n        strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n      },\n    },\n    hollowPoint: {\n      default: {\n        fill: styleSheet.hollowPointFillColor,\n        lineWidth: styleSheet.hollowPointBorder,\n        stroke: styleSheet.hollowPointBorderColor,\n        strokeOpacity: styleSheet.hollowPointBorderOpacity,\n        r: styleSheet.hollowPointSize,\n      },\n      active: {\n        stroke: styleSheet.hollowPointActiveBorderColor,\n        strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n      },\n      selected: {\n        lineWidth: styleSheet.hollowPointSelectedBorder,\n        stroke: styleSheet.hollowPointSelectedBorderColor,\n        strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n      },\n    },\n    area: {\n      default: {\n        fill: styleSheet.areaFillColor,\n        fillOpacity: styleSheet.areaFillOpacity,\n        stroke: null,\n      },\n      active: {\n        fillOpacity: styleSheet.areaActiveFillOpacity,\n      },\n      selected: {\n        fillOpacity: styleSheet.areaSelectedFillOpacity,\n      },\n      inactive: {\n        fillOpacity: styleSheet.areaInactiveFillOpacity,\n      },\n    },\n    hollowArea: {\n      default: {\n        fill: null,\n        stroke: styleSheet.hollowAreaBorderColor,\n        lineWidth: styleSheet.hollowAreaBorder,\n        strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n      },\n      active: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaActiveBorder,\n      },\n      selected: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n      },\n    },\n    interval: {\n      default: {\n        fill: styleSheet.intervalFillColor,\n        fillOpacity: styleSheet.intervalFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.intervalActiveBorderColor,\n        lineWidth: styleSheet.intervalActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.intervalSelectedBorderColor,\n        lineWidth: styleSheet.intervalSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.intervalInactiveFillOpacity,\n        strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n      },\n    },\n    hollowInterval: {\n      default: {\n        fill: styleSheet.hollowIntervalFillColor,\n        stroke: styleSheet.hollowIntervalBorderColor,\n        lineWidth: styleSheet.hollowIntervalBorder,\n        strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n      },\n      active: {\n        stroke: styleSheet.hollowIntervalActiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalActiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n      },\n      selected: {\n        stroke: styleSheet.hollowIntervalSelectedBorderColor,\n        lineWidth: styleSheet.hollowIntervalSelectedBorder,\n        strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n      },\n      inactive: {\n        stroke: styleSheet.hollowIntervalInactiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalInactiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n      },\n    },\n    line: {\n      default: {\n        stroke: styleSheet.lineBorderColor,\n        lineWidth: styleSheet.lineBorder,\n        strokeOpacity: styleSheet.lineBorderOpacity,\n        fill: null,\n        lineAppendWidth: 10,\n        lineCap: 'round',\n        lineJoin: 'round',\n      },\n      active: {\n        lineWidth: styleSheet.lineActiveBorder,\n      },\n      selected: {\n        lineWidth: styleSheet.lineSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n      },\n    },\n  };\n  const axisStyles = createAxisStyles(styleSheet);\n  const legendStyles = createLegendStyles(styleSheet);\n\n  return {\n    background: styleSheet.backgroundColor,\n    defaultColor: styleSheet.brandColor,\n    subColor: styleSheet.subColor,\n    semanticRed: styleSheet.paletteSemanticRed,\n    semanticGreen: styleSheet.paletteSemanticGreen,\n    padding: 'auto',\n    fontFamily: styleSheet.fontFamily,\n    // Theme\n    /** geometrygeometrynull */\n    columnWidthRatio: 1 / 2,\n    /**  */\n    maxColumnWidth: null,\n    /**  */\n    minColumnWidth: null,\n    /**  */\n    roseWidthRatio: 0.9999999,\n    /** / */\n    multiplePieWidthRatio: 1 / 1.3,\n    colors10: styleSheet.paletteQualitative10,\n    colors20: styleSheet.paletteQualitative20,\n    sequenceColors: styleSheet.paletteSequence,\n    shapes: {\n      point: [\n        'hollow-circle',\n        'hollow-square',\n        'hollow-bowtie',\n        'hollow-diamond',\n        'hollow-hexagon',\n        'hollow-triangle',\n        'hollow-triangle-down',\n        'circle',\n        'square',\n        'bowtie',\n        'diamond',\n        'hexagon',\n        'triangle',\n        'triangle-down',\n        'cross',\n        'tick',\n        'plus',\n        'hyphen',\n        'line',\n      ],\n      line: ['line', 'dash', 'dot', 'smooth'],\n      area: ['area', 'smooth', 'line', 'smooth-line'],\n      interval: ['rect', 'hollow-rect', 'line', 'tick'],\n    },\n    sizes: [1, 10],\n    geometries: {\n      interval: {\n        rect: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: (element: Element) => {\n              const coordinate = element.geometry.coordinate;\n              if (coordinate.isPolar && coordinate.isTransposed) {\n                const { startAngle, endAngle } = getAngle(element.getModel(), coordinate);\n                const middleAngle = (startAngle + endAngle) / 2;\n                const r = 7.5;\n                const x = r * Math.cos(middleAngle);\n                const y = r * Math.sin(middleAngle);\n                return {\n                  matrix: ext.transform(null, [['t', x, y]]),\n                };\n              }\n              return shapeStyles.interval.selected;\n            },\n          },\n        },\n        'hollow-rect': {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        funnel: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n        pyramid: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      line: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        dot: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n        },\n        dash: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hvh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      polygon: {\n        polygon: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      point: {\n        circle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        square: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        bowtie: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        diamond: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        hexagon: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        triangle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'triangle-down': {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'hollow-circle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-square': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-bowtie': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-diamond': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-hexagon': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle-down': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        cross: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        plus: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        hyphen: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n      },\n      area: {\n        area: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'smooth-line': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n      schema: {\n        candle: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        box: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n      },\n      edge: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        arc: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      violin: {\n        violin: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hollow: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'hollow-smooth': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n    },\n    components: {\n      axis: {\n        common: axisStyles,\n        top: {\n          position: 'top',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        bottom: {\n          position: 'bottom',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        left: {\n          position: 'left',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        right: {\n          position: 'right',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        circle: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'line' } }),\n        },\n        radius: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'circle' } }),\n        },\n      },\n      legend: {\n        common: legendStyles,\n        right: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        left: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        top: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        bottom: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        continuous: {\n          title: null,\n          background: null,\n          track: {},\n          rail: {\n            type: 'color',\n            size: styleSheet.sliderRailHeight,\n            defaultLength: styleSheet.sliderRailWidth,\n            style: {\n              fill: styleSheet.sliderRailFillColor,\n              stroke: styleSheet.sliderRailBorderColor,\n              lineWidth: styleSheet.sliderRailBorder,\n            },\n          },\n          label: {\n            align: 'rail',\n            spacing: 4, //  rail \n            formatter: null,\n            style: {\n              fill: styleSheet.sliderLabelTextFillColor,\n              fontSize: styleSheet.sliderLabelTextFontSize,\n              lineHeight: styleSheet.sliderLabelTextLineHeight,\n              textBaseline: 'middle',\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          handler: {\n            size: styleSheet.sliderHandlerWidth,\n            style: {\n              fill: styleSheet.sliderHandlerFillColor,\n              stroke: styleSheet.sliderHandlerBorderColor,\n            },\n          },\n          slidable: true,\n          padding: legendStyles.padding,\n        },\n      },\n      tooltip: {\n        showContent: true,\n        follow: true,\n        showCrosshairs: false,\n        showMarkers: true,\n        shared: false,\n        enterable: false,\n        position: 'auto',\n        marker: {\n          symbol: 'circle',\n          stroke: '#fff',\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          shadowColor: 'rgba(0,0,0,0.09)',\n          lineWidth: 2,\n          r: 4,\n        },\n        crosshairs: {\n          line: {\n            style: {\n              stroke: styleSheet.tooltipCrosshairsBorderColor,\n              lineWidth: styleSheet.tooltipCrosshairsBorder,\n            },\n          },\n          text: null,\n          textBackground: {\n            padding: 2,\n            style: {\n              fill: 'rgba(0, 0, 0, 0.25)',\n              lineWidth: 0,\n              stroke: null,\n            },\n          },\n          follow: false,\n        },\n        // tooltip dom \n        domStyles: {\n          [`${TOOLTIP_CSS_CONST.CONTAINER_CLASS}`]: {\n            position: 'absolute',\n            visibility: 'hidden',\n            zIndex: 8,\n            transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n            backgroundColor: styleSheet.tooltipContainerFillColor,\n            opacity: styleSheet.tooltipContainerFillOpacity,\n            boxShadow: styleSheet.tooltipContainerShadow,\n            borderRadius: `${styleSheet.tooltipContainerBorderRadius}px`,\n            color: styleSheet.tooltipTextFillColor,\n            fontSize: `${styleSheet.tooltipTextFontSize}px`,\n            fontFamily: styleSheet.fontFamily,\n            lineHeight: `${styleSheet.tooltipTextLineHeight}px`,\n            padding: '0 12px 0 12px',\n          },\n          [`${TOOLTIP_CSS_CONST.TITLE_CLASS}`]: {\n            marginBottom: '12px',\n            marginTop: '12px',\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_CLASS}`]: {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_ITEM_CLASS}`]: {\n            listStyleType: 'none',\n            padding: 0,\n            marginBottom: '12px',\n            marginTop: '12px',\n            marginLeft: 0,\n            marginRight: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.MARKER_CLASS}`]: {\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n          },\n          [`${TOOLTIP_CSS_CONST.VALUE_CLASS}`]: {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n          },\n        },\n      },\n      annotation: {\n        arc: {\n          style: {\n            stroke: styleSheet.annotationArcBorderColor,\n            lineWidth: styleSheet.annotationArcBorder,\n          },\n          animate: true,\n        },\n        line: {\n          style: {\n            stroke: styleSheet.annotationLineBorderColor,\n            lineDash: styleSheet.annotationLineDash,\n            lineWidth: styleSheet.annotationLineBorder,\n          },\n          text: {\n            position: 'start',\n            autoRotate: true,\n            style: {\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              textAlign: 'start',\n              fontFamily: styleSheet.fontFamily,\n              textBaseline: 'bottom',\n            },\n          },\n          animate: true,\n        },\n        text: {\n          style: {\n            fill: styleSheet.annotationTextFillColor,\n            stroke: styleSheet.annotationTextBorderColor,\n            lineWidth: styleSheet.annotationTextBorder,\n            fontSize: styleSheet.annotationTextFontSize,\n            textBaseline: 'middle',\n            textAlign: 'start',\n            fontFamily: styleSheet.fontFamily,\n          },\n          animate: true,\n        },\n        region: {\n          top: false,\n          style: {\n            lineWidth: styleSheet.annotationRegionBorder,\n            stroke: styleSheet.annotationRegionBorderColor,\n            fill: styleSheet.annotationRegionFillColor,\n            fillOpacity: styleSheet.annotationRegionFillOpacity,\n          }, // \n          animate: true,\n        },\n        image: {\n          top: false,\n          animate: true,\n        },\n        dataMarker: {\n          top: true,\n          point: {\n            style: {\n              r: 3,\n              stroke: styleSheet.brandColor,\n              lineWidth: 2,\n            },\n          },\n          line: {\n            style: {\n              stroke: styleSheet.annotationLineBorderColor,\n              lineWidth: styleSheet.annotationLineBorder,\n            },\n            length: styleSheet.annotationDataMarkerLineLength,\n          },\n          text: {\n            style: {\n              textAlign: 'start',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          direction: 'upward',\n          autoAdjust: true,\n          animate: true,\n        },\n        dataRegion: {\n          style: {\n            region: {\n              fill: styleSheet.annotationRegionFillColor,\n              fillOpacity: styleSheet.annotationRegionFillOpacity,\n            },\n            text: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          animate: true,\n        },\n      },\n      slider: {\n        common: {\n          padding: [8, 8, 8, 8],\n          backgroundStyle: {\n            fill: styleSheet.cSliderBackgroundFillColor,\n            opacity: styleSheet.cSliderBackgroundFillOpacity,\n          },\n          foregroundStyle: {\n            fill: styleSheet.cSliderForegroundFillColor,\n            opacity: styleSheet.cSliderForegroundFillOpacity,\n          },\n          handlerStyle: {\n            width: styleSheet.cSliderHandlerWidth,\n            height: styleSheet.cSliderHandlerHeight,\n            fill: styleSheet.cSliderHandlerFillColor,\n            opacity: styleSheet.cSliderHandlerFillOpacity,\n            stroke: styleSheet.cSliderHandlerBorderColor,\n            lineWidth: styleSheet.cSliderHandlerBorder,\n            radius: styleSheet.cSliderHandlerBorderRadius,\n            // \n            highLightFill: styleSheet.cSliderHandlerHighlightFillColor,\n          },\n          textStyle: {\n            fill: styleSheet.cSliderTextFillColor,\n            opacity: styleSheet.cSliderTextFillOpacity,\n            fontSize: styleSheet.cSliderTextFontSize,\n            lineHeight: styleSheet.cSliderTextLineHeight,\n            fontWeight: styleSheet.cSliderTextFontWeight,\n            stroke: styleSheet.cSliderTextBorderColor,\n            lineWidth: styleSheet.cSliderTextBorder,\n          },\n        },\n      },\n      scrollbar: {\n        common: {\n          padding: [8, 8, 8, 8],\n        },\n        default: {\n          style: {\n            trackColor: styleSheet.scrollbarTrackFillColor,\n            thumbColor: styleSheet.scrollbarThumbFillColor,\n          },\n        },\n        hover: {\n          style: {\n            thumbColor: styleSheet.scrollbarThumbHighlightFillColor,\n          },\n        },\n      },\n    },\n    labels: {\n      offset: 12,\n      style: {\n        fill: styleSheet.labelFillColor,\n        fontSize: styleSheet.labelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.labelBorderColor,\n        lineWidth: styleSheet.labelBorder,\n      },\n      fillColorDark: styleSheet.labelFillColorDark,\n      fillColorLight: styleSheet.labelFillColorLight,\n      autoRotate: true,\n    },\n    innerLabels: {\n      style: {\n        fill: styleSheet.innerLabelFillColor,\n        fontSize: styleSheet.innerLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.innerLabelBorderColor,\n        lineWidth: styleSheet.innerLabelBorder,\n      },\n      autoRotate: true,\n    },\n    overflowLabels: {\n      style: {\n        fill: styleSheet.overflowLabelFillColor,\n        fontSize: styleSheet.overflowLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.overflowLabelBorderColor,\n        lineWidth: styleSheet.overflowLabelBorder,\n      },\n    },\n    pieLabels: {\n      labelHeight: 14,\n      offset: 10,\n      labelLine: {\n        style: {\n          lineWidth: styleSheet.labelLineBorder,\n        },\n      },\n      autoRotate: true,\n    },\n  };\n}\n","import { StyleSheetCfg } from '../../interface';\n\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#6F5EF9',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#6F5EF9',\n  '#D3CEFD',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createLightStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: 'transparent',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(0,0,0,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: brandColor,\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry overflowLabel  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    /** Geometry overflowLabel  */\n    overflowLabelFontSize: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelLineHeight: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry overflowLabel  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry overflowLabel  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#000',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(0,0,0,0)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: brandColor,\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: brandColor,\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: brandColor,\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: brandColor,\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: brandColor,\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: brandColor,\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: brandColor,\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: brandColor,\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: brandColor,\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvLight = createLightStyleSheet();\n","import { deepMix } from '@antv/util';\nimport { createThemeByStyleSheet } from './create-by-style-sheet';\nimport { createLightStyleSheet } from '../style-sheet/light';\nimport { LooseObject, StyleSheetCfg } from '../../interface';\n\ninterface ThemeCfg extends LooseObject {\n  styleSheet?: StyleSheetCfg;\n}\n\nexport function createTheme(themeCfg: ThemeCfg): LooseObject {\n  const { styleSheet: styleSheetCfg = {}, ...themeObject } = themeCfg;\n\n  //   ( light )\n  const styleSheet = createLightStyleSheet(styleSheetCfg);\n  //  \n  return deepMix({}, createThemeByStyleSheet(styleSheet), themeObject);\n}\n","import { get, lowerCase } from '@antv/util';\nimport { LooseObject } from '../interface';\n\nimport { createTheme } from './util';\n\nconst defaultTheme = createTheme({});\n\n// \nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * \n * @param theme \n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * \n * @param theme \n * @param value \n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = createTheme(value);\n}\n","import {\n  contains,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isFunction,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  get,\n  values,\n} from '@antv/util';\nimport { View } from '../chart';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point, TooltipCfg, TooltipTitle } from '../interface';\nimport { getName, inferScaleType } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // scale  range \n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values \n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    //  translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\n/**\n *  tooltip  title\n * @param originData\n * @param geometry\n * @param title\n */\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: TooltipTitle): string {\n  const positionAttr = geometry.getAttribute('position');\n  const fields = positionAttr.getFields();\n  const scales = geometry.scales;\n\n  const titleField = isFunction(title) || !title ? fields[0] : title;\n  const titleScale = scales[titleField];\n\n  //  scale scale.getText() \n  //  scale title \n  const tooltipTitle = titleScale ? titleScale.getText(originData[titleField]) : originData[titleField] || titleField;\n\n  return isFunction(title) ? title(tooltipTitle, originData) : tooltipTitle;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      const tmpScaleDef = get(geometry.scaleDefs, tmpScale.field);\n      const inferedScaleType = inferScaleType(tmpScale, tmpScaleDef, attribute.type, geometry.type);\n      if (inferedScaleType !== 'cat') {\n        //  position \n        scale = tmpScale;\n        break;\n      }\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n//  tooltip item  name \nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // \n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  //  point \n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    //  point \n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // \n    const x = xScale.invert(invertPoint.x); // \n    const y = yScale.invert(invertPoint.y); // \n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  //  Geometry  x \n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); //  x y \n\n  //  x \n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue  originData[xField] \n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // x  y \n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x \n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x \n      if (\n        (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n        (xValue > xScale.max || xValue < xScale.min)\n      ) {\n        // \n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // \n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // \n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(\n  data: MappingDatum,\n  geometry: Geometry,\n  title: TooltipTitle = '',\n  showNil: boolean = false\n) {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (showNil || (!isNil(itemValue) && itemValue !== '')) {\n      //  null\n      const item = {\n        title: tooltipTitle,\n        data: originData, // \n        mappingData: data, // \n        name: itemName,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // \n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // \n        mappingData: data, // \n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, //  marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // null, undefined \n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    // null ,undefined\n    value = getTooltipValue(originData, valueScale);\n    name = getTooltipName(originData, geometry);\n    addItem(name, value);\n  }\n  return items;\n}\n\nfunction getTooltipItemsByFindData(geometry: Geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const dataArray = geometry.dataArray;\n  if (!isEmpty(dataArray)) {\n    geometry.sort(dataArray); //  tooltip \n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap  Element\n          //  tooltip \n          const items = getTooltipItems(record, geometry, title, showNil);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction getTooltipItemsByHitShape(geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const container = geometry.container;\n  const shape = container.getShape(point.x, point.y);\n  if (shape && shape.get('visible') && shape.get('origin')) {\n    const mappingData = shape.get('origin').mappingData;\n    const items = getTooltipItems(mappingData, geometry, title, showNil);\n    if (items.length) {\n      result.push(items);\n    }\n  }\n\n  return result;\n}\n\n/**\n * \n */\nexport function findItemsFromView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  const result = [];\n  //  view \n  const geometries = view.geometries;\n  const { shared, title, reversed } = tooltipCfg;\n  for (const geometry of geometries) {\n    if (geometry.visible && geometry.tooltipOption !== false) {\n      // geometry  tooltip\n      const geometryType = geometry.type;\n      let tooltipItems;\n      if (['point', 'edge', 'polygon'].includes(geometryType)) {\n        // \n        tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n      } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n        //  'area', 'line', 'path' tooltip\n        tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n      } else {\n        if (shared !== false) {\n          tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n        } else {\n          tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n        }\n      }\n      if (tooltipItems.length) {\n        if (reversed) {\n          tooltipItems.reverse();\n        }\n        // geometry  item geometry.tooltip('x*y*z')\n        result.push(tooltipItems);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function findItemsFromViewRecurisive(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let result = findItemsFromView(view, point, tooltipCfg);\n\n  // \n  for (const childView of view.views) {\n    result = result.concat(findItemsFromView(childView, point, tooltipCfg));\n  }\n\n  return result;\n}\n","import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n *  padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding \n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // \n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n","import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * \n * @param name \n * @param plugin \n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * \n * @param name \n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * \n * @returns string[] \n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n","import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller\n * 1. \n * 2. \n */\nexport default class CoordinateController {\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // \n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * \n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   *  action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. \n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. \n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate  type \n    this.coordinate.type = type;\n\n    // 3.  action\n    if (isTheta) {\n      //  transpose action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4.  action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // \n    // 1.  matrix\n    // 2.  matrix  action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push(['rotate', angle]);\n    return this;\n  }\n\n  /**\n   * \n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push(['reflect', dim]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push(['scale', sx, sy]);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public transpose() {\n    this.option.actions.push(['transpose']);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   *  coordinate \n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    };\n  }\n\n  /**\n   * coordinate  actions\n   * @params includeActions  action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, (action) => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n","import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2  G.Event\n */\nexport default class Event {\n  /**  target  view  */\n  public view: View;\n  /**  G  */\n  public gEvent: GEvent;\n  /**  */\n  public data?: Datum;\n  /**  */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  /**\n   * \n   * @param view\n   * @param type\n   * @param data\n   */\n  public static fromData(view: View, type: string, data: Datum) {\n    return new Event(view, new GEvent(type, {}), data);\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G  object  ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /**  dom  */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x  */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y  */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x  */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y  */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n","import { Controller } from '../controller/base';\nimport View from '../view';\n\n// \n//  view  padding \nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2  layout \n * \n *\n * 1.  padding = 'auto' direction  padding \n * 2.  padding  direction  padding \n * 3. \n *\n *  12  view \n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n  const scrollbar = view.getController('scrollbar');\n\n  //  coordinate \n  [axis, slider, scrollbar, legend, annotation].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n","/**\n * view  scale \n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale, Coordinate } from '../../dependents';\nimport { Data, LooseObject, ScaleOption, ViewCfg } from '../../interface';\nimport { createScaleByField, syncScale, getDefaultCategoryScaleRange } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /**  scales */\n  private scales = new Map<string, ScaleMeta>();\n  /**  scale  key: scaleKeyArray */\n  private syncScales = new Map<string, string[]>();\n\n  /**\n   *  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      //  key  scale  scale \n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        //  values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // \n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   *  scale\n   */\n  public sync(coordinate: Coordinate, theme: ViewCfg['theme']) {\n    //  syncScales  syncKey  scale \n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values, ranges\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. values \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // \n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          let range = scale.range;\n          const cacheScaleMeta = this.getScaleMeta(key);\n\n          //  value  range  to fix https://github.com/antvis/G2/issues/2996\n          if (values && !get(cacheScaleMeta, ['scaleDef', 'range'])) {\n            //  range\n            range = getDefaultCategoryScaleRange(\n              deepMix({}, scale, {\n                values,\n              }),\n              coordinate,\n              theme\n            );\n          }\n          scale.change({\n            values,\n            range,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   *  scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1.  scales\n\n    let sm = this.getScaleMeta(key);\n    // \n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      //  scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2.  syncScales Record<sync, string[]> \n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; //  sync  key\n\n    //  scale  syncScales  sync \n    this.removeFromSyncScales(key);\n\n    //  sync  sync\n    if (syncKey) {\n      //  syncKey\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = [];\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   *  view  scale \n   * @param key\n   */\n  public deleteScale(key: string) {\n    const scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // \n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    //  scale \n    this.scales.delete(key);\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   *  sync scale \n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // \n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // \n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    //  sync = true syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n","import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\nexport type PaddingCalCtor = {\n  readonly instance: (top?: number, right?: number, bottom?: number, left?: number) => PaddingCal;\n};\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   * \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  public static instance(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    return new PaddingCal(top, right, bottom, left);\n  }\n\n  /**\n   *  padding \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   * \n   * @param padding\n   */\n  public max(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top = Math.max(this.top, top);\n    this.right = Math.max(this.right, right);\n    this.bottom = Math.max(this.bottom, bottom);\n    this.left = Math.max(this.left, left);\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param padding\n   */\n  public shrink(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   *  padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n\n  /**\n   * clone  padding cal\n   */\n  public clone(): PaddingCal {\n    return new PaddingCal(...this.getPadding());\n  }\n}\n","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n *  view  padding \n * @param view\n */\nexport function calculatePadding(view: View): PaddingCal {\n  const padding = view.padding;\n\n  //  auto padding\n  if (!isAutoPadding(padding)) {\n    return new PaddingCal(...parsePadding(padding));\n  }\n\n  //  auto padding padding\n  const { viewBBox } = view;\n\n  const paddingCal = new PaddingCal();\n\n  const axisComponents = [];\n  const paddingComponents = [];\n  const otherComponents = [];\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { type } = co;\n    if (type === COMPONENT_TYPE.AXIS) {\n      axisComponents.push(co);\n    } else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n      paddingComponents.push(co);\n    } else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n      otherComponents.push(co);\n    }\n  });\n\n  //  padding \n  each(axisComponents, (co: ComponentOption) => {\n    const { component } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    const exceed = componentBBox.exceed(viewBBox);\n\n    //  axis \n    paddingCal.max(exceed);\n  });\n\n  //  padding \n  each(paddingComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentPadding: Padding = component.get('padding');\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(\n      componentPadding\n    );\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  // \n  each(otherComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  return paddingCal;\n}\n","import { PaddingCalCtor } from '../layout/padding-cal';\nimport { View } from '../view';\n\n/**\n *  syncViewPadding \n * @param chart\n * @param views\n * @param PC: PaddingCalCtor\n */\nexport function defaultSyncViewPadding(chart: View, views: View[], PC: PaddingCalCtor) {\n  const syncPadding = PC.instance();\n\n  //  view  autoPadding \n  views.forEach((v: View) => {\n    v.autoPadding = syncPadding.max(v.autoPadding.getPadding());\n  });\n}\n","import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n  isPlainObject,\n  reduce,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n  ViewAppendPadding,\n  EventPayload,\n  Padding,\n} from '../interface';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport Element from '../geometry/element';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getDefaultCategoryScaleRange } from '../util/scale';\nimport { createTheme } from '../theme/util';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport Tooltip from './controller/tooltip';\nimport Slider from './controller/slider';\nimport Scrollbar from './controller/scrollbar';\nimport Axis from './controller/axis';\nimport Gesture from './controller/gesture';\nimport Legend from './controller/legend';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\nimport { defaultSyncViewPadding } from './util/sync-view-padding';\n\n/**\n * G2  View \n */\nexport class View extends Base {\n  /** view id */\n  public id: string;\n  /**  view */\n  public parent: View;\n  /**  view */\n  public views: View[] = [];\n  /**  geometry  */\n  public geometries: Geometry[] = [];\n  /**  controllers */\n  public controllers: Controller[] = [];\n  /**  Interaction  */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view  */\n  public viewBBox: BBox;\n  /** ViewBBox - padding = coordinateBBox */\n  public coordinateBBox: BBox;\n  /** view  padding  */\n  public padding: ViewPadding;\n  /** padding */\n  public appendPadding: ViewAppendPadding;\n  /** G.Canvas  */\n  public canvas: ICanvas;\n  /**  padding  */\n  public autoPadding: PaddingCal;\n\n  /**  Group  */\n  public backgroundGroup: IGroup;\n  /**  Group  */\n  public middleGroup: IGroup;\n  /**  Group  */\n  public foregroundGroup: IGroup;\n  /**  Geometry  */\n  public limitInPlot: boolean = false;\n\n  /**\n   *  view  0 ~ 1 \n   */\n  protected region: Region;\n  /**  */\n  protected themeObject: LooseObject;\n\n  // \n  protected options: Options = {\n    data: [],\n    animate: true, // \n  }; // \n\n  /**  */\n  protected filteredData: Data;\n\n  /**  */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /**  scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /**  */\n  protected layoutFunc: Layout = defaultLayout;\n  /** {@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate  */\n  protected coordinateController: CoordinateController;\n  /**  */\n  protected facetInstance: Facet;\n\n  /**  plot CoordinateBBox */\n  private isPreMouseInPlot: boolean = false;\n  /**  */\n  private isDataChanged: boolean = false;\n  /**  */\n  private isCoordinateChanged: boolean = false;\n  /**  view  scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n  /**  shape */\n  private backgroundStyleRectShape;\n  /**  view  padding */\n  private syncViewPadding;\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      id = uniqueId('view'),\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      appendPadding,\n      theme,\n      options,\n      limitInPlot,\n      syncViewPadding,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    this.appendPadding = appendPadding;\n    //  view \n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n    this.id = id;\n    this.syncViewPadding = syncViewPadding;\n\n    //  theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), createTheme(theme)) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   *  layout \n   * @param layout \n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * \n   * @returns voids\n   */\n  public init() {\n    //  viewBBox\n    this.calculateViewBBox();\n\n    // \n    this.initEvents();\n\n    //  controller\n    this.initComponentController();\n\n    this.initOptions();\n  }\n\n  /**\n   * \n   * render  view  view\n   * @param isUpdate \n   * @param params render \n   */\n  public render(isUpdate: boolean = false, payload?: EventPayload) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_RENDER, payload));\n    // \n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_RENDER, payload));\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * chart \n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. \n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // \n    this.isCoordinateChanged = false; // \n\n    // 2.  geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n      // view  geometry  chart.geometry()  #2799\n      geometries[i].container.remove(true);\n      geometries[i].labelsContainer.remove(true);\n    }\n    this.geometries = [];\n\n    // 3.  controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      if (controllers[i].name === 'annotation') {\n        // \n        (controllers[i] as Annotation).clear(true);\n      } else {\n        controllers[i].clear();\n      }\n    }\n\n    // 4.  scale \n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    //  view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * \n   * @returns void\n   */\n  public destroy() {\n    // \n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    //  interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        //  undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    //  controller \n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end  */\n\n  /**\n   *  view\n   * @param visible \n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) \n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.data([{ city: '', sale: 100 }, { city: '', sale: 110 } ]);\n   * ```\n   *\n   * @param data json \n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '');\n   *\n   * //  'city' \n   * view.filter('city', null);\n   * ```\n   *\n   * @param field \n   * @param condition \n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition \n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   *  view.axis(false); // \n   * ```\n   * @param field \n   */\n  public axis(field: boolean): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); //  'city' \n   *\n   * //  'city' \n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field \n   * @param axisOption https://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.legend(false); // \n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // \n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // \n   *\n   * // \n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field \n   * @param legendOption https://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n      if (isPlainObject(legendOption) && legendOption?.selected) {\n        set(this.options, ['filters', field], (name: string) => {\n          return legendOption?.selected[name] ?? true;\n        });\n      }\n    } else {\n      //  legend \n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale https://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip \n   *\n   * ```ts\n   * view.tooltip(false); //  tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip https://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * https://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation');\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * \n   *\n   * ```ts\n   * // \n   * view.coordinate('rect').transpose();\n   *\n   * // \n   * view.coordinate();\n   * ```\n   *\n   * @param type \n   * @param [coordinateCfg] \n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // \n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    //  coordinate \n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view \n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type \n   * @param cfg  [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // \n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // \n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * \n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status true false \n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * \n   * @param options \n   */\n  public updateOptions(options: Options) {\n    this.clear(); // \n    mix(this.options, options);\n\n    //  view \n    //  view \n    this.views.forEach((view) => view.destroy());\n    this.views = [];\n\n    this.initOptions();\n    //  padding \n    this.coordinateBBox = this.viewBBox;\n    return this;\n  }\n\n  /**\n   *  `view.options` \n   * @param name \n   * @param opt \n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    //  option\n    // name  API option \n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    //  option \n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.theme('dark'); // 'dark'  `registerTheme()` \n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme \n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, createTheme(theme)) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end  API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * https://g2.antv.vision/zh/docs/api/general/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // \n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   *  View  interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   *  view\n   *\n   * ```ts\n   * view.changeData([{ city: '', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n    // 1. \n    this.data(data);\n\n    // 2. \n    this.paint(true);\n\n    // 3.  view  change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME  view \n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n  }\n\n  /* View  API */\n\n  /**\n   *  view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    //  4.1  view chart - view \n    //  API  warning\n    if (this.parent && this.parent.parent) {\n      //  3  \n      console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n    }\n\n    //  view  options \n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      //  view  group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n    return this.createView(cfg);\n  }\n\n  /**\n   *  view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View  API */\n\n  //  get \n\n  /**\n   * \n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   *  view \n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   *  x  scale \n   * @returns view  Geometry  x scale\n   */\n  public getXScale(): Scale {\n    //  Geometry  X scale\n    //  view  Geometry  x \n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   *  y  scales \n   * @returns view  Geometry  y scale \n   */\n  public getYScales(): Scale[] {\n    //  Geometry  Y scale\n    const tmpMap = {};\n    const yScales = [];\n    this.geometries.forEach((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  }\n\n  /**\n   *  x  y  scale \n   * @param dimType x | y\n   * @returns x  y  scale \n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   *  scale \n   * @param field \n   * @param key id\n   */\n  public getScale(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    //  view \n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Please use `getScale`.\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    return this.getScale(field, key);\n  }\n\n  /**\n   * \n   * @returns  view API \n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   *  view \n   * @returns \n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   * \n   * @returns  G2 \n   */\n  public getOriginalData() {\n    return this.options.data;\n  }\n\n  /**\n   *  padding\n   * @returns\n   */\n  public getPadding(): Padding {\n    return this.autoPadding.getPadding();\n  }\n\n  /**\n   *  view  geometries\n   * @returns\n   */\n  public getGeometries() {\n    return this.geometries;\n  }\n\n  /**\n   *  view  geome\n   */\n  public getElements(): Element[] {\n    return reduce(\n      this.geometries,\n      (elements: Element[], geometry: Geometry) => {\n        return elements.concat(geometry.getElements());\n      },\n      []\n    );\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.getElements().filter((el) => condition(el));\n  }\n\n  /**\n   *  group\n   * @param layer \n   * @returns  Group\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n      ? this.middleGroup\n      : layer === LAYER.FORE\n      ? this.foregroundGroup\n      : this.foregroundGroup;\n  }\n\n  /**\n   * \n   * @param point \n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   *  legend  attribute \n   * @returns  Attribute \n   */\n  public getLegendAttributes(): Attribute[] {\n    return flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown as Attribute[];\n  }\n\n  /**\n   *  scale \n   * @returns  scale \n   */\n  public getGroupScales(): Scale[] {\n    //  Geometry   scale\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   *  G.Canvas \n   * @returns G.Canvas \n   */\n  public getCanvas(): ICanvas {\n    return (this.getRootView() as unknown as Chart).canvas;\n  }\n\n  /**\n   *  view\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * \n   * @param data \n   * @returns \n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  public getController(name: 'tooltip'): Tooltip;\n  public getController(name: 'axis'): Axis;\n  public getController(name: 'legend'): Legend;\n  public getController(name: 'scrollbar'): Scrollbar;\n  public getController(name: 'slider'): Slider;\n  public getController(name: 'annotation'): Annotation;\n  public getController(name: 'gestucre'): Gesture;\n  public getController(name: string): Controller;\n  /**\n   *  name  controller \n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   *  point  tooltip\n   * @param point \n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns \n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip');\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   *  point  tooltip \n   * @param point \n   * @returns tooltip \n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip');\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * \n   * @param point \n   * @returns  \n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); //  tooltip \n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   *  pure component \n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   *  data \n   * @param data\n   * @returns \n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    //  filters\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    //   \n    return filter(data, (datum: Datum, idx: number) => {\n      //  filter \n      const fields = Object.keys(filters);\n\n      // \n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition  true\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * \n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   *  coordinate \n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    //  defaultLayoutFn  coordinateBBox  adjustCoordinate()\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // \n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    //  sync scale \n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    //  padding\n    this.renderPaddingRecursive(isUpdate);\n    // \n    this.renderLayoutRecursive(isUpdate);\n    //  shape\n    this.renderBackgroundStyleShape();\n    //  render\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // \n  }\n\n  /**\n   *  shape\n   *  view  view \n   */\n  private renderBackgroundStyleShape() {\n    // \n    if (this.parent) {\n      return;\n    }\n    const background = get(this.themeObject, 'background');\n    // \n    if (background) {\n      // 1. \n      if (!this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n          attrs: {},\n          zIndex: -1,\n          //  shape \n          capture: false,\n        });\n        this.backgroundStyleRectShape.toBack();\n      }\n\n      // 2.  shape \n      const { x, y, width, height } = this.viewBBox;\n      this.backgroundStyleRectShape.attr({\n        fill: background,\n        x,\n        y,\n        width,\n        height,\n      });\n    } else {\n      // \n      if (this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape.remove(true);\n        this.backgroundStyleRectShape = undefined;\n      }\n    }\n  }\n\n  /**\n   *  view  padding coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderPaddingRecursive(isUpdate: boolean) {\n    // 1.  view  coordinateBBoxchangeSize \n    this.calculateViewBBox();\n    // 2.  coordinate\n    this.adjustCoordinate();\n    // 3.  component\n    this.initComponents(isUpdate);\n    // 4.  view  padding \n    // 4.1.  auto padding -> absolute padding appendPadding\n    this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n    // 4.2.  coordinateBBox Coordinate\n    //  view  viewBBox  parent  coordinateBBox\n    this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n    this.adjustCoordinate();\n\n    //  tooltip (tooltip crosshairs  coordinate )\n    const tooltipController = this.controllers.find((c) => c.name === 'tooltip');\n    tooltipController.update();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaddingRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  view  view  coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1.  view padding\n    //  padding\n    const syncViewPaddingFn =\n      this.syncViewPadding === true\n        ? defaultSyncViewPadding\n        : isFunction(this.syncViewPadding)\n        ? this.syncViewPadding\n        : undefined;\n\n    if (syncViewPaddingFn) {\n      syncViewPaddingFn(this, this.views, PaddingCal);\n      //  padding  coordinate\n      this.views.forEach((v: View) => {\n        v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n        v.adjustCoordinate();\n      });\n    }\n\n    // 3.  view  view padding \n    this.doLayout();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    const middleGroup = this.middleGroup;\n    if (this.limitInPlot) {\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    } else {\n      //  clip\n      middleGroup.setClip(undefined);\n    }\n\n    // 1. \n    this.paintGeometries(isUpdate);\n    // 2. \n    this.renderComponents(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get \n\n  /**\n   *  scale view  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1.  field  scaleDef\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2.  view\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3.  view  scalePool \n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. \n    this.doFilterData();\n    // 2. \n    this.createCoordinate();\n    // 3.  Geometry\n    this.initGeometries(isUpdate);\n    // 4.  view  geometry\n    this.renderFacet(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  region\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      //  parent \n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      //  canvas  \n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    //  region  view  bbox \n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox \n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n    }\n\n    //  coordinate bbox \n    this.coordinateBBox = this.viewBBox;\n  }\n\n  /**\n   * G 4.0  name:event  name \n   *\n   * G2  view \n   *  view  view  Component  Geometry \n   * @private\n   */\n  private initEvents() {\n    //  group  shape  G \n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {\n      // \n      const e = this.createViewEvent(evt);\n      //  plot \n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  };\n\n  /**\n   * \n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    //  view \n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * \n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // \n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    //  view \n    const e = this.createViewEvent(evt);\n\n    // \n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   *  PLOT_EVENTS\n   * plot event  emit\n   *  mouseentermouseleave \n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n      const newEvent = e.clone();\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; //  plot \n        newEvent.type = TYPE;\n        this.emit(TYPE, newEvent);\n        if (type === 'mouseleave' || type === 'touchend') {\n          // plot \n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      //  mouseenter, mouseleave \n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, newEvent);\n        }\n        // \n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') {\n        //  currentInPlot \n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view   \n\n  /**\n   * \n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   *  Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    //  /  scales\n    this.createOrUpdateScales();\n    //  Geometry view  scale \n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      //  scales \n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, //  coordinate  coordinate \n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // \n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry  scale scale \n    this.adjustScales();\n  }\n\n  /**\n   *  Geometry  scales\n   * \n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // \n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        //  scale \n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key\n      );\n\n      //  view  scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   *  scale \n   */\n  private syncScale() {\n    //  root view \n    this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);\n  }\n\n  /**\n   *  Geometry  scale \n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   *  scale \n   * @private\n   */\n  private adjustScales() {\n    // \n    //  scale range \n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   *  scale  range\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      //  identity  scale \n      if (isCategory || isIdentity) {\n        //  value  range \n        if (values && !get(scaleOptions, [field, 'range'])) {\n          //  range\n          scale.range = getDefaultCategoryScaleRange(scale, coordinate, this.theme);\n        }\n      }\n    });\n  }\n\n  /**\n   *  options Geometry  components\n   * @param isUpdate \n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    //  render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // \n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    }\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * \n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   *  options  geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry  paint \n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        //  view  view  geometry \n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    const components = this.getComponents();\n    //  render\n    for (let i = 0; i < components.length; i++) {\n      const co = components[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   *  view \n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // \n        this.facetInstance.init();\n        //  views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const {\n      geometries = [],\n      interactions = [],\n      views = [],\n      annotations = [],\n      coordinate,\n      events,\n      facets,\n    } = this.options;\n\n    // \n    if (this.coordinateController) {\n      //  coordinate controller\n      coordinate && this.coordinateController.update(coordinate);\n    } else {\n      //  coordinate controller\n      this.coordinateController = new CoordinateController(coordinate);\n    }\n\n    //  geometry \n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    //  interactions \n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    //  view \n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    //  annotation\n    const annotationComponent = this.getController('annotation');\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n\n    //  events\n    if (events) {\n      each(events, (eventCallback, eventName) => {\n        this.on(eventName, eventCallback);\n      });\n    }\n\n    if (facets) {\n      each(facets, (facet) => {\n        const { type, ...rest } = facet;\n\n        this.facet(type, rest);\n      });\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key \n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n *  geometry \n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  //  view API \n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /**  */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n","import { debounce, each, isString } from '@antv/util';\nimport { ChartCfg } from '../interface';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\nimport { AriaOption } from '../interface';\n\n/**\n * Chart  G2 \n */\nexport default class Chart extends View {\n  /** Chart  DOM  */\n  public ele: HTMLElement;\n\n  /**  */\n  public width: number;\n  /**  */\n  public height: number;\n  /**  */\n  public localRefresh: boolean;\n  /**  DOM  false */\n  public autoFit: boolean;\n  /**  */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      appendPadding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      supportCSSTransform = false,\n      defaultInteractions = ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text', 'axis-description'],\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    //  div \n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      supportCSSTransform,\n      ...size,\n    });\n\n    //  view \n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      appendPadding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // \n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, (interaction) => {\n      this.interaction(interaction);\n    });\n  }\n\n  /**\n   *  WAI-ARIA  arial \n   * @param ariaOption\n   */\n  public aria(ariaOption: AriaOption) {\n    const ATTR = 'aria-label';\n    if (ariaOption === false) {\n      this.ele.removeAttribute(ATTR);\n    } else {\n      this.ele.setAttribute(ATTR, ariaOption.label);\n    }\n  }\n\n  /**\n   * \n   * @param width \n   * @param height \n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    //  changeSize \n    if (this.width === width && this.height === height) {\n      return this;\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // \n    this.render(true);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n\n    return this;\n  }\n\n  /**\n   *  aria \n   */\n  public clear() {\n    super.clear();\n\n    this.aria(false);\n  }\n\n  /**\n   *  G.Canvas \n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * \n   * @param visible true false \n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible); //  visible \n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   *  resize \n   */\n  public forceFit() {\n    // skip if already destroyed\n    if (!this.destroyed) {\n      //  true autoFit = falseforceFit() \n      const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n      this.changeSize(width, height);\n    }\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n","import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller \n * 1.  option \n * 2.  API\n * 3. \n */\nexport abstract class Controller<O = unknown> {\n  /**  */\n  public visible: boolean = true;\n  protected view: View;\n  /** option  */\n  protected option: O;\n  /**  component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * \n   *  -  id option \n   *  -  id  diff\n   *  - \n   *  - \n   *  - \n   */\n  public abstract update();\n\n  /**\n   * clear\n   * @param includeOption  option used in annotation\n   */\n  public clear(includeOption?: boolean) {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n","import { deepMix, find, get, isEqual, isFunction, mix, isString, isBoolean, flatten, isArray } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport { Point, TooltipItem, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, getCoordinateClipCfg } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findItemsFromView } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\nimport View from '../view';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  private isVisible() {\n    const option = this.view.getOptions().tooltip;\n    return option !== false;\n  }\n\n  public render() { }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible()) {\n      //  tooltip(false) \n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      //  tooltip \n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // \n\n    view.emit(\n      'tooltip:show',\n      Event.fromData(view, 'tooltip:show', {\n        items,\n        title,\n        ...point,\n      })\n    );\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      //  tooltip\n      view.emit(\n        'tooltip:change',\n        Event.fromData(view, 'tooltip:change', {\n          items,\n          title,\n          ...point,\n        })\n      );\n\n      if (isFunction(showContent) ? showContent(items) : showContent) {\n        //  tooltip  tooltip\n        if (!this.tooltip) {\n          // \n          this.renderTooltip();\n        }\n        this.tooltip.update(\n          mix(\n            {},\n            cfg,\n            {\n              items: this.getItemsAfterProcess(items),\n              title,\n            },\n            follow ? point : {}\n          )\n        );\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        //  tooltipMarkerstooltipMarkers \n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // \n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip \n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      //  tooltip \n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // \n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer \n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      //  capture \n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n\n    //  customContent  tooltip\n    if (tooltip?.get('customContent')) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    // title  items ,  tooltip \n    //  !isEqual(lastTitle, title) || !isEqual(lastItems, items)  tooltip \n    this.title = null;\n    this.items = null;\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.reset();\n  }\n\n  public reset() {\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // \n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false  shape  view  Geometry shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n\n    if (this.tooltip) {\n      // #2279 resizetooltip\n      // tooltip\n      const canvas = this.view.getCanvas();\n      // TODO  tooltip  canvas \n      //  region\n      this.tooltip.set('region', {\n        start: { x: 0, y: 0 },\n        end: { x: canvas.get('width'), y: canvas.get('height') },\n      });\n    }\n  }\n\n  /**\n   *  enter tooltip \n   * @param point\n   */\n  public isCursorEntered(point: Point) {\n    //  tooltip dom \n    if (this.tooltip) {\n      const el: HTMLElement = this.tooltip.getContainer();\n      const capture = this.tooltip.get('capture');\n\n      if (el && capture) {\n        const { x, y, width, height } = el.getBoundingClientRect();\n        return new BBox(x, y, width, height).isPointIn(point);\n      }\n    }\n\n    return false;\n  }\n\n  //  tooltip  view.tooltip()  tooltip\n  public getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const processOption = this.processCustomContent(option);\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = get(processOption, 'enterable', defaultCfg.enterable);\n    return deepMix({}, defaultCfg, processOption, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  // process customContent\n  protected processCustomContent(option: TooltipOption) {\n    if (isBoolean(option) || !get(option, 'customContent')) {\n      return option;\n    }\n    const currentCustomContent = option.customContent;\n    const customContent = (title: string, items: any[]) => {\n      const content = currentCustomContent(title, items) || '';\n      return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n    };\n    return {\n      ...option,\n      customContent,\n    };\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    const rootView = this.view.getRootView();\n    const { limitInPlot } = rootView;\n    for (const item of items) {\n      const { x, y } = item;\n\n      // \n      if (limitInPlot || tooltipMarkersGroup?.getClip()) {\n        const { type, attrs } = getCoordinateClipCfg(rootView.getCoordinate());\n        tooltipMarkersGroup?.setClip({\n          type,\n          attrs,\n        });\n      } else {\n        //  clip\n        tooltipMarkersGroup?.setClip(undefined);\n      }\n\n      const theme = this.view.getTheme();\n      const markerDefaultCfg = get(theme, ['components', 'tooltip', 'marker'], {});\n\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...(isFunction(marker) ? { ...markerDefaultCfg, ...marker(item) } : marker),\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); //  x \n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  //  x  tooltip \n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      //  x  crosshairs \n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix(\n      {\n        start,\n        end,\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('x', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  //  y \n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      //  y  crosshairs \n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix(\n      {\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      cfg,\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('y', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // \n      if (\n        (coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n        (!coordinate.isRect && yCrosshair.get('type') === 'line')\n      ) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // \n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // \n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // \n        yValue = yScale.invert(invertPoint.y); // \n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  //  tooltipMarkers  crosshairs \n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  //  tooltipMarkers \n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  //  tooltip crosshairs \n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private findItemsFromView(view: View, point: Point) {\n    if (view.getOptions().tooltip === false) {\n      //  view  tooltip\n      return [];\n    }\n\n    const tooltipCfg = this.getTooltipCfg();\n    let result = findItemsFromView(view, point, tooltipCfg);\n    // \n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack \n  //  tooltip  Chart chart  Geometry  View \n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n\n  /**\n   *  items  items\n   * \n   */\n  private getItemsAfterProcess(originalItems: TooltipItem[]): TooltipItem[] {\n    const { customItems } = this.getTooltipCfg();\n    const fn = customItems ? customItems : (v) => v;\n\n    return fn(originalItems);\n  }\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * \n * @param type \n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * \n * @param type \n * @param animation \n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n","import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// \nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // \n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // \n};\n\n//  Geometry \nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n//  Geometry \nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// \nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n    repeat: animateCfg.repeat,\n  };\n}\n\n/**\n * @ignore\n *  elementName  `animateType` `animateType` \n * @param elementName \n * @param coordinate \n * @param animateType \n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * \n *  shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // \n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // \n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    //  toAttrs \n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n *  Geometry \n * @param container \n * @param animateCfg \n * @param geometryType geometry \n * @param coordinate \n * @param minYPoint y \n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); //  container \n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n","/**\n * Name of Background Shape\n */\nexport const BACKGROUND_SHAPE = 'element-background';\n","import { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\n// \n// @ts-ignore\nimport { propagationDelegate } from '@antv/component';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\nimport { BACKGROUND_SHAPE } from '../shape/constant';\n\n/** Element  */\ninterface ElementCfg {\n  /**  shape  */\n  shapeFactory: ShapeFactory;\n  /** shape  */\n  container: IGroup;\n  /** element  */\n  elementIndex?: number;\n  /**  group */\n  offscreenGroup?: IGroup;\n  /**  */\n  visible?: boolean;\n}\n\n/**\n * Element \n *  G2 Element / Shape  Shape\n */\nexport default class Element extends Base {\n  /**  shape  */\n  public shapeFactory: ShapeFactory;\n  /** shape  */\n  public container: IGroup;\n  /** element  */\n  public elementIndex: number;\n  /**  */\n  public shape: IShape | IGroup;\n  /** shape  */\n  public animate: AnimateOption | boolean;\n\n  // \n  /** element  Geometry  */\n  public geometry: Geometry;\n  /**  shape  label */\n  public labelShape: IGroup[] = [];\n\n  /**  shape  */\n  private shapeType: string;\n\n  /** shape  */\n  private model: ShapeInfo;\n  /**  */\n  private data: Datum;\n  // \n  private states: string[] = [];\n  private statesStyle;\n  //  Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, elementIndex, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n    this.elementIndex = elementIndex;\n  }\n\n  /**\n   * \n   * @param model \n   * @param isUpdate \n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // \n    this.shapeType = this.getShapeType(model);\n\n    // \n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // \n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1:  shape \n    this.setShapeInfo(shape, model);\n\n    // step 2:  Group  shape shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n    // label \n    newShape.cfg.element = this;\n\n    // step 3:  shape \n    this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n  }\n\n  /**\n   *  element \n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // \n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // \n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = [];\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  element\n   * @param visible \n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   *  Element \n   *\n   *  Element \n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * \n   *\n   *  [[Theme]]  `geometry.state()` \n   *\n   * ```ts\n   * //  active \n   * setState('active', true);\n   * ```\n   *\n   * @param stateName \n   * @param stateStatus \n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // \n      if (index > -1) {\n        // \n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape?.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // \n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        const { sortZIndex, zIndexReversed } = this.geometry;\n        const idx = zIndexReversed ? this.geometry.elements.length - this.elementIndex : this.elementIndex;\n        sortZIndex ? shape.setZIndex(idx) : shape.set('zIndex', idx);\n      }\n    }\n\n    //  group  shape shape  shape\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // \n      this.syncShapeStyle(shape, offscreenShape, states, null);\n    } else {\n      // \n      this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n    }\n\n    offscreenShape.remove(true); // \n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    // @ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * \n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   *  Element  `stateName` \n   * @param stateName \n   * @returns true false \n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   *  Element \n   * @returns  Element \n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   *  Element  bbox\n   * @returns \n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // \n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // \n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      const cfg = animate[animateType];\n\n      if (cfg) {\n        //  geometry  animate \n        return {\n          ...cfg,\n          callback: () => {\n            isFunction(cfg.callback) && cfg.callback();\n            this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n          },\n        };\n      }\n      return cfg;\n    }\n\n    return null;\n  }\n\n  // \n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    //  shape  shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // \n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      //  element  name, name \n      if (!name) {\n        //  name,  name  name\n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n      } else if (isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // \n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        // \n        this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  //  Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  //  shape \n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  //  shape \n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    states: string[] = [],\n    animateCfg,\n    index: number = 0\n  ) {\n    if (!sourceShape || !targetShape) {\n      return;\n    }\n    //  shape  clip\n    const clip = sourceShape.get('clipShape');\n    const newClip = targetShape.get('clipShape');\n\n    this.syncShapeStyle(clip, newClip, states, animateCfg);\n\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n      }\n    } else {\n      if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n        let name = sourceShape.get('name');\n        if (isArray(name)) {\n          //  element  name\n          name = name[1];\n        }\n\n        each(states, (state) => {\n          // background shape \n          if (targetShape.get('name') !== BACKGROUND_SHAPE) {\n            const style = this.getStateStyle(state, name || index); //  name\n            targetShape.attr(style);\n          }\n        });\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n          // \n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (!isEmpty(states)) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n","import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label \n * @param items  label \n * @param labels  labels \n * @param shapes  label \n * @param region \n * @param cfg \n */\ntype GeometryLabelsLayoutFn = (\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LooseObject\n) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn> = {};\n\n/**\n *  `type`  [[GeometryLabel]] \n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n *  GeometryLabel \n * @param type GeometryLabel \n * @param ctor GeometryLabel \n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n *  `type`  [[GeometryLabelsLayoutFn]] label \n * @param type \n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n *  label \n * @param type label \n * @param layoutFn label \n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n","import { LooseObject } from '@antv/g-svg';\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory  */\nconst ShapeFactoryBase = {\n  /**  */\n  coordinate: null,\n  /**  Shape  */\n  defaultShapeType: null,\n  /**  */\n  theme: null,\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param shapePoint  size \n   * @returns \n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   *  shape  shape \n   * @param shapeType string shape \n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   *  shape \n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   *  shape  ( shapeFactory )\n   */\n  getDefaultStyle(geometryTheme: LooseObject): LooseObject {\n    return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n  },\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param color \n   * @param isInPolar \n   * @returns  marker \n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   *  shape\n   * @override\n   * @param shapeType  shape \n   * @param cfg  shape \n   * @param element Element \n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape  */\nconst ShapeBase = {\n  /**  */\n  coordinate: null,\n  /**\n   *  path  path\n   * @param path \n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * \n   * @param point \n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 01 points   points\n   * @param points \n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   *  shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n *  ShapeFactory\n * @param factoryName  ShapeFactory  Geometry \n * @param cfg  ShapeFactory \n * @returns  ShapeFactory \n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n *  Shape\n * @param factoryName  ShapeFactory \n * @param shapeType  shape \n * @param cfg  Shape \n * @returns shape  shape \n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n *  factoryName  shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n","import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some(\n    ['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'],\n    (key: string) => {\n      return !isEqual(currentModel[key], preModel[key]);\n    }\n  );\n}\n","import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n","/**\n *  added, updated, removed\n * @param keyItem  key-item  object \n * @param keys  array \n * @returns  added, updated, removed array  object\n */\nexport function diff(keyItem: Record<string, any>, keys: string[]) {\n  const added = [];\n  const updated = [];\n  const removed = [];\n  const keyIncluded = new Map<string, boolean>();\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (keyItem[key]) updated.push(key);\n    else added.push(key);\n    keyIncluded.set(key, true);\n  }\n\n  Object.keys(keyItem).forEach((key) => {\n    if (!keyIncluded.has(key)) removed.push(key);\n  });\n\n  return {\n    added,\n    updated,\n    removed,\n  };\n}\n","import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GEOMETRY_LIFE_CIRCLE, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapeMarkerAttrs,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n  CustomOption,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\nimport { diff } from './util/diff';\nimport { inferScaleType } from '../util/scale';\nimport { getXDimensionLength } from '../util/coordinate';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\ninterface DimValuesMapType {\n  [dim: string]: number[];\n}\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n\n  /** offset */\n  intervalPadding?: number;\n  dodgePadding?: number;\n  /** xpadding */\n  xDimensionLength?: number;\n  /** offset */\n  groupNum?: number;\n  /**  size */\n  defaultSize?: number;\n  /**  */\n  maxColumnWidth?: number;\n  minColumnWidth?: number;\n  /**  */\n  columnWidthRatio?: number;\n  /** dimValuesMap */\n  dimValuesMap?: DimValuesMapType;\n}\n\n/** geometry.init()  */\nexport interface InitCfg {\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  */\n  theme?: LooseObject;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /**  */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry  */\nexport interface GeometryCfg {\n  /** Geometry shape  */\n  container: IGroup;\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  scales */\n  scales?: Record<string, Scale>;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels  */\n  labelsContainer?: IGroup;\n  /**  */\n  sortable?: boolean;\n  /** elements  zIndex  zIndexReversed  */\n  zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  sortZIndex?: boolean;\n  /**  Geometry .  true ,  timeout  */\n  useDeferredLabel?: boolean | number;\n  /**  */\n  visible?: boolean;\n  /**  */\n  theme?: LooseObject;\n\n  /**  */\n  intervalPadding?: number;\n  /**  */\n  dodgePadding?: number;\n  /**  */\n  maxColumnWidth?: number;\n  /**  */\n  minColumnWidth?: number;\n  /** intervalschema */\n  columnWidthRatio?: number;\n  /**  */\n  roseWidthRatio?: number;\n  /** / */\n  multiplePieWidthRatio?: number;\n}\n\n/**\n * Geometry \n */\nexport default class Geometry<S extends ShapePoint = ShapePoint> extends Base {\n  /** Geometry  */\n  public readonly type: string = 'base';\n  /** ShapeFactory  */\n  public readonly shapeType: string;\n\n  //  Geometry \n  /** Coordinate  */\n  public coordinate: Coordinate;\n  /**  */\n  public data: Data;\n  /**  */\n  public readonly container: IGroup;\n  /** label  */\n  public readonly labelsContainer: IGroup;\n  /**  false  */\n  public sortable: boolean;\n  /**  Geometry   */\n  public theme: LooseObject;\n  /**  geometry  scales */\n  public scales: Record<string, Scale>;\n  /** scale  */\n  public scaleDefs: Record<string, ScaleOption>;\n  /**  label  */\n  public canvasRegion: BBox;\n\n  // \n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * \n   * + init()  updateData() ,  Data[]\n   * + paint()  MappingDatum[][]\n   */\n  public dataArray: MappingDatum[][];\n  /**  tooltip  */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /**  label  */\n  public labelOption: LabelOption | false;\n  /**  */\n  public stateOption: StateOption;\n  /**  key-value  Elementkey  Element  ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate  */\n  public animateOption: AnimateOption | boolean = true;\n  /**  */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust  */\n  protected adjustOption: AdjustOption[];\n  /** style  */\n  protected styleOption: StyleOption;\n  /** custom  */\n  protected customOption: CustomOption;\n  /**  Geometry  Shape  Shape */\n  protected shapeFactory: ShapeFactory;\n  /**  element  */\n  protected lastElementsMap: Record<string, Element> = {};\n  /**  */\n  protected generatePoints: boolean = false;\n  /**  */\n  protected beforeMappingData: Data[] = null;\n  /**  shape  size IntervalSchema  */\n  protected defaultSize: number;\n\n  //  geometry \n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n\n  // \n  /**  */\n  protected intervalPadding: number;\n  /**  */\n  protected dodgePadding: number;\n  /**  */\n  protected maxColumnWidth: number;\n  /**  */\n  protected minColumnWidth: number;\n  /**  */\n  protected columnWidthRatio: number;\n  /**  */\n  protected roseWidthRatio: number;\n  /** / */\n  protected multiplePieWidthRatio: number;\n  /** elements  zIndex  zIndexReversed  */\n  public zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  public sortZIndex?: boolean;\n  protected useDeferredLabel?: null | number;\n\n  /**  Group */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   *  Geometry \n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n      // \n      intervalPadding,\n      dodgePadding,\n      maxColumnWidth,\n      minColumnWidth,\n      columnWidthRatio,\n      roseWidthRatio,\n      multiplePieWidthRatio,\n      zIndexReversed,\n      sortZIndex,\n      useDeferredLabel,\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n    // \n    this.intervalPadding = intervalPadding;\n    this.dodgePadding = dodgePadding;\n    this.maxColumnWidth = maxColumnWidth;\n    this.minColumnWidth = minColumnWidth;\n    this.columnWidthRatio = columnWidthRatio;\n    this.roseWidthRatio = roseWidthRatio;\n    this.multiplePieWidthRatio = multiplePieWidthRatio;\n    this.zIndexReversed = zIndexReversed;\n    this.sortZIndex = sortZIndex;\n    this.useDeferredLabel = useDeferredLabel ? (typeof useDeferredLabel === 'number' ? useDeferredLabel : Infinity) : null;\n  }\n\n  /**\n   *  position \n   *\n   * @example\n   * ```typescript\n   * // : [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // \n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      //  1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   *  color \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  '#1890ff' \n   * geometry.color('#1890ff');\n   *\n   * //  x  G2 \n   * geometry.color('x');\n   *\n   * //  'x'  colors\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // *\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // \n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field  '*' \n   * @param cfg Optional, color \n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  shape \n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  shape\n   * geometry.shape('circle');\n   *\n   * //  shapes \n   * geometry.shape('x');\n   *\n   * //  shapes \n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * //  shape shape \n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field  shape  '*' \n   * @param cfg Optional, shape \n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  size \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \n   * geometry.size(10);\n   *\n   * //  size  [1, 10]\n   * geometry.size('x');\n   *\n   * //  size  size \n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * //  size size \n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field  size  '*' \n   * @param cfg Optional, size \n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * G2 \n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * +  'dodge' :\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, //  0  1 \n   *   dodgeBy: 'x', //  'dodge' \n   * });\n   * ```\n   *\n   * +  'stack' :\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // \n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * //  adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg \n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```typescript\n   * // \n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // \n   * style({\n   *   fields: [ 'x', 'y' ], // \n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field \n   * @param styleFunc Optional, \n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   *  Geometry  tooltip \n   *\n   * `tooltip(false)`  tooltip\n   * `tooltip(true)`  tooltip\n   *\n   * Geometry  tooltip  tooltip \n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() \n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   *  chart.tooltip()  itemTpl  itemTpl \n   *\n   * @param field tooltip \n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * //  tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field \n   * @param cfg Optional, \n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry \n   *\n   * + `animate(false)` \n   * + `animate(true)` \n   *\n   * \n   * 1. appear: \n   * 2. enter: \n   * 3. update: \n   * 4. leave: \n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter \n   *   },\n   *   leave: false, //  leave \n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label \n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * //  z \n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); //  label\n   *\n   * //  x \n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * //  type  label  x \n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' //  label \n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   *  shape  shape  G.Group  group  shape\n   *  group  shape  'name' (shape.set('name', 'xx')) 'name'  key shape   key\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg \n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   *  shape  shape  shape  shape \n   *\n   * @example\n   * ```ts\n   * chart.interval().customInfo({ yourData: 'hello, g2!' });\n   * ```\n   *\n   *  shape \n   *\n   * ```ts\n   * registerShape('interval', 'your-shape', {\n   *   draw(shapeInfo, container) {\n   *     const { customInfo } = shapeInfo;\n   *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg\n   */\n  public customInfo(cfg: any) {\n    this.customOption = cfg;\n    return this;\n  }\n\n  /**\n   *  Geomtry \n   *  [[Attribute]] and [[Scale]] \n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // \n\n    //  ->  -> adjust\n    this.processData(this.data);\n\n    //  scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry \n   * @param [cfg] \n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // \n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // \n      this.setCfg(cfg);\n      this.initAttributes(); // \n      this.processData(data); //  ->  -> adjust\n    } else {\n      //  coordinate \n      this.setCfg(cfg);\n    }\n\n    //  scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * \n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n    }\n\n    this.defaultSize = undefined;\n    this.elementsMap = {};\n    this.elements = [];\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    this.dataArray = new Array(dataArray.length);\n    for (let i = 0; i < dataArray.length; i++) {\n      const data = dataArray[i];\n      this.dataArray[i] = this.mapping(data);\n    }\n    this.updateElements(this.dataArray, isUpdate);\n    this.lastElementsMap = this.elementsMap;\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      //  appear.animation\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    //  label\n    if (this.labelOption) {\n      const deferred = this.useDeferredLabel;\n      const callback = (() => this.renderLabels(flatten(this.dataArray) as unknown as MappingDatum[], isUpdate)).bind(this);\n      if (typeof deferred === 'number') {\n        // Use `requestIdleCallback` to render labels in idle time (like react fiber)\n        const timeout = (typeof deferred === 'number' && deferred !== Infinity) ? deferred : 0;\n        if (!window.requestIdleCallback) {\n          setTimeout(callback, timeout);\n        } else {\n          const options = timeout && timeout !== Infinity ? { timeout } : undefined;\n          window.requestIdleCallback(callback, options);\n        }\n      } else {\n        callback();\n      }\n    }\n\n    // \n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   *  Geometry\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // \n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   *  Geometry \n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  scale \n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * \n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /**  x  scale  */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /**  y  scale  */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * \n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // \n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   *  Attribute \n   * @param attr Attribute \n   * @param obj \n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  /**\n   *  adjust \n   * @param adjustType\n   * @returns\n   */\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   *  coordinate \n   * @returns\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  /**\n   *  shape  marker \n   * @param shapeName shape \n   * @param cfg marker \n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => condition(element));\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElements();\n   * ```\n   */\n  public getElements() {\n    return this.elements;\n  }\n\n  /**\n   *  id\n   * @param data Element \n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    //  id \n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = `${xVal}`;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    //  dodge  adjust  dodgeBy \n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   *  scale \n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = new Map();\n    const { attributeOption, labelOption, tooltipOption } = this;\n    //  fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          //  size(10), shape('circle') \n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    //  label \n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    //  tooltip \n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   *  geometry\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public getFields() {\n    const uniqMap = new Map<string, boolean>();\n    const fields = [];\n\n    Object.values(this.attributeOption).forEach((cfg) => {\n      const fs = cfg?.fields || [];\n      fs.forEach((f) => {\n        if (!uniqMap.has(f)) {\n          fields.push(f);\n        }\n        uniqMap.set(f, true);\n      });\n    }, []);\n\n    return fields;\n  }\n\n  /**\n   *  & \n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = new Map(); // \n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   *  x y \n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   * x \n   * @returns\n   */\n  public getXField(): string {\n    return get(this.getXYFields(), [0]);\n  }\n\n  /**\n   * y \n   * @returns\n   */\n  public getYField(): string {\n    return get(this.getXYFields(), [1]);\n  }\n\n  /**\n   *  Geometry  shapes\n   * @returns shapes\n   */\n  public getShapes(): (IShape | IGroup)[] {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   *  Group\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // \n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // \n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      }\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   *  Geometry Interval  Y  0 \n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    //  stack adjust yScale \n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   *  Geometry  Shape \n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); //  view  shapeFactory  coordinate \n    }\n    //  shapeFactory coordinate shapeFactory \n    this.shapeFactory.coordinate = this.coordinate;\n    // theme \n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): S {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; //  y \n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    } as S;\n  }\n\n  /**\n   *  Element \n   * @param mappingDatum Element \n   * @param [isUpdate] \n   * @returns element  Element \n   */\n  protected createElement(mappingDatum: MappingDatum, index: number, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // \n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n      elementIndex: index,\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // \n\n    return element;\n  }\n\n  /**\n   * \n   * @param mappingDatum \n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // \n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // \n      data: originData, // \n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n      customInfo: this.customOption,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // \n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n    if (!cfg.defaultStyle && this.getShapeFactory()) {\n      cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n    }\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false): void {\n    const keyDatum = new Map<string, MappingDatum>();\n    const keys: string[] = [];\n\n    //  diff  added, updated \n    const keyIndex = new Map<string, number>();\n    let index = 0;\n\n    //  keys\n    //  key \n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      for (let j = 0; j < mappingData.length; j++) {\n        const mappingDatum = mappingData[j];\n        const key = this.getElementId(mappingDatum);\n        const finalKey = keyDatum.has(key) ? `${key}-${i}-${j}` : key;\n        keys.push(finalKey);\n        keyDatum.set(finalKey, mappingDatum);\n        keyIndex.set(finalKey, index);\n        index++;\n      }\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    //  element\n    for (const key of added) {\n      const mappingDatum = keyDatum.get(key);\n      const i = keyIndex.get(key);\n      const element = this.createElement(mappingDatum, i, isUpdate);\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  element\n    for (const key of updated) {\n      const element = this.lastElementsMap[key];\n      const mappingDatum = keyDatum.get(key);\n      const currentShapeCfg = this.getDrawCfg(mappingDatum);\n      const preShapeCfg = element.getModel();\n      const i = keyIndex.get(key);\n      if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(currentShapeCfg); //  element\n      }\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  setZIndex  sort\n    if (this.container) {\n      this.container.sort();\n    }\n\n    //  elements\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   *  label \n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const { type: coordinateType, isTransposed } = coordinate;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // \n      if (coordinateType === 'polar') {\n        // \n        labelType = isTransposed ? 'pie' : 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta \n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   *  Y \n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      //  ymin  0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // \n  protected createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  protected initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    //  attrOption Attribute \n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        //  scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (!tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            const inferedScaleType = inferScaleType(scale, get(this.scaleDefs, field), attrType, this.type);\n            if (inferedScaleType === 'cat') {\n              this.groupScales.push(scale);\n              tmpMap[field] = true;\n            }\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          //  color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // \n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // \n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  //  ->  -> adjust \n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // \n    const beforeAdjust = [];\n    for (let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for (let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // , \n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); //  adjust \n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // \n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    const { intervalPadding, dodgePadding, theme } = this;\n    // theme\n    const maxColumnWidth = this.maxColumnWidth || theme.maxColumnWidth;\n    const minColumnWidth = this.minColumnWidth || theme.minColumnWidth;\n    const columnWidthRatio = this.columnWidthRatio || theme.columnWidthRatio;\n    let result = dataArray;\n\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      const xDimensionLength = getXDimensionLength(this.coordinate);\n      const groupNum = xScale.values.length;\n      // size\n      const sizeAttr = this.getAttribute('size');\n      let defaultSize;\n      if (sizeAttr) {\n        defaultSize = sizeAttr.values[0];\n      }\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          intervalPadding,\n          dodgePadding,\n          xDimensionLength,\n          groupNum,\n          defaultSize,\n          maxColumnWidth,\n          minColumnWidth,\n          columnWidthRatio,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          //  columnWidthRatio \n          // theme\n          adjustCfg.dodgeRatio = columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          //  transpose \n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        adjustCfg.dimValuesMap = {};\n        //dimValuesMap\n        if (xScale && xScale.values) {\n          adjustCfg.dimValuesMap[xScale.field] = xScale.values.map((v) => xScale.translate(v));\n        }\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // \n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        //  view.scale()  values \n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // \n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n      //  min\n      cfg.min = min;\n    }\n    if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n      //  max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // \n  private beforeMapping(beforeMappingData: Data[]) {\n    //  clone  points  clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // \n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  //  shape \n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // \n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // \n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position \n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // \n            }\n          } else {\n            // values.length === 1 \n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); //  xy \n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // \n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  //  style \n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // \n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; //  geometry \n    }\n  }\n\n  private async renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_RENDER_LABEL);\n\n    if (!geometryLabel) {\n      // \n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    await geometryLabel.render(mappingArray, isUpdate);\n\n    //  label  element \n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    // Store labels for every element.\n    const elementLabels = new Map<Element, Set<IGroup>>();\n    each(labelsMap, (labelGroup: IGroup, labelGroupId: string) => {\n      const labelChildren = labelGroup.getChildren() || [];\n      for (let j = 0; j < labelChildren.length; j++) {\n        const labelShape = labelChildren[j];\n        const element = this.elementsMap[labelShape.get('elementId') || labelGroupId.split(' ')[0]];\n        if (element) {\n          labelShape.cfg.name = ['element', 'label'];\n          labelShape.cfg.element = element;\n          const labels = elementLabels.get(element) || new Set();\n          labels.add(labelGroup);\n          elementLabels.set(element, labels);\n        }\n      }\n    });\n    for (const [element, labels] of elementLabels.entries()) {\n      element.labelShape = [...labels];\n    }\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.AFTER_RENDER_LABEL);\n  }\n  /**\n   * \n   * \n   * 1. \n   * 2.  geometry \n   * 3.  appear \n   * 4.  appear.animation\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n","import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        //  values  arr  null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n","import { ext } from '@antv/matrix-util';\nimport { IElement, IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * \n * @param element \n * @param x x \n * @param y y \n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n *  ()\n * @param element \n * @param rotateRadian \n */\nexport function getRotateMatrix(element: IElement, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  return matrix;\n}\n\n/**\n * \n * @param element \n * @param rotateRadian \n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const matrix = getRotateMatrix(element, rotateRadian);\n  element.setMatrix(matrix);\n}\n\n/**\n * \n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * \n * @param element \n * @param ratio \n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n","/**\n * @file utils of label\n */\n\nimport { isNil, isNumber, some } from '@antv/util';\nimport { IElement, IGroup, BBox } from '../../../dependents';\nimport { rotate } from '../../../util/transform';\n\n/**\n *  Label Group  shape \n * @param label\n */\nexport function findLabelTextShape(label: IGroup): IElement {\n  return label.find((el) => el.get('type') === 'text');\n}\n\n/**\n * : box () + rotation ()\n */\nexport function getLabelBackgroundInfo(\n  labelGroup: IGroup,\n  labelItem: { rotate?: number;[key: string]: any },\n  padding: number | number[] = [0, 0, 0, 0]\n): { x: number; y: number; width: number; height: number; rotation: number } {\n  const content = labelGroup && labelGroup.getChildren()[0];\n  if (content) {\n    const labelShape = content.clone();\n\n    // revert rotate\n    if (labelItem?.rotate) {\n      rotate(labelShape as IGroup, -labelItem.rotate);\n    }\n\n    // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n    const { x, y, width, height } = labelShape.getCanvasBBox();\n\n    labelShape.destroy();\n\n    let boxPadding = padding;\n    if (isNil(boxPadding)) {\n      boxPadding = [2, 2, 2, 2];\n    } else if (isNumber(boxPadding)) {\n      boxPadding = new Array(4).fill(boxPadding);\n    }\n\n    return {\n      x: x - boxPadding[3],\n      y: y - boxPadding[0],\n      width: width + boxPadding[1] + boxPadding[3],\n      height: height + boxPadding[0] + boxPadding[2],\n      rotation: labelItem?.rotate || 0,\n    };\n  }\n\n  return { x: 0, y: 0, width: 0, height: 0, rotation: 0 };\n}\n\n/**\n * \n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**  */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n","import { deepMix, each, get, isArray, isNull } from '@antv/util';\nimport { BBox, Coordinate, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getLabelBackgroundInfo } from '../geometry/label/util';\nimport { polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\nimport { updateLabel } from './update-label';\n\n/**\n * Labels \n */\nexport interface LabelsGroupCfg {\n  /** label  */\n  container: IGroup;\n  /** label  */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels \n */\nexport default class Labels {\n  /**  labels  */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /**  */\n  public container: IGroup;\n  /**  */\n  public animate: AnimateOption | false;\n  /** label  */\n  public region: BBox;\n\n  /**  shape  shape id */\n  public shapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n  /**\n   * \n   */\n  public async render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    const shapesMap = {};\n    const offscreenGroup = this.createOffscreenGroup(); // \n    if (items.length) {\n      //  items \n      // step 1:  group  shapes\n      for (const item of items) {\n        if (item) {\n          shapesMap[item.id] = this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // [todo] Move layout into Worker.\n      // step 2:  labels\n      await this.doLayout(items, shapes, shapesMap);\n\n      // step 3.1:  labelLine\n      this.renderLabelLine(items, shapesMap);\n      // step 3.2:  labelBackground\n      this.renderLabelBackground(items, shapesMap);\n      // step 4:  label\n      this.adjustLabel(items, shapesMap);\n    }\n\n    // \n    const lastShapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label doLayout\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // \n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentAnimateCfg = shape.get('animateCfg');\n\n          const currentShape = lastShapesMap[id]; //  shape\n          updateLabel(currentShape, shapesMap[id], {\n            data,\n            origin,\n            animateCfg: currentAnimateCfg,\n            coordinate,\n          });\n\n          shapesMap[id] = currentShape; // \n        } else {\n          //  shape\n          // If container has been destroyed, no need to render labels.\n          if (this.container.destroyed) return;\n          this.container.add(shape);\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // \n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // \n      }\n    });\n\n    this.shapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /**  labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n  }\n\n  /**  */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup): IGroup {\n    const { id, elementId, data, mappingData, coordinate, animate, content, capture } = cfg;\n    const shapeAppendCfg = {\n      id,\n      elementId,\n      capture,\n      data,\n      origin: {\n        ...mappingData,\n        data: mappingData[FIELD_ORIGIN],\n      },\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      //  this.animate === false  cfg.animate === false/null \n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n      //  content  Group  Shape textAlign  labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - height / 2;\n\n      if (textAlign === 'center') {\n        x = x - width / 2;\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); //  label  x, y \n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      const fill = get(cfg, ['style', 'fill']);\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n          fill: isNull(fill) ? cfg.color : fill,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    return labelGroup;\n  }\n\n  // typelabel\n  private async doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>, shapesMap: Record<string, IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      await Promise.all(layouts.map((layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (!layoutFn) return;\n\n        const labelShapes = [];\n        const geometryShapes = [];\n        each(shapesMap, (labelShape, id) => {\n          labelShapes.push(labelShape);\n          geometryShapes.push(shapes[labelShape.get('elementId')]);\n        });\n        // [todo] Refactor more layout into Worker.\n        return layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n      }));\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      if (!labelItem || !coordinate) {\n        return;\n      }\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      if (!labelItem.labelLine) {\n        // labelLine: null | false label  labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine \n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   * @param labelItems\n   */\n  private renderLabelBackground(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      const background: LabelItem['background'] = get(labelItem, 'background');\n      if (!background || !coordinate) {\n        return;\n      }\n\n      const id = labelItem.id;\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        const labelContentShape = labelGroup.getChildren()[0];\n        if (labelContentShape) {\n          const { rotation, ...box } = getLabelBackgroundInfo(labelGroup, labelItem, background.padding);\n          const backgroundShape = labelGroup.addShape('rect', {\n            attrs: {\n              ...box,\n              ...(background.style || {}),\n            },\n            id,\n            origin: labelItem.mappingData,\n            data: labelItem.data,\n            coordinate: labelItem.coordinate,\n          });\n          backgroundShape.setZIndex(-1);\n\n          if (rotation) {\n            const matrix = labelContentShape.getMatrix();\n            backgroundShape.setMatrix(matrix);\n          }\n        }\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // \n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[], shapesMap) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = shapesMap[id];\n        if (!labelGroup.destroyed) {\n          // fix:  label content  group  content group   spider label  2  textShape  gorup\n          const labelShapes = labelGroup.findAll((ele) => ele.get('type') !== 'path');\n          each(labelShapes, (labelShape) => {\n            if (labelShape) {\n              if (item.offsetX) {\n                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n              }\n              if (item.offsetY) {\n                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { each, get } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getReplaceAttrs } from '../util/graphics';\n\n/** label  */\ntype Cfg = {\n  data: any;\n  origin: any;\n  animateCfg: any;\n  coordinate: Coordinate;\n};\n\n/**\n * @desc  label ( id  idx )\n * @done shape \n * @done shape delete\n * @done shape append\n *\n * @param fromShape old labelShape\n * @param toShape new labelShape\n * @param cfg\n */\nexport function updateLabel(fromShape: IGroup, toShape: IGroup, cfg: Cfg): void {\n  const { data, origin, animateCfg, coordinate } = cfg;\n  const updateAnimateCfg = get(animateCfg, 'update');\n\n  fromShape.set('data', data);\n  fromShape.set('origin', origin);\n  fromShape.set('animateCfg', animateCfg);\n  fromShape.set('coordinate', coordinate);\n  fromShape.set('visible', toShape.get('visible'));\n\n  (fromShape.getChildren() || []).forEach((fromChild, idx) => {\n    const toChild = toShape.getChildByIndex(idx) as IShape;\n    if (!toChild) {\n      fromShape.removeChild(fromChild);\n      fromChild.remove(true);\n    } else {\n      fromChild.set('data', data);\n      fromChild.set('origin', origin);\n      fromChild.set('animateCfg', animateCfg);\n      fromChild.set('coordinate', coordinate);\n\n      const newAttrs = getReplaceAttrs(fromChild as IShape, toChild);\n      if (updateAnimateCfg) {\n        doAnimate(fromChild as IShape, updateAnimateCfg, {\n          toAttrs: newAttrs,\n          coordinate,\n        });\n      } else {\n        fromChild.attr(newAttrs);\n      }\n      if (toChild.isGroup()) {\n        updateLabel(fromChild as any, toChild as any, cfg);\n      }\n    }\n  });\n\n  // append\n  each(toShape.getChildren(), (child, idx) => {\n    if (idx >= fromShape.getCount()) {\n      if (!child.destroyed) {\n        fromShape.add(child);\n      }\n    }\n  });\n}\n","import { deepMix, each, get, isArray, isFunction, isNil, isNumber, isString, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label  Geometry  label \n */\nexport default class GeometryLabel {\n  /** geometry  */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /**  */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    //  label  xy  x, y\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public async render(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mappingArray);\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // \n    await labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry  Coordinate  Coordinate\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   *  label \n   */\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const geometry = this.geometry;\n    const { type, theme } = geometry;\n\n    if (\n      type === 'polygon' ||\n      (type === 'interval' && position === 'middle') ||\n      (offset < 0 && !['line', 'point', 'path'].includes(type))\n    ) {\n      // polygon  (interval  middle)  offset  0  \n      return get(theme, 'innerLabels', {});\n    }\n\n    return get(theme, 'labels', {});\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme } = geometry;\n    let themedLabelCfg;\n\n    if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n      // polygon  offset  0  \n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n    } else {\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n    }\n\n    return themedLabelCfg;\n  }\n\n  /**\n   *  label \n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * @desc  label offset\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   *  label  ()\n   * @param labelCfg\n   * @param index\n   * @param total\n   * @return {Point} offsetPoint\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number): Point {\n    const offset = labelCfg.offset;\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y transposed\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // 0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value: number | number[], idx: number, isAvg = false) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          if (isAvg) {\n            v = avg(v);\n          } else {\n            //  label y,  y\n            if (v.length <= 2) {\n              v = v[(value as number[]).length - 1];\n            } else {\n              v = avg(v);\n            }\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    const isFunnel = shape === 'funnel' || shape === 'pyramid';\n\n    // \n    if (this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else if (this.geometry.type === 'interval' && !isFunnel) {\n      // label X \n      label.x = getDimValue(mappingData.x, index, true);\n      label.y = getDimValue(mappingData.y, index);\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // \n    if (isFunnel) {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      //  label  position \n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffsetPoint(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * \n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = item.offset;\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   *  label  id\n   * @param mappingData label \n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // \n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      //  labels labels line id  x \n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path  x  y  x y  id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  //  labels \n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    //  geometry  label \n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const { labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // \n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        //  callback  cfg  callback \n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), //  ID \n        elementId: this.geometry.getElementId(mappingData), // label  Element  ID\n        data: origin, // \n        mappingData, // ,\n        coordinate, // \n        ...cfg,\n        ...callbackCfg,\n      };\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      const offset = this.getLabelOffset(labelCfg.offset || 0);\n      // defaultCfg  innerLabels & labels\n      const defaultLabelCfg = this.getDefaultLabelCfg(offset, labelCfg.position);\n      // labelCfg priority: defaultCfg < cfg < callbackCfg\n      labelCfg = deepMix({}, defaultLabelCfg, labelCfg);\n      //  offset\n      labelCfg.offset = this.getLabelOffset(labelCfg.offset || 0);\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        //  content\n        labelCfg.content = originText[0];\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset: number | string = 0) {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    }\n    //  x,y  x y\n    return coordinate.isTransposed ? coordinate.applyMatrix(actualOffset, 0) : coordinate.applyMatrix(0, actualOffset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    //  shape  shape.getBBox()  offscreenGroup \n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n","import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // \n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n","/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n","import { LegendMarkerCfg } from '@antv/component';\nimport { deepMix, isString, each, get, isFunction } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, ShapeAttrs, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendCfg, LegendItem, MarkerCfg } from '../interface';\nimport { getMappingValue } from './attr';\nimport { omit } from './helper';\nimport { MarkerSymbols } from './marker';\n\n/**  marker symbol */\nconst STROKES_SYMBOLS = ['line', 'cross', 'tick', 'plus', 'hyphen'];\n\n/**\n *  marker style\n * @param markerStyle\n * @param userMarker.style\n * @returns {ShapeAttrs} newStyle\n */\nfunction handleUserMarkerStyle(markerStyle: ShapeAttrs, style: MarkerCfg['style']): ShapeAttrs {\n  if (isFunction(style)) {\n    return style(markerStyle);\n  }\n  return deepMix({}, markerStyle, style);\n}\n\n/**\n *  marker  symbol, \n * @param symbol\n * @param style\n * @param color\n */\nfunction adpatorMarkerStyle(marker: LegendMarkerCfg, color: string): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && STROKES_SYMBOLS.indexOf(symbol) !== -1) {\n    const markerStyle = get(marker, 'style', {});\n    const lineWidth = get(markerStyle, 'lineWidth', 1);\n    const stroke = markerStyle.stroke || markerStyle.fill || color;\n    marker.style = deepMix({}, marker.style, { lineWidth, stroke, fill: null });\n  }\n}\n\n/**\n *  marker  symbol  symbol \n * @param marker\n */\nfunction setMarkerSymbol(marker: LegendMarkerCfg): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/** item of @antv/component legend  */\ntype ComponentLegendItem = Omit<LegendItem, 'marker'> & {\n  marker: any;\n};\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param markerCfg\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker: LegendCfg['marker']\n): ComponentLegendItem[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick, index: number) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      //  unchecked\n      let unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n      each(view.views, (subView) => {\n        if (!subView.filterFieldData(field, [{ [field]: value }]).length) {\n          unchecked = true;\n        }\n      });\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n\n      let markerCfg = userMarker;\n      if (isFunction(markerCfg)) {\n        markerCfg = markerCfg(name, index, { name, value, ...deepMix({}, themeMarker, marker) });\n      }\n\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, omit({ ...markerCfg }, ['style']));\n      adpatorMarkerStyle(marker, color);\n      if (markerCfg && markerCfg.style) {\n        // handle user's style settings\n        marker.style = handleUserMarkerStyle(marker.style, markerCfg.style);\n      }\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n *\n * @ignore\n * custom legend  items \n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  //  item marker \n  return customItems.map((item: LegendItem, index: number) => {\n    let markerCfg = userMarker;\n    if (isFunction(markerCfg)) {\n      markerCfg = markerCfg(item.name, index, deepMix({}, themeMarker, item));\n    }\n\n    const itemMarker = isFunction(item.marker)\n      ? item.marker(item.name, index, deepMix({}, themeMarker, item))\n      : item.marker;\n\n    const marker = deepMix({}, themeMarker, markerCfg, itemMarker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n\n/**\n * get the legend cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction legend direction\n * @returns legend theme cfg\n */\nexport function getLegendThemeCfg(theme: object, direction: string): object {\n  const legendTheme = get(theme, ['components', 'legend'], {});\n  return deepMix({}, get(legendTheme, ['common'], {}), deepMix({}, get(legendTheme, [direction], {})));\n}\n","import { isArray } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\nimport { getSplinePath } from './path';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    //  area  [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * y  null/undefined/NaN \n * \n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points \n * @param connectNulls \n * @param showSinglePoint \n * @returns \n */\nexport function getPathPoints(points: ShapeVertices, connectNulls: boolean = false, showSinglePoint: boolean = true) {\n  if (!points.length || (points.length === 1 && !showSinglePoint)) {\n    // \n    return [];\n  }\n\n  if (connectNulls) {\n    //  y \n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // \n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n\n/**\n *  path\n * @param points\n * @returns\n */\nexport function getViolinPath(points: ShapeVertices): PathCommand[] {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i] as Point;\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0] as Point;\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *   path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points: ShapeVertices): PathCommand[] {\n  const half = points.length / 2;\n  const leftPoints = [];\n  const rightPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  const leftPath = getSplinePath(leftPoints, false);\n  const rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  const path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}\n","import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n *  Shape \n * @param cfg\n * @param isStroke \n * @param isFill \n * @param [sizeName] lineWidth  r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        //  style()  stroke\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        //  style()  fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    //  style()  lineWidth  r \n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n *   \n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // copy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y  y  [19, 30] x \n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n","import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    //  13px 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns  Line  marker \n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n","import { each, isArray } from '@antv/util';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle, showSinglePoint } = cfg;\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n\n  const points = getPathPoints(cfg.points, connectNulls, showSinglePoint); //  connectNulls  points\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n  }\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n//  path\nfunction getSinglePath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length === 1) {\n    // \n    return [\n      ['M', points[0].x, points[0].y - style.lineWidth / 2],\n      ['L', points[0].x, points[0].y],\n      ['L', points[0].x, points[0].y + style.lineWidth / 2],\n    ];\n  }\n\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // \n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // \n    bottomPoints.push(result[0]); // \n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\n/**\n *  path\n */\nexport function getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length) {\n    const first = points[0];\n\n    return isArray(first.y)\n      ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint, style)\n      : getSinglePath(points as Point[], isInCircle, smooth, constraint, style);\n  }\n  return [];\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// \n// 'line' 'dot'  'dash'  - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n        capture: !smooth,\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n","/* G2  Geometry */\n\nexport const VERSION = '4.2.10';\n\n// \nexport { Chart, View, Event } from './chart'; // Chart, View \nexport { Controller as ComponentController } from './chart/controller/base'; // G2 \nexport { default as TooltipController } from './chart/controller/tooltip'; // G2 tooltip \nexport { default as Geometry } from './geometry/base'; // Geometry \nexport { default as Element } from './geometry/element'; // Element \nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label \nexport { Interaction, Action } from './interaction'; // Interaction, Action \nexport { Facet } from './facet'; // Facet \nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action \n\n//  ComponentController\nexport { registerComponentController } from './chart';\n\n//  Geometry\nexport { registerGeometry } from './chart';\n\n//  Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n\n//  Geometry label  Geometry Label \nexport {\n  registerGeometryLabel,\n  registerGeometryLabelLayout,\n  getGeometryLabel,\n  getGeometryLabelLayout,\n} from './geometry/label';\n\n//  interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n\n//  facet\nexport { getFacet, registerFacet } from './facet';\n\n// \nexport { getTheme, registerTheme } from './theme';\n\n// G engine \nexport { registerEngine, getEngine } from './engine';\n\n// \nexport { registerAnimation, getAnimation } from './animate/animation';\n\nexport { LAYER, DIRECTION } from './constant';\n\n//  typescript  export * as \nimport * as Types from './interface';\nexport type { Types };\n\nexport { IGroup, ShapeAttrs, Coordinate, Scale, ScaleConfig } from './dependents';\n\n// \nimport { getMappingValue } from './util/attr';\nimport { getLegendItems } from './util/legend';\nimport { getAngle, getSectorPath, polarToCartesian } from './util/graphics';\nimport { rotate, transform, translate, zoom } from './util/transform';\nimport { getTooltipItems } from './util/tooltip';\nimport { getDelegationObject } from './interaction/action/util';\nimport { getPathPoints } from './geometry/shape/util/get-path-points';\nimport { getPath } from './geometry/shape/line';\n\nexport const Util = {\n  getLegendItems,\n  translate,\n  rotate,\n  zoom,\n  transform,\n  getAngle,\n  getSectorPath,\n  polarToCartesian,\n  getDelegationObject,\n  getTooltipItems,\n  getMappingValue,\n  // shape \n  getPath,\n  getPathPoints,\n};\n","import { StyleSheetCfg } from '../../interface';\n\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createDarkStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: '#141414',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(255,255,255,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendSpacing: 16,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[65],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry label  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    overflowLabelFillColorDark: '#2c3542',\n    overflowLabelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    overflowLabelFontSize: 12,\n    /** Geometry label  */\n    overflowLabelLineHeight: 12,\n    /** Geometry label  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry label  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry label  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#fff',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: QUALITATIVE_10[0],\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: QUALITATIVE_10[0],\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvDark = createDarkStyleSheet();\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/**  ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\nimport { diff } from './util/diff';\n\n/** Path  */\nexport interface PathCfg extends GeometryCfg {\n  /**  */\n  connectNulls?: boolean;\n  /**  */\n  showSinglePoint?: boolean;\n}\n\n/**\n * Path \n * \n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /**  */\n  public connectNulls: boolean;\n  /**  */\n  public showSinglePoint: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false, showSinglePoint = true } = cfg;\n    this.connectNulls = connectNulls;\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   *  Element  PathLineArea Element\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    // Path  element \n    const keyData = new Map<string, MappingDatum[]>();\n    const keyIndex = new Map<string, number>();\n    const keys: string[] = [];\n\n    let index = 0;\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const key = this.getElementId(mappingData);\n      keys.push(key);\n      keyData.set(key, mappingData);\n      keyIndex.set(key, index);\n      index++;\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    for (const key of added) {\n      const mappingData = keyData.get(key);\n      const shapeFactory = this.getShapeFactory();\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const i = keyIndex.get(key);\n      const element = new Element({\n        shapeFactory,\n        container: this.container,\n        offscreenGroup: this.getOffscreenGroup(),\n        elementIndex: i,\n      });\n      element.geometry = this;\n      element.animate = this.animateOption;\n      element.draw(shapeCfg, isUpdate); //  shape\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of updated) {\n      const mappingData = keyData.get(key);\n      const element = this.lastElementsMap[key];\n      const i = keyIndex.get(key);\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const preShapeCfg = element.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(shapeCfg); //  element\n      }\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n    shapeCfg.showSinglePoint = this.showSinglePoint;\n\n    return shapeCfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  let path = [];\n\n  if (points.length) {\n    const topLinePoints = []; // area \n    let bottomLinePoints = []; // area \n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      topLinePoints.push(point[1]);\n      bottomLinePoints.push(point[0]);\n    }\n    bottomLinePoints = bottomLinePoints.reverse();\n\n    each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n      let subPath = [];\n      const parsedPoints = registeredShape.parsePoints(pointsData);\n      const p1 = parsedPoints[0];\n\n      if (topLinePoints.length === 1 && bottomLinePoints.length === 1) {\n        // \n        subPath =\n          index === 0\n            ? [\n                ['M', p1.x - 0.5, p1.y],\n                ['L', p1.x + 0.5, p1.y],\n              ]\n            : [\n                ['L', p1.x + 0.5, p1.y],\n                ['L', p1.x - 0.5, p1.y],\n              ];\n      } else {\n        if (isInCircle) {\n          parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n          subPath = getSplinePath(parsedPoints, false, constraint);\n        } else {\n          subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n          subPath[0][0] = 'L';\n        }\n      }\n\n      path = path.concat(subPath);\n    });\n\n    path.push(['Z']);\n  }\n\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points, showSinglePoint } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls, showSinglePoint); //  connectNulls \n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area \n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area  shape\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n        fillOpacity: 1,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area  */\nexport interface AreaCfg extends PathCfg {\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area \n * \n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /**  */\n  public readonly generatePoints: boolean = true;\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = false, showSinglePoint = false } = cfg;\n    this.startOnZero = startOnZero; //  true\n    this.sortable = sortable; //  X \n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   *  Y \n   * @returns y \n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n\nexport default EdgeShapeFactory;\n","import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge ****\n * 1. \n * 2. \n * 3. \n * 4. \n * 5. \n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n","import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo, AttributeOption, ColorAttrCallback } from '../interface';\nimport Geometry from './base';\n\n/**\n * \n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const range = this.prepareRange(mappingData);\n      const radius = this.prepareSize();\n\n      let blur = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur)) {\n        blur = radius / 2;\n      }\n\n      this.prepareGreyScaleBlurredCircle(radius, blur);\n      this.drawWithRange(mappingData, range, radius, blur);\n    }\n  }\n\n  /**  callback  */\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n\n    return this;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // \n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    const data = mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data,\n    };\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { isArray, isNil, get } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../../util/graphics';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @param pointInfo \n * @param [isPyramid] \n * @returns rect points \n */\nexport function getRectPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // \n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param isClosed path \n * @returns  path\n */\nexport function getRectPath(points: Point[], isClosed: boolean = true): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  //  shape=\"line\" path  lineCap \n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // \n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *  rect path  radius\n * @returns  path  arc \n */\nexport function parseRadius(radius: number | number[], minLength: number): number[] {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  //  \n  if (r1 + r2 > minLength) {\n    r1 = r1 ? minLength / (1 + r2 / r1) : 0;\n    r2 = minLength - r1;\n  }\n\n  if (r3 + r4 > minLength) {\n    r3 = r3 ? minLength / (1 + r4 / r3) : 0;\n    r4 = minLength - r3;\n  }\n\n  return [r1 || 0, r2 || 0, r3 || 0, r4 || 0];\n}\n\n/**\n *  interval  path\n * @param cfg \n * @param points  4 \n * @param coordinate \n * @returns  path\n */\nexport function getBackgroundRectPath(cfg: ShapeInfo, points: Point[], coordinate: Coordinate): PathCommand[] {\n  let path = [];\n  if (coordinate.isRect) {\n    const p0 = coordinate.isTransposed\n      ? { x: coordinate.start.x, y: points[0].y }\n      : { x: points[0].x, y: coordinate.start.y };\n    const p1 = coordinate.isTransposed\n      ? { x: coordinate.end.x, y: points[2].y }\n      : { x: points[3].x, y: coordinate.end.y };\n\n    // corner radius of background shape works only in \n    const radius = get(cfg, ['background', 'style', 'radius']);\n    if (radius) {\n      const width = coordinate.isTransposed ? Math.abs(points[0].y - points[2].y) : points[2].x - points[1].x;\n      const height = coordinate.isTransposed ? coordinate.getWidth() : coordinate.getHeight();\n      const [r1, r2, r3, r4] = parseRadius(radius, Math.min(width, height));\n\n      //    y \n      const isReflectYTransposed = (coordinate.isTransposed && coordinate.isReflect('y'));\n      const bump = isReflectYTransposed ? 0 : 1;\n      const opposite = (r: number) => isReflectYTransposed ? -r : r;\n\n      path.push(['M', p0.x, p1.y + opposite(r1)]);\n      r1 !== 0 && path.push(['A', r1, r1, 0, 0, bump, p0.x + r1, p1.y]);\n      path.push(['L', p1.x - r2, p1.y]);\n      r2 !== 0 && path.push(['A', r2, r2, 0, 0, bump, p1.x, p1.y + opposite(r2)]);\n      path.push(['L', p1.x, p0.y - opposite(r3)]);\n      r3 !== 0 && path.push(['A', r3, r3, 0, 0, bump, p1.x - r3, p0.y]);\n      path.push(['L', p0.x + r4, p0.y]);\n      r4 !== 0 && path.push(['A', r4, r4, 0, 0, bump, p0.x, p0.y - opposite(r4)]);\n    } else {\n      path.push(['M', p0.x, p0.y]);\n      path.push(['L', p1.x, p0.y]);\n      path.push(['L', p1.x, p1.y]);\n      path.push(['L', p0.x, p1.y]);\n      path.push(['L', p0.x, p0.y]);\n    }\n\n    path.push(['z']);\n  }\n\n  if (coordinate.isPolar) {\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = getAngle(cfg, coordinate);\n    if (coordinate.type !== 'theta' && !coordinate.isTransposed) {\n      //  path\n      path = getSectorPath(center.x, center.y, coordinate.getRadius(), startAngle, endAngle);\n    } else {\n      const pow = (v) => Math.pow(v, 2);\n      const r1 = Math.sqrt(pow(center.x - points[0].x) + pow(center.y - points[0].y));\n      const r2 = Math.sqrt(pow(center.x - points[2].x) + pow(center.y - points[2].y));\n      //  path coordinate \n      path = getSectorPath(center.x, center.y, r1, coordinate.startAngle, coordinate.endAngle, r2);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param lineCap 'round'\n * @param coor \n * @returns  path\n */\nexport function getIntervalRectPath(points: Point[], lineCap: CanvasLineCap, coor: Coordinate): PathCommand[] {\n  const width = coor.getWidth();\n  const height = coor.getHeight();\n  const isRect = coor.type === 'rect';\n  let path = [];\n  const r = (points[2].x - points[1].x) / 2;\n  const ry = coor.isTransposed ? (r * height) / width : (r * width) / height;\n  if (lineCap === 'round') {\n    if (isRect) {\n      path.push(['M', points[0].x, points[0].y + ry]);\n      path.push(['L', points[1].x, points[1].y - ry]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y - ry]);\n      path.push(['L', points[3].x, points[3].y + ry]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y + ry]);\n    } else {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['L', points[1].x, points[1].y]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y]);\n      path.push(['L', points[3].x, points[3].y]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y]);\n    }\n    path.push(['z']);\n  } else {\n    path = getRectPath(points);\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  funnel  path\n * @param points \n * @param nextPoints \n * @param isPyramid \n * @returns  path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', (points[2].x + points[3].x) / 2, (points[2].y + points[3].y) / 2],\n      ['Z']\n    );\n  } else {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n\n/**\n * \n */\nfunction swap<T>(p0: T, p1: T) {\n  return [p1, p0];\n}\n\n/**\n *   \n * - \n */\nexport function getRectWithCornerRadius(points: Point[], coordinate: Coordinate, radius?: number | number[]) {\n  //  \n  let [p0, p1, p2, p3] = [...points];\n  let [r1, r2, r3, r4] = typeof radius === 'number' ? Array(4).fill(radius) : radius;\n\n  if (coordinate.isTransposed) {\n    [p1, p3] = swap(p1, p3);\n  }\n\n  /**\n   * \n   */\n  if (coordinate.isReflect('y')) {\n    [p0, p1] = swap(p0, p1);\n    [p2, p3] = swap(p2, p3);\n  }\n  if (coordinate.isReflect('x')) {\n    [p0, p3] = swap(p0, p3);\n    [p1, p2] = swap(p1, p2);\n  }\n\n  const path = [];\n\n\n  /**\n   *  p1  p2\n   *      \n   *  p0  p3\n   *\n   *  \n   *\n   *  p0  p3               p2  p1\n   *                           \n   *  p1  p2  --> ()  p3  p0\n   */\n  const abs = v => Math.abs(v);\n  [r1, r2, r3, r4] = parseRadius([r1, r2, r3, r4], Math.min(abs(p3.x - p0.x), abs(p1.y - p0.y))).map(d => abs(d));\n\n  if (coordinate.isTransposed) {\n    [r1, r2, r3, r4] = [r4, r1, r2, r3]\n  }\n\n  if (p0.y < p1.y /**  */) {\n    path.push(['M', p3.x, p3.y + r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y + r4]);\n    path.push(['L', p1.x, p1.y - r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0/**  */, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y - r2]);\n    path.push(['L', p3.x, p3.y + r3]);\n    path.push(['z']);\n  } else if (p3.x < p0.x) {\n    path.push(['M', p2.x + r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x + r3, p3.y]);\n    path.push(['L', p0.x - r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0, p1.x - r1, p1.y]);\n    path.push(['L', p2.x + r2, p2.y]);\n    path.push(['z']);\n  } else {\n    path.push(['M', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    path.push(['z']);\n  }\n\n  return path;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getIntervalRectPath, getRectPoints, getRectWithCornerRadius } from './util';\n\n/** Interval  shape  */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval  shape */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    let group = container;\n\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup({\n        name: 'interval-group',\n      });\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        capture: false,\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    let path;\n    if (style.radius && this.coordinate.isRect) {\n      path = getRectWithCornerRadius(this.parsePoints(cfg.points), this.coordinate, style.radius);\n    } else {\n      path = this.parsePath(getIntervalRectPath(cfg.points as Point[], style.lineCap, this.coordinate));\n    }\n\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n","import { flatten, isString, valuesOfKey, isNil } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// \nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    //  values \n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  // \n  const { intervalPadding, dodgePadding } = geometry;\n  // theme\n  const maxColumnWidth = geometry.maxColumnWidth || theme.maxColumnWidth;\n  const minColumnWidth = geometry.minColumnWidth || theme.minColumnWidth;\n  const columnWidthRatio = geometry.columnWidthRatio || theme.columnWidthRatio;\n  const multiplePieWidthRatio = geometry.multiplePieWidthRatio || theme.multiplePieWidthRatio;\n  const roseWidthRatio = geometry.roseWidthRatio || theme.roseWidthRatio;\n\n  // count\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear  min, max  count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    // \n    if (coordinate.isTransposed && count > 1) {\n      // \n      wr = multiplePieWidthRatio;\n    } else {\n      wr = roseWidthRatio;\n    }\n  } else {\n    // \n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = columnWidthRatio;\n  }\n\n  // \n  if (!isNil(intervalPadding) && intervalPadding >= 0) {\n    // \n    const normalizedIntervalPadding = intervalPadding / xDimensionLength;\n    normalizedSize = (1 - (count - 1) * normalizedIntervalPadding) / count;\n  } else {\n    // \n    normalizedSize *= wr;\n  }\n  // \n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n    if (!isNil(dodgePadding) && dodgePadding >= 0) {\n      // \n      const normalizedDodgePadding = dodgePadding / xDimensionLength;\n      normalizedSize = (normalizedSize - normalizedDodgePadding * (dodgeCount - 1)) / dodgeCount;\n    } else if (!isNil(intervalPadding) && intervalPadding >= 0) {\n      // wr\n      normalizedSize *= wr;\n      normalizedSize = normalizedSize / dodgeCount;\n    } else {\n      // \n      normalizedSize = normalizedSize / dodgeCount;\n    }\n    normalizedSize = normalizedSize >= 0 ? normalizedSize : 0;\n  }\n\n  // \n  if (!isNil(maxColumnWidth) && maxColumnWidth >= 0) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  // \bminColumnWidth0\n  if (!isNil(minColumnWidth) && minColumnWidth >= 0) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n","import { get } from '@antv/util';\nimport { Datum, MappingDatum, ShapeInfo, LooseObject } from '../interface';\nimport { ShapeAttrs } from '../dependents';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry, { GeometryCfg } from './base';\n/**  ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\nimport { getMaxScale } from '../util/scale';\n\n/** Path  */\nexport interface IntervalCfg extends GeometryCfg {\n  /** shape  Interval Geometry  interval-rect shape  */\n  background?: { style?: ShapeAttrs };\n}\n\n/**\n * Interval \n * \n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  /** shape  interval-rect shape  */\n  protected background?: { style?: ShapeAttrs };\n  protected generatePoints: boolean = true;\n\n  constructor(cfg: IntervalCfg) {\n    super(cfg);\n\n    const { background } = cfg;\n    this.background = background;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   *  y  scale \n   *  Y  0  \n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // \n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        //  stack yScale  max this.updateStackRange()\n        max: getMaxScale(yScale),\n      });\n    } else {\n      //  0 \n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time \n        //  Y  0 \n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        //  0 \n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  protected getDrawCfg(mappingData: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingData);\n    shapeCfg.background = this.background;\n\n    return shapeCfg;\n  }\n}\n","import Path, { PathCfg } from './path';\n/**  Path  ShapeFactory */\nimport './shape/line';\n\n/**\n * Line \n * \n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = false } = cfg; //  X \n    this.sortable = sortable;\n  }\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(\n  shape,\n  cfg: ShapeInfo,\n  container: IGroup,\n  shapeName: string,\n  isStroke: boolean\n): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  //  shape  hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n","import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/**  Point  ShapeFactory */\nimport './shape/point';\n\n/**\n * Point \n * \n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // \n    };\n  }\n}\n","import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n","import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon \n * \n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y \n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // x,y\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x \n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y \n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n","import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n","import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/**  ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema \n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n","import { each, max, map, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ViolinShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\nfunction normalizeSize(arr: number[]) {\n  if (!isArray(arr)) {\n    return [];\n  }\n  const maxValue = max(arr);\n  return map(arr, (num) => num / maxValue);\n}\n\nconst ViolinShapeFactory = registerShapeFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints(pointInfo: ViolinShapePoint) {\n    const radius = pointInfo.size / 2;\n    const points = [];\n    const sizeArr = normalizeSize(pointInfo._size);\n\n    each(pointInfo.y as number[], (y, index) => {\n      const offset = sizeArr[index] * radius;\n      const isMin = index === 0;\n      const isMax = index === (pointInfo.y as number[]).length - 1;\n      points.push({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) - offset,\n        y,\n      });\n      points.unshift({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) + offset,\n        y,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('violin', 'violin', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const shapeAttrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...shapeAttrs,\n        path,\n      },\n      name: 'violin',\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default ViolinShapeFactory;\n","import { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Datum, ViolinShapePoint } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport { getDefaultSize } from './util/shape-size';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/violin';\n\n/**\n * Violin \n * \n */\nexport default class Violin extends Geometry<ViolinShapePoint> {\n  public readonly type: string = 'violin';\n  public readonly shapeType: string = 'violin';\n  protected generatePoints: boolean = true;\n  /** size  */\n  private _sizeField: string;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: Datum) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n    cfg._size = get(record[FIELD_ORIGIN], [this._sizeField]);\n    return cfg;\n  }\n\n  /**\n   * @override\n   */\n  protected initAttributes() {\n    const { attributeOption } = this;\n    const sizeField = attributeOption.size\n      ? attributeOption.size.fields[0]\n      : this._sizeField\n      ? this._sizeField\n      : 'size';\n    this._sizeField = sizeField;\n    // fixme \n    delete attributeOption.size;\n    super.initAttributes();\n  }\n}\n","import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  return ['C', (from.x * 1) / 2 + (to.x * 1) / 2, from.y, (from.x * 1) / 2 + (to.x * 1) / 2, to.y, to.x, to.y];\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y,\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, (point) => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n        fillOpacity: 1,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**  */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// \nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs(points[1].x - points[0].x) / 2,\n          Math.PI,\n          Math.PI * 2\n        );\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [['M', from.x, from.y]];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [['M', from.x, from.y]];\n  each(points, (point) => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getRectPath } from './util';\n\n/**  */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    let group = container;\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        capture: false,\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\nimport { omit } from '../../../util/helper';\n\n//  Line \nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  //  y0 \n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const newStyle = omit({ ...style }, ['fill']);\n    const path = this.parsePath(getRectPath(cfg.points as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...newStyle,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n//  tick shape  6 \nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick \n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n//  tick  path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I  error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// pathnull\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// \nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); //  connectNulls  points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n","import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // \n  const max = array[array.length - 1]; // \n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // \n    max, // \n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // \n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], //  z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // \n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n","import { isEmpty, clamp } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getRectAttrs(points: any[], size: number) {\n  const width = Math.abs(points[0].x - points[2].x);\n  const height = Math.abs(points[0].y - points[2].y);\n\n  let len = Math.min(width, height);\n  if (size) {\n    len = clamp(size, 0, Math.min(width, height));\n  }\n  len = len / 2;\n  const centerX = (points[0].x + points[2].x) / 2;\n  const centerY = (points[0].y + points[2].y) / 2;\n\n  return {\n    x: centerX - len,\n    y: centerY - len,\n    width: len * 2,\n    height: len * 2,\n  };\n}\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const points = this.parsePoints(cfg.points); // \n      return container.addShape('rect', {\n        attrs: {\n          ...shapeAttrs,\n          ...getRectAttrs(points, cfg.size), //  rect \n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n//  hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n//  SHAPES \neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        stroke: null,\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup, Point } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath, getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'hollow', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n\n/**\n * \n */\nregisterShape('violin', 'hollow-smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { get, deepMix, isArray } from '@antv/util';\nimport { Writeable } from '../../util/types';\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\n/**\n *  label\n */\nexport default class IntervalLabel extends GeometryLabel {\n  /**\n   *  interval label  value \n   * @param labelCfg\n   */\n  private getLabelValueDir(mappingData: MappingDatum) {\n    // points  x/y  transpose \n    const dim = 'y';\n    const { points } = mappingData;\n\n    return points[0][dim] <= points[2][dim] ? 1 : -1;\n  }\n\n  /**\n   *  interval  label \n   * @param labelCfg\n   * @param index\n   * @param total\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number, position?: string) {\n    let point = super.getLabelOffsetPoint(labelCfg, index, total);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const dir = this.getLabelValueDir(labelCfg.mappingData);\n    point = { ...point, [dim]: point[dim] * dir };\n\n    if (coordinate.isReflect('x')) {\n      point = {\n        ...point,\n        x: point.x * -1,\n      };\n    }\n    if (coordinate.isReflect('y')) {\n      point = {\n        ...point,\n        y: point.y * -1,\n      };\n    }\n\n    return point;\n  }\n\n  /**\n   *  interval label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { theme } = geometry;\n\n    //  interval label position  middle offset  0\n    return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n  }\n\n  protected setLabelPosition(\n    labelPointCfg: Writeable<LabelPointCfg>,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point2 = coordinate.convert(shapePoints[2]);\n    const dir = this.getLabelValueDir(mappingData);\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      // \n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const p0 = coordinate.convert(points[0] as Point);\n        const p1 = coordinate.convert(points[1] as Point);\n        const nextP0 = coordinate.convert(nextPoints[0] as Point);\n        const nextP1 = coordinate.convert(nextPoints[1] as Point);\n\n        // TODO: \n        if (transposed) {\n          top = Math.min(nextP0.y, p0.y);\n          bottom = Math.max(nextP0.y, p0.y);\n          right = (p1.x + nextP1.x) / 2;\n          left = (p0.x + nextP0.x) / 2;\n        } else {\n          top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          right = nextP1.x;\n          left = p0.x;\n        }\n      } else {\n        top = Math.min(point2.y, point0.y);\n        bottom = Math.max(point2.y, point0.y);\n        right = point2.x;\n        left = point0.x;\n      }\n    } else {\n      top = Math.min(point2.y, point0.y);\n      bottom = Math.max(point2.y, point0.y);\n      right = point2.x;\n      left = point0.x;\n    }\n\n    switch (position) {\n      case 'right':\n        labelPointCfg.x = right;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'left':\n        labelPointCfg.x = left;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = bottom;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = top;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { each, get, isArray, map, isNumber, isString } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, PolarLabelItem, LabelPointCfg, Writeable } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n *  label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * @desc  label offset\n   * polar & theta coordinate supportstringtype, should transform to number\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    } else if (isString(offset) && offset.indexOf('%') !== -1) {\n      let r = coordinate.getRadius();\n      if (coordinate.innerRadius > 0) {\n        r = r * (1 - coordinate.innerRadius);\n      }\n      actualOffset = parseFloat(offset) * 0.01 * r;\n    }\n\n    return actualOffset;\n  }\n\n  /**\n   * @override\n   *  labelItems,  percent\n   * @param mapppingArray\n   */\n  public getLabelItems(mapppingArray: MappingDatum[]): PolarLabelItem[] {\n    const items = super.getLabelItems(mapppingArray);\n    const yScale = this.geometry.getYScale();\n\n    return map(items, (item) => {\n      if (item && yScale) {\n        const percent = yScale.scale(get(item.data, yScale.field));\n        return { ...item, percent };\n      }\n      return item;\n    });\n  }\n  /**\n   * @override\n   * \n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = point.offset;\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = labelCfg.offset * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: Writeable<LabelPointCfg> = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // \n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * \n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * \n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * \n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   *  label \n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // \n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // \n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n","import { deepMix, get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n *  label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const cfg = super.getDefaultLabelCfg(offset, position);\n    return deepMix({}, cfg, get(this.geometry.theme, 'pieLabels', {}));\n  }\n\n  /** @override */\n  protected getLabelOffset(offset: string | number): number {\n    return super.getLabelOffset(offset) || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    if (point.offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  /** @override */\n  protected getCirclePoint(angle: number, offset: number) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n","import { PolarLabelItem } from '../../interface';\n\n/**\n * \n */\nexport function antiCollision(\n  items: PolarLabelItem[],\n  labelHeight: number,\n  plotRange: { minY: number; maxY: number; minX: number; maxX: number }\n) {\n  const labels = items.filter((item) => !item.invisible);\n\n  // sorted by y, mutable\n  labels.sort((a, b) => a.y - b.y);\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const startY = plotRange.minY;\n  const endY = plotRange.maxY;\n  let totalHeight = Math.abs(startY - endY);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      content: label.content,\n      size: labelHeight,\n      targets: [label.y - startY],\n      pos: null,\n    };\n  });\n\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      box.pos = Math.max(0, box.pos);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + labelHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += labelHeight;\n      i++;\n    });\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy \n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   4   7\n *        |    2   |   3   |\n *        \n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label  label   label  label **** label\n * @param labels  label \n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n","import { isNumber } from '@antv/util';\nimport { Point } from '../dependents';\n\ntype Vec2 = [number, number];\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n/**\n * \n */\ntype Projection = { min: number; max: number };\n\nfunction dot(a, b) {\n  return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n}\n\n/**\n * @private\n * 1. \n */\nfunction getAxes(points: Point[] /**  */): Vec2[] {\n  //   , \n  if (points.length > 4) {\n    return [];\n  }\n  // \n  const vector = (start: Point, end: Point): Vec2 => {\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  //   2 : A -> B, B -> C\n  const AB = vector(points[0], points[1]);\n  const BC = vector(points[1], points[2]);\n\n  return [AB, BC];\n}\n\n/**\n * @private\n * \n * \n */\nfunction rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n  const { x, y } = point;\n  return {\n    x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n    y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n  };\n}\n\n/**\n * @private\n * \n *\n * @param {Object} box\n */\nfunction getRectPoints(box: Item): Point[] {\n  const points = [\n    { x: box.x, y: box.y },\n    { x: box.x + box.width, y: box.y },\n    { x: box.x + box.width, y: box.y + box.height },\n    { x: box.x, y: box.y + box.height },\n  ];\n\n  const rotation = box.rotation;\n  if (rotation) {\n    return [\n      rotateAtPoint(points[0], rotation, points[0]),\n      rotateAtPoint(points[1], rotation, points[0]),\n      rotateAtPoint(points[2], rotation, points[0]),\n      rotateAtPoint(points[3], rotation, points[0]),\n    ];\n  }\n\n  return points;\n}\n\n/**\n * @private\n * 2. \n *\n * \n * 1 x1 * x2 + y1 * y2\n */\nfunction getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n  // \n  if (points.length > 4) {\n    return { min: 0, max: 0 };\n  }\n\n  const scalars = [];\n  points.forEach((point) => {\n    scalars.push(dot([point.x, point.y], axis));\n  });\n\n  return { min: Math.min(...scalars), max: Math.max(...scalars) };\n}\n\nfunction isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n  return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n\nfunction isValidNumber(d: number) {\n  return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n}\n\nfunction isValidBox(box: Item) {\n  return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n}\n\n/**\n * \n */\nexport function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n  return !(\n    box2.x > box1.x + box1.width + margin ||\n    box2.x + box2.width < box1.x - margin ||\n    box2.y > box1.y + box1.height + margin ||\n    box2.y + box2.height < box1.y - margin\n  );\n}\n\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * , \n *\n * - : \n */\nexport function intersect(box1: Item, box2: Item, margin: number = 0) {\n  //  box  box\n  if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n  // \n  if (!box1.rotation && !box2.rotation) {\n    return isIntersectRect(box1, box2, margin);\n  }\n\n  //  4 \n  const rect1Points = getRectPoints(box1);\n  const rect2Points = getRectPoints(box2);\n\n  // \n  const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const projection1 = getProjection(rect1Points, axis);\n    const projection2 = getProjection(rect2Points, axis);\n\n    // \n    if (!isProjectionOverlap(projection1, projection2)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import { isFunction } from '@antv/util';\n\nclass MyWorker {\n  queue: any[] = [];\n  worker: Worker;\n\n  constructor(url) {\n    this.worker = new Worker(url);\n    this.worker.onmessage = (e: MessageEvent) => {\n      this.queue.shift()?.resolve(e);\n    };\n    this.worker.onmessageerror = (e: MessageEvent) => {\n      console.warn('[AntV G2] Web worker is not available');\n      this.queue.shift()?.reject(e);\n    };\n  }\n\n  post(params, onError?: () => any): Promise<MessageEvent> {\n    return new Promise((resolve, reject) => {\n      this.queue.push({ resolve, reject });\n      try {\n        this.worker.postMessage(params);\n      } catch (e) {\n        console.warn('[AntV G2] Web worker is not available');\n        isFunction(onError) && onError();\n      }\n    });\n  }\n\n  destroy() {\n    this.worker.terminate();\n  }\n}\n\nexport function createWorker(f: any) {\n  if (typeof window === 'undefined') return;\n\n  let blob;\n  try {\n    blob = new Blob([f.toString()], { type: 'application/javascript' });\n  } catch (e) {\n    // @ts-ignore\n    blob = new window.BlobBuilder();\n    blob.append(f.toString());\n    blob = blob.getBlob();\n  }\n\n  return new MyWorker(URL.createObjectURL(blob));\n}\n","const onmessage = function (e) {\n  type Item = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    rotation?: number;\n    visible?: boolean;\n  };\n\n  // Copy from src/util/collision-detect.ts\n  function generateUtils() {\n    type Vec2 = [number, number];\n\n    type Point = { x: number; y: number };\n\n    /**\n     * \n     */\n    type Projection = { min: number; max: number };\n\n    function dot(a, b) {\n      return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n    }\n    /**\n     * 1. \n     */\n    function getAxes(points: Point[] /**  */): Vec2[] {\n      //   , \n      if (points.length > 4) {\n        return [];\n      }\n      // \n      const vector = (start: Point, end: Point): Vec2 => {\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      //   2 : A -> B, B -> C\n      const AB = vector(points[0], points[1]);\n      const BC = vector(points[1], points[2]);\n\n      return [AB, BC];\n    }\n\n    /**\n     * \n     * \n     */\n    function rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n      const { x, y } = point;\n      return {\n        x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n        y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n      };\n    }\n\n    /**\n     * @private\n     * \n     *\n     * @param {Object} box\n     */\n    function getRectPoints(box: Item): Point[] {\n      const points = [\n        { x: box.x, y: box.y },\n        { x: box.x + box.width, y: box.y },\n        { x: box.x + box.width, y: box.y + box.height },\n        { x: box.x, y: box.y + box.height },\n      ];\n\n      const rotation = box.rotation;\n      if (rotation) {\n        return [\n          rotateAtPoint(points[0], rotation, points[0]),\n          rotateAtPoint(points[1], rotation, points[0]),\n          rotateAtPoint(points[2], rotation, points[0]),\n          rotateAtPoint(points[3], rotation, points[0]),\n        ];\n      }\n\n      return points;\n    }\n\n    /**\n     * 2. \n     *\n     * \n     * 1 x1 * x2 + y1 * y2\n     */\n    function getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n      // \n      if (points.length > 4) {\n        return { min: 0, max: 0 };\n      }\n\n      const scalars = [];\n      points.forEach((point) => {\n        scalars.push(dot([point.x, point.y], axis));\n      });\n\n      return { min: Math.min.apply(null, scalars), max: Math.max.apply(null, scalars) };\n    }\n\n    function isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n      return projection1.max > projection2.min && projection1.min < projection2.max;\n    }\n\n    function isValidNumber(d: number) {\n      return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n    }\n\n    function isValidBox(box: Item) {\n      return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n    }\n\n    function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n      return !(\n        box2.x > box1.x + box1.width + margin ||\n        box2.x + box2.width < box1.x - margin ||\n        box2.y > box1.y + box1.height + margin ||\n        box2.y + box2.height < box1.y - margin\n      );\n    }\n    function intersect(box1: Item, box2: Item, margin: number = 0) {\n      if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n      // Quick detect, if rotation is null or zero.\n      if (!box1.rotation && !box2.rotation) {\n        return isIntersectRect(box1, box2, margin);\n      }\n\n      //  4 \n      const rect1Points = getRectPoints(box1);\n      const rect2Points = getRectPoints(box2);\n\n      // \n      const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n      for (let i = 0; i < axes.length; i++) {\n        const axis = axes[i];\n        const projection1 = getProjection(rect1Points, axis);\n        const projection2 = getProjection(rect2Points, axis);\n\n        if (!isProjectionOverlap(projection1, projection2)) return false;\n      }\n\n      return true;\n    }\n    return { intersect }\n  }\n  const { intersect } = generateUtils();\n\n  // Label layouts.\n  function hideOverlap(items: Item[]) {\n    const boxes = items.slice();\n    for (let i = 0; i < boxes.length; i++) {\n      const box1 = boxes[i];\n      if (box1.visible) {\n        for (let j = i + 1; j < boxes.length; j++) {\n          const box2 = boxes[j];\n          if (box1 !== box2 && box2.visible) {\n            if (intersect(box1, box2)) {\n              box2.visible = false;\n            }\n          }\n        }\n      }\n    }\n    return boxes;\n  }\n\n  const methods = {\n    'hide-overlap': hideOverlap,\n  }\n\n  // Main\n  try {\n    const eventData = JSON.parse(e.data);\n    if (!eventData || !eventData.type || !methods[eventData.type]) return;\n\n    const { type, items } = eventData;\n    const result = methods[type](items);\n    self.postMessage(result);\n  } catch (e) {\n    throw e;\n  }\n}\n\nconst code = `\n   self.onmessage = ${onmessage.toString()}\n`\nexport { code };\n","import { get, each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { intersect } from '../../../util/collision-detect';\nimport { LabelItem } from '../interface';\nimport { getLabelBackgroundInfo } from '../util';\nimport { createWorker } from '../util/createWorker';\nimport { code as layoutCode } from './worker/hide-overlap';\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n\nconst layout = (items: Item[]): Item[] => {\n  const boxes = items.slice();\n  for (let i = 0; i < boxes.length; i++) {\n    const box1 = boxes[i];\n    if (box1.visible) {\n      for (let j = i + 1; j < boxes.length; j++) {\n        const box2 = boxes[j];\n        if (box1 !== box2 && box2.visible) {\n          if (intersect(box1, box2)) {\n            box2.visible = false;\n          }\n        }\n      }\n    }\n  }\n  return boxes;\n};\n\nconst cache: Map<string, any> = new Map();\nconst worker = createWorker(layoutCode);\n\n/**\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport async function hideOverlap(\n  labelItems: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const boxes = labels.map((d, idx) => ({\n    ...getLabelBackgroundInfo(d, labelItems[idx], get(labelItems[idx], 'background.padding')),\n    visible: true,\n  }));\n  const memoKey = JSON.stringify(boxes);\n  const cb = (items: Item[]) => {\n    cache.set(memoKey, items);\n    each(items, ({ visible }, idx) => {\n      const labelShape = labels[idx];\n      if (visible) {\n        labelShape?.show();\n      } else {\n        labelShape?.hide();\n      }\n    });\n    return items;\n  };\n  if (cache.get(memoKey)) {\n    cb(cache.get(memoKey));\n  } else if (worker) {\n    // Do layout in worker.\n    try {\n      const params = JSON.stringify({ type: 'hide-overlap', items: boxes });\n      const res = await worker.post(params, () => cb(layout(boxes)));\n      cb(Array.isArray(res.data) ? res.data : []);\n    } catch (e) {\n      console.error(e);\n      cb(layout(boxes));\n    }\n  } else {\n    // Normal layout in main thread.\n    cb(layout(boxes));\n  }\n}\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { IElement, IGroup, IShape } from '../../../../dependents';\nimport { BBox } from '../../../../util/bbox';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\nfunction shouldInShapeSingle(geometry: Geometry, label: IGroup, shape: IElement): boolean {\n  const coordinate = geometry.coordinate;\n  const textShape = findLabelTextShape(label);\n  const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n\n  return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\n\nfunction shouldInShape(geometry: Geometry, labels: IGroup[], shapes: IShape[] | IGroup[]): boolean {\n  const isStack = !!geometry.getAdjust('stack');\n\n  return (\n    isStack ||\n    labels.every((label: IGroup, index: number) => {\n      const shape = shapes[index];\n      return shouldInShapeSingle(geometry, label, shape);\n    })\n  );\n}\n\nfunction moveInShape(geometry: Geometry, label: IGroup, shape: IElement): void {\n  const coordinate = geometry.coordinate;\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n  const textShape = findLabelTextShape(label);\n\n  if (coordinate.isTransposed) {\n    // \n    textShape.attr({\n      x: shapeBBox.minX + shapeBBox.width / 2,\n      textAlign: 'center',\n    });\n  } else {\n    // \n    textShape.attr({\n      y: shapeBBox.minY + shapeBBox.height / 2,\n      textBaseline: 'middle',\n    });\n  }\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const inShape = shouldInShape(geometry, labels, shapes);\n  if (inShape) {\n    shapes.forEach((shape: IShape | IGroup, index: number) => {\n      const label = labels[index];\n      moveInShape(geometry, label, shape);\n    });\n  }\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'point') {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pathAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || ['path', 'line', 'area'].indexOf(geometry.type) < 0) {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param vector \n * @param direct \n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * \n * @param element \n * @param animateCfg \n * @param coordinate \n * @param yMinPoint y \n * @param type \n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n","import { getArcParams } from '@antv/g-canvas';\nimport { isNumberEqual, isEqual, isFunction } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    //  startAngle  endAngle  G2 \n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  //  startAngle, endAngle  endAngle = Math.PI * 1.5 \n  if (isNumberEqual(endAngle, Math.PI * -0.5) && !isNumberEqual(startAngle, endAngle)) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A' || path[0] === 'C') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path \n * 1.  path M, L, A, L, Z\n * 2.  path M, M, A, A, M, Z\n * 3.  path M, A, L, A, L, Z\n * 4.  path M, A, A, M, A, A, M, Z\n * 5. radial-line,  path,  M, A, A, Z\n * 6. radial-line,  path M, A, A, A, A, Z\n * @param path theta  path \n */\nexport function getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  if (arcPaths.length === 0) {\n    return {\n      startAngle: 0,\n      endAngle: 0,\n      radius: 0,\n      innerRadius: 0,\n    };\n  }\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  const path = (toAttrs as { path: PathCommand[] }).path || [];\n  const pathCommands = path.map((command) => command[0]);\n\n  if (path.length < 1) return;\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n  //  diff  attrs\n  if (diffStartAngle === 0 && diffEndAngle === 0) {\n    shape.attr('path', path);\n    return;\n  }\n\n  shape.animate(\n    (ratio) => {\n      const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n      const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n      return {\n        ...toAttrs,\n        path:\n          // hack,  /examples/bar/basic/demo/radial-line.ts \n          isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n            ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n            : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n      };\n    },\n    {\n      ...animateCfg,\n      callback: () => {\n        //  path  setState() \n        shape.attr('path', path);\n        isFunction(animateCfg.callback) && animateCfg.callback();\n      },\n    }\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { each, isFunction } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // \n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n            isFunction(animateCfg.callback) && animateCfg.callback();\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n","import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n *  facet title \n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      },\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // \n      },\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n *   \n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   *  region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // \n    // \n    const center = { x: 0.5, y: 0.5 };\n    // \n    const avgAngle = (Math.PI * 2) / count;\n\n    // \n    const angle = (-1 * Math.PI) / 2 + avgAngle * index;\n    // TODO \n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // \n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = (Math.PI * 5) / 4; // \n    const endAngle = (Math.PI * 1) / 4; // \n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle),\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {}\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // \n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {}\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // \n\n    // \n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      //  index \n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [{ field: columnField, value: val, values: colValues }];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    //  view \n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * \n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * \n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n","import { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {}\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // \n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // \n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // \n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // \n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // \n    //  view \n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      if (this.cfg.transpose) {\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // \n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {}\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd',\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach((facet) => {\n      // @ts-ignore \n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x\n    const yWidth = 1 / rows; // y\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex,\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + (yWidth * 2) / 3, // 1/3\n    };\n    return {\n      start,\n      end,\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach((facet) => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore \n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach((facet) => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach((facet) => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [{ field, value, values } as Condition];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr),\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach((facet) => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height,\n    };\n\n    children.forEach((subFacet) => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y,\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2,\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y,\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign(\n        {\n          // @ts-ignore\n          path,\n        },\n        line\n      ),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n}\n","import { reduce, isNumber } from '@antv/util';\n\n/**\n * \n * @param array\n */\nexport function getMedian(array: number[]) {\n  const arr = [...array];\n  // \n  arr.sort((a: number, b: number) => {\n    return a - b;\n  });\n\n  const len = arr.length;\n\n  // median\n  // 0\n  if (len === 0) {\n    return 0;\n  }\n\n  // \n  if (len % 2 === 1) {\n    return arr[(len - 1) / 2];\n  }\n\n  // \n  return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n\n/**\n * \n * @param array\n */\nexport function getMean(array: number[]) {\n  const sum = reduce(\n    array,\n    (r: number, num: number) => {\n      return (r += isNaN(num) || !isNumber(num) ? 0 : num);\n    },\n    0\n  );\n\n  return array.length === 0 ? 0 : sum / array.length;\n}\n","import { getMedian, getMean } from './stat';\nimport { Scale } from '../dependents';\n\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val: number | string, scale: Scale) {\n  if (!scale) {\n    return null;\n  }\n  let scaled: number;\n\n  switch (val) {\n    case 'start':\n      return 0;\n    case 'center':\n      return 0.5;\n    case 'end':\n      return 1;\n    case 'median': {\n      scaled = scale.isCategory ? getMedian(scale.values.map((_, idx: number) => idx)) : getMedian(scale.values);\n      break;\n    }\n    case 'mean': {\n      scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n      break;\n    }\n    case 'min':\n      scaled = scale.isCategory ? 0 : scale[val];\n      break;\n    case 'max':\n      scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n      break;\n    default:\n      scaled = val as number;\n      break;\n  }\n\n  return scale.scale(scaled);\n}\n","import {\n  contains,\n  deepMix,\n  each,\n  get,\n  isArray,\n  isFunction,\n  isNil,\n  isString,\n  keys,\n  upperFirst,\n  find,\n  includes,\n} from '@antv/util';\nimport { Annotation as AnnotationComponent, IElement, IGroup } from '../../dependents';\nimport {\n  AnnotationBaseOption as BaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  ShapeAnnotationOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  Datum,\n  HtmlAnnotationOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport View from '../view';\nimport { Controller } from './base';\nimport { Scale } from '@antv/attr';\n\n/**  */\nconst ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n\n/**\n * Annotation controller, :\n * 1.  Annotation: linetextarc ...\n * 2. : initlayoutrendercleardestroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /*  cache object :  */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() { }\n\n  /**\n   *  annotation  render  layout \n   */\n  public layout() {\n    this.update();\n  }\n\n  //  Annotation  layout() \n  public render() { }\n\n  /**\n   * \n   */\n  public update() {\n    // 1.   Geometry \n    this.onAfterRender(() => {\n      const updated = new Map<BaseOption, ComponentOption>();\n      //  regionFilter/shape \n      each(this.option, (option: BaseOption) => {\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          const co = this.updateOrCreate(option);\n          // \n          if (co) {\n            updated.set(this.getCacheKey(option), co);\n          }\n        }\n      });\n\n      //  cache\n      // \n      this.cache = this.syncCache(updated);\n    });\n\n    // 2.  regionFilter\n    const updateCache = new Map<BaseOption, ComponentOption>();\n    each(this.option, (option: BaseOption) => {\n      if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        const co = this.updateOrCreate(option);\n        // \n        if (co) {\n          updateCache.set(this.getCacheKey(option), co);\n        }\n      }\n    });\n    this.cache = this.syncCache(updateCache);\n  }\n\n  /**\n   * \n   * @param includeOption  option \n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.clearComponents();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * \n   */\n  private clearComponents() {\n    this.getComponents().forEach((co) => {\n      co.component.destroy();\n    });\n\n    this.cache.clear();\n  }\n\n  /**\n   * region filter \n   * @param doWhat\n   */\n  private onAfterRender(doWhat: () => void) {\n    let done = false;\n    if (this.view.getOptions().animate) {\n      this.view.geometries.forEach((g: Geometry) => {\n        //  geometry \n        if (g.animateOption) {\n          g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, () => {\n          doWhat();\n          });\n          done = true;\n        }\n      });\n    }\n\n    if (!done) {\n      this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n        doWhat();\n      });\n    }\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      // \n      if (!cfg) {\n        return null;\n      }\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   *  Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   *  RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n\n  /**\n   *  ShapeAnnotation\n   * @param option\n   */\n  public shape(option: ShapeAnnotationOption) {\n    this.annotation({\n      type: 'shape',\n      ...option,\n    });\n  }\n\n  /**\n   *  HtmlAnnotation\n   * @param option\n   */\n  public html(option: HtmlAnnotationOption) {\n    this.annotation({\n      type: 'html',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(\n    p:\n      | [string | number, string | number]\n      | Datum\n      | ((xScale: Scale, yScale: Scale) => [string | number, string | number] | number | Datum)\n  ): Point {\n    const xScale = this.view.getXScale();\n    //  object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    //  [24, 24] \n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      //  ['50%', '50%'] \n      // fix:  'xxx5%xxx'  https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = getNormalizedValue(xPos, xScale);\n      y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      //  object \n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      return null;\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option \n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object | null {\n    const coordinate = this.view.getCoordinate();\n    const canvas = this.view.getCanvas();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n    const { start, end, position } = option;\n    const sp = this.parsePosition(start);\n    const ep = this.parsePosition(end);\n    const textPoint = this.parsePosition(position);\n    if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(type) && (!sp || !ep)) {\n      return null;\n    } else if (['text', 'dataMarker', 'html'].includes(type) && !textPoint) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end, ...rest } = option as ArcOption;\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        ...rest,\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end, ...rest } = option as ImageOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end, ...rest } = option as LineOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end, ...rest } = option as RegionPositionBaseOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'text') {\n      const filteredData = this.view.getData();\n      const { position, content, ...rest } = option as TextOption;\n      let textContent = content;\n      if (isFunction(content)) {\n        textContent = content(filteredData);\n      }\n      o = {\n        ...textPoint,\n        ...rest,\n        content: textContent,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction, ...rest } = option as DataMarkerOption;\n      o = {\n        ...rest,\n        ...textPoint,\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength, ...rest } = option as DataRegionOption;\n      o = {\n        ...rest,\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color, ...rest } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        ...rest,\n        color,\n        shapes,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'shape') {\n      const { render, ...restOptions } = option as ShapeAnnotationOption;\n      const wrappedRender = (container: IGroup) => {\n        if (isFunction(option.render)) {\n          return render(container, this.view, { parsePosition: this.parsePosition.bind(this) });\n        }\n      };\n      o = {\n        ...restOptions,\n        render: wrappedRender,\n      };\n    } else if (type === 'html') {\n      const { html, position, ...restOptions } = option as HtmlAnnotationOption;\n      const wrappedHtml = (container: HTMLElement) => {\n        if (isFunction(html)) {\n          return html(container, this.view);\n        }\n        return html;\n      };\n      o = {\n        ...restOptions,\n        ...textPoint,\n        // html  parent\n        parent: canvas.get('el').parentNode,\n        html: wrappedHtml,\n      };\n    }\n    // \n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    if (type !== 'html') {\n      // html  G container\n      cfg.container = this.getComponentContainer(cfg);\n    }\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); //  view \n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n\n  /**\n   *  annotation\n   * @param option\n   */\n  private updateOrCreate(option: BaseOption) {\n    // \n    let co = this.cache.get(this.getCacheKey(option));\n\n    // \n    if (co) {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      // \n      if (cfg) {\n        omit(cfg, ['container']);\n      }\n      co.component.update({ ...(cfg || {}), visible: !!cfg });\n      //  regionFilter/shape render\n      if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        co.component.render();\n      }\n    } else {\n      // \n      co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // NoteregionFilter/shape regionFilter/shape  Geometry  Shape view render \n        //  render \n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          co.component.render();\n        }\n      }\n    }\n    return co;\n  }\n\n  /**\n   * \n   * @param updated \n   */\n  private syncCache(updated: Map<BaseOption, ComponentOption>) {\n    const newCache = new Map(this.cache); // clone \n\n    //  update  cache\n    updated.forEach((co: ComponentOption, key: BaseOption) => {\n      newCache.set(key, co);\n    });\n\n    //  options \n    newCache.forEach((co: ComponentOption, key: BaseOption) => {\n      // option \n      if (\n        !find(this.option, (option: BaseOption) => {\n          return key === this.getCacheKey(option);\n        })\n      ) {\n        co.component.destroy();\n        newCache.delete(key);\n      }\n    });\n\n    return newCache;\n  }\n\n  /**\n   *  key\n   * @param option\n   */\n  private getCacheKey(option: BaseOption) {\n    //  id id string option  key\n    return option;\n    //  id \n    // const id = get(option, 'id');\n    // return id ? id : option;\n  }\n}\n","import { deepMix, get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type, will mix the common cfg of axis\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION | 'common'): object {\n  const axisTheme = deepMix(\n    {},\n    get(theme, ['components', 'axis', 'common']),\n    get(theme, ['components', 'axis', direction])\n  );\n  return get(axisTheme, ['grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    //  ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(\n  coordinate: Coordinate,\n  xScale: Scale,\n  yScale: Scale,\n  alignTick: boolean,\n  dim: string\n) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // \n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      //  x \n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ],\n      });\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n","import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleOptions,\n  getAxisTitleText,\n  getCircleAxisCenterRadius,\n  isVertical,\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update \nconst OMIT_CFG = ['container'];\n\n// \nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private axisForeContainer: IGroup;\n  private gridContainer: IGroup;\n  private gridForeContainer: IGroup;\n\n  /**  object  */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    //  gridContainer grid  axis \n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.gridForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.update();\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed\n              ? getAxisRegion(coordinate, direction)\n              : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed\n              ? getCircleAxisCenterRadius(coordinate)\n              : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items =\n              dim === 'x'\n                ? getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim)\n                : getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items =\n              dim === 'x'\n                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                : getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate center \n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   *  axis \n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // \n    // \n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // \n        co.component.destroy();\n      }\n    });\n\n    // \n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.gridForeContainer.clear();\n    this.axisContainer.clear();\n    this.axisForeContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.gridForeContainer.remove(true);\n    this.axisContainer.remove(true);\n    this.axisForeContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   *  x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', scale.field);\n    const gridId = this.getId('grid', scale.field);\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = coordinate.isTransposed\n          ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n          : this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \n            return;\n          } else {\n            //  chart.axis(true)/chart.axis('x', true)\n            //  x \n            axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = coordinate.isTransposed\n          ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n          : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          // grid x \n          grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = coordinate.isTransposed\n              ? this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n              : this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                axis = this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              axis = this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = coordinate.isTransposed\n              ? this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n              : this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                grid = this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              grid = this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   *  line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n\n    const cfg = deepMix(\n      {\n        container,\n        ...region,\n        ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n        verticalFactor: coordinate.isPolar\n          ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n          : getAxisFactorByRegion(region, coordinate.getCenter()),\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n\n    //  verticalLimitLength\n    const isAxisVertical = isVertical(region);\n    // TODO: 1 / 3 \n    const verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n    if (verticalLimitLength <= 1) {\n      // \n      const canvasWidth = this.view.getCanvas().get('width');\n      const canvasHeight = this.view.getCanvas().get('height');\n      cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n    }\n\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid  axis \n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x  cat \n      if (ticks.length) ticks[ticks.length - 1].name = '';\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n    const cfg = deepMix(\n      {\n        container,\n        ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n        ticks,\n        verticalFactor: 1,\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid  axis \n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n        center: this.view.getCoordinate().getCenter(),\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid  axis \n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    //  key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), //  view \n      animateOption:\n        cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n","import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n *  bbox \n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n","import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject, AllLegendsOptions, Padding } from '../../interface';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout, getLegendThemeCfg } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n *  legend \n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: AllLegendsOptions, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<AllLegendsOptions> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /**  legend  bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() {}\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    //  update \n    this.update();\n  }\n\n  /**\n   * layout legend\n   *  legend  direction  x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxWidthRatio = component.get('maxWidthRatio');\n      const maxHeightRatio = component.get('maxHeightRatio');\n\n      const maxSize = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      //  maxSize layoutBBox x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const padding = component.get('padding') as Padding;\n\n      const bboxObject = component.getLayoutBBox(); //  widthheight \n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      //  legend x y  coordinateBBox \n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // \n      component.setLocation({ x: x + padding[3], y: y + padding[0] });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend \n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    //  legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      //  update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        //  cfg  updated \n        if (cfg) {\n          // omit  container \n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // \n          updated[id] = true;\n        }\n      } else {\n        //  create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // \n          updated[id] = true;\n        }\n      }\n    };\n\n    // \n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(undefined, undefined, undefined, this.option as LegendCfg);\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // \n          updated[id] = true;\n        }\n      }\n    } else {\n      // \n      this.loopLegends(eachLegend);\n    }\n\n    // \n    // \n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    //  components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   *  Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   *  Geometry legend \n   * @param doEach  loop \n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    //  view legend\n    if (!isRootView) {\n      return;\n    }\n\n    //  view  Geometry legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; //  legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        //  size(2) shape('circle')  legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   *  legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   *  category \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    //  \n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, omit(legendOption, ['value']));\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // \n    items.sort((a: any, b: any) => a.value - b.value);\n\n    //  attr \n    // size color \n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size  color color \n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: getName(scale),\n        },\n        title\n      );\n    }\n\n    // \n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean) {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    const legendTheme = getLegendThemeCfg(this.view.getTheme(), direction);\n\n    // the default marker style\n    const themeMarker = get(legendTheme, ['marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n    const themePageNavigator = get(legendTheme, ['pageNavigator']);\n    const userPageNavigator = get(legendOption, 'pageNavigator');\n\n    const items = custom\n      ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n      : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: scale ? getName(scale) : '',\n        },\n        title\n      );\n    }\n    const maxWidthRatio = get(legendOption, 'maxWidthRatio');\n    const maxHeightRatio = get(legendOption, 'maxHeightRatio');\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    baseCfg.pageNavigator = deepMix({}, themePageNavigator, userPageNavigator);\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // \n      categoryCfg.items.reverse();\n    }\n\n    const maxItemWidth = get(categoryCfg, 'maxItemWidth');\n    if (maxItemWidth && maxItemWidth <= 1) {\n      // \n      categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const position = direction.split('-')[0];\n    const themeObject = getLegendThemeCfg(this.view.getTheme(), position);\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   *  id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   *  id \n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(\n    layout: 'horizontal' | 'vertical',\n    maxWidthRatio = COMPONENT_MAX_VIEW_PERCENTAGE,\n    maxHeightRatio = COMPONENT_MAX_VIEW_PERCENTAGE\n  ) {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    //  legend  viewBBox \n    // const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n          maxWidth: vw * maxWidthRatio,\n          maxHeight: vh,\n        }\n      : {\n          maxWidth: vw,\n          maxHeight: vh * maxHeightRatio,\n        };\n  }\n}\n","import { deepMix, get, isObject, size, clamp, isNil, noop, throttle, isEmpty, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { IGroup, Slider as SliderComponent } from '../../dependents';\nimport { ComponentOption, Datum, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Writeable } from '../../util/types';\nimport View from '../view';\nimport { Controller } from './base';\nimport { SliderOption, SliderCfg } from '../../interface';\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<SliderOption> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  private width: number;\n  private start: number;\n  private end: number;\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n\n    this.width = 0;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  /**\n   * \n   */\n  public init() {}\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n    const { start, end } = this.getSliderCfg();\n    if (isNil(this.start)) {\n      this.start = start;\n      this.end = end;\n    }\n\n    const { data: viewData } = this.view.getOptions();\n    if (this.option && !isEmpty(viewData)) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // \n        this.slider.component.on('sliderchange', this.onChangeFn);\n      }\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.width) {\n      this.measureSlider();\n      setTimeout(() => {\n        //  view \n        if (!this.view.destroyed) {\n          this.changeViewData(this.start, this.end);\n        }\n      }, 0);\n    }\n    if (this.slider) {\n      const width = this.view.coordinateBBox.width;\n      //  layout bbox\n      const padding: Padding = this.slider.component.get('padding') as Padding;\n      const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      //  bottom\n      this.slider.component.update({\n        ...this.getSliderCfg(),\n        x: x2 + paddingLeft,\n        y: y1 + paddingTop,\n        width: this.width,\n        start: this.start,\n        end: this.end,\n        minText,\n        maxText,\n      });\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  /**\n   *  slider \n   */\n  private createSlider(): ComponentOption {\n    const cfg: any = this.getSliderCfg();\n    //  slider \n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.SLIDER,\n    };\n  }\n\n  /**\n   * \n   */\n  private updateSlider() {\n    let cfg = this.getSliderCfg();\n    if (this.width) {\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n      cfg = { ...cfg, width: this.width, start: this.start, end: this.end, minText, maxText };\n    }\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   * \n   */\n  private measureSlider() {\n    const { width } = this.getSliderCfg();\n\n    this.width = width;\n  }\n\n  /**\n   * \n   */\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  /**\n   *  slider \n   */\n  private getSliderCfg() {\n    let cfg: Writeable<SliderCfg> & { x: number; y: number; width: number; minText: string; maxText: string } = {\n      height: 16,\n      start: 0,\n      end: 1,\n      minText: '',\n      maxText: '',\n      x: 0,\n      y: 0,\n      width: this.view.coordinateBBox.width,\n    };\n    if (isObject(this.option)) {\n      // \n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // \n      cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n\n      // trendCfg \n      cfg = { ...cfg, trendCfg };\n    }\n\n    cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n    cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n\n    return cfg;\n  }\n\n  /**\n   *  view \n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n    const groupScales = this.view.getGroupScales();\n    if (groupScales.length) {\n      const { field, ticks } = groupScales[0];\n      return data.reduce((pre, cur) => {\n        if (cur[field] === ticks[0]) {\n          pre.push(cur[yScale.field] as number);\n        }\n        return pre;\n      }, []) as number[];\n    }\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   *  slider \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'slider', 'common'], {});\n  }\n\n  /**\n   * \n   * @param v\n   */\n  private onValueChange = (v: any) => {\n    const [min, max] = v;\n\n    this.start = min;\n    this.end = max;\n\n    this.changeViewData(min, max);\n  };\n\n  /**\n   *  start/end  minText/maxText\n   * @param min\n   * @param max\n   */\n  private getMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const isHorizontal = true;\n    let values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    if (xScale.isLinear) {\n      values = values.sort();\n    }\n\n    const xValues = isHorizontal ? values : values.reverse();\n    const dataSize = size(data);\n\n    if (!xScale || !dataSize) {\n      return {}; // fix: \n    }\n\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.round(min * (xTickCount - 1));\n    const maxIndex = Math.round(max * (xTickCount - 1));\n\n    let minText = get(xValues, [minIndex]);\n    let maxText = get(xValues, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderCfg['formatter'];\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    return {\n      minText,\n      maxText,\n    };\n  }\n\n  /**\n   *  view \n   * @param min\n   * @param max\n   */\n  private changeViewData(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const dataSize = size(data);\n    if (!xScale || !dataSize) {\n      return;\n    }\n    const isHorizontal = true;\n    const values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.round(min * (xTickCount - 1));\n    const maxIndex = Math.round(max * (xTickCount - 1));\n\n    //  x \n    this.view.filter(xScale.field, (value: any, datum: Datum) => {\n      const idx: number = xValues.indexOf(value);\n      return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    this.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.slider) {\n      this.slider.component.destroy();\n      this.slider = undefined;\n    }\n    this.width = 0;\n    this.start = undefined;\n    this.end = undefined;\n  }\n}\n","import { Controller } from './base';\nimport { IGroup, Scrollbar as ScrollbarComponent, Scale } from '../../dependents';\nimport { ScrollbarOption, ComponentOption, ScrollbarCfg, Data, ScaleOption, Padding } from '../../interface';\nimport View from '../view';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, throttle, noop, get, valuesOfKey, deepMix } from '@antv/util';\nimport { isBetween } from '../../util/helper';\n\nconst DEFAULT_PADDING: number = 0;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\n\nexport default class Scrollbar extends Controller<ScrollbarOption> {\n  private scrollbar: ComponentOption;\n  private container: IGroup;\n\n  private trackLen: number;\n  private thumbLen: number;\n  private cnt: number;\n  private step: number;\n  private ratio: number;\n  private data: Data;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Scale[];\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'scrollbar';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  public init() { }\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().scrollbar;\n\n    if (this.option) {\n      if (this.scrollbar) {\n        // exist, update\n        this.scrollbar = this.updateScrollbar();\n      } else {\n        // not exist, create\n        this.scrollbar = this.createScrollbar();\n        this.scrollbar.component.on('scrollchange', this.onChangeFn);\n      }\n    } else {\n      if (this.scrollbar) {\n        // exist, destroy\n        this.scrollbar.component.destroy();\n        this.scrollbar = undefined;\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.trackLen) {\n      this.measureScrollbar();\n      setTimeout(() => {\n        if (!this.view.destroyed) {\n          this.changeViewData(this.getScrollRange(), true);\n        }\n      });\n    }\n    if (this.scrollbar) {\n      const width = this.view.coordinateBBox.width;\n      const padding: Padding = this.scrollbar.component.get('padding') as Padding;\n      const bboxObject = this.scrollbar.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const cfg = this.getScrollbarComponentCfg();\n\n      let x: number;\n      let y: number;\n\n      if (cfg.isHorizontal) {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n        const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n        x = x2;\n        y = y1;\n      } else {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        const [x2, y2] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        x = x2;\n        y = y1;\n      }\n\n      x += padding[3];\n      y += padding[0];\n\n      //  bottom\n      if (this.trackLen) {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n          trackLen: this.trackLen,\n          thumbLen: this.thumbLen,\n          thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n        });\n      } else {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n        });\n      }\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  public getComponents() {\n    return this.scrollbar ? [this.scrollbar] : [];\n  }\n\n  public clear() {\n    if (this.scrollbar) {\n      this.scrollbar.component.destroy();\n      this.scrollbar = undefined;\n    }\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n    this.cnt = 0;\n    this.step = 0;\n    this.data = undefined;\n    this.xScaleCfg = undefined;\n    this.yScalesCfg = [];\n  }\n\n  /**   */\n  public setValue(ratio: number) {\n    this.onValueChange({ ratio });\n  }\n\n  /**   */\n  public getValue() {\n    return this.ratio;\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'scrollbar', 'common'], {});\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getScrollbarTheme(style?: ScrollbarCfg['style']) {\n    const theme = get(this.view.getTheme(), ['components', 'scrollbar']);\n    const { thumbHighlightColor, ...restStyles } = style || {};\n    return {\n      default: deepMix({}, get(theme, ['default', 'style'], {}), restStyles),\n      hover: deepMix({}, get(theme, ['hover', 'style'], {}), { thumbColor: thumbHighlightColor }),\n    };\n  }\n\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  private onValueChange = ({ ratio }: { ratio: number }) => {\n    const { animate } = this.getValidScrollbarCfg();\n    this.ratio = clamp(ratio, 0, 1);\n    const originalAnimate = this.view.getOptions().animate;\n    if (!animate) {\n      this.view.animate(false);\n    }\n    this.changeViewData(this.getScrollRange(), true);\n    this.view.animate(originalAnimate);\n  };\n\n  private measureScrollbar(): void {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getYScales().slice();\n    this.data = this.getScrollbarData();\n    this.step = this.getStep();\n    this.cnt = this.getCnt();\n    const { trackLen, thumbLen } = this.getScrollbarComponentCfg();\n    this.trackLen = trackLen;\n    this.thumbLen = thumbLen;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || [],\n    };\n    this.yScalesCfg = yScales;\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step - 1, this.cnt - 1);\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const values = valuesOfKey(this.data, this.xScaleCfg.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    this.yScalesCfg.forEach((cfg) => {\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        type: cfg.type as ScaleOption['type'],\n        min: cfg.min,\n        max: cfg.max,\n        tickMethod: cfg.tickMethod\n      });\n    });\n    this.view.filter(this.xScaleCfg.field, (val) => {\n      const idx = xValues.indexOf(val);\n      return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n    });\n    this.view.render(true);\n  }\n\n  private createScrollbar(): ComponentOption {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const component = new ScrollbarComponent({\n      container: this.container,\n      ...this.getScrollbarComponentCfg(),\n      x: 0,\n      y: 0,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n      type: COMPONENT_TYPE.SCROLLBAR,\n    };\n  }\n\n  private updateScrollbar(): ComponentOption {\n    const config = this.getScrollbarComponentCfg();\n    const realConfig = this.trackLen\n      ? {\n        ...config,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n      }\n      : { ...config };\n    this.scrollbar.component.update(realConfig);\n\n    return this.scrollbar;\n  }\n\n  private getStep() {\n    if (this.step) {\n      return this.step;\n    }\n    const { coordinateBBox } = this.view;\n    const { type, categorySize } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n\n    return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n  }\n\n  private getCnt() {\n    if (this.cnt) {\n      return this.cnt;\n    }\n    const xScale = this.view.getXScale();\n    const data = this.getScrollbarData();\n    const values = valuesOfKey(data, xScale.field);\n    return size(values);\n  }\n\n  private getScrollbarComponentCfg() {\n    const { coordinateBBox, viewBBox } = this.view;\n    const { type, padding, width, height, style } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const position = isHorizontal\n      ? {\n        x: coordinateBBox.minX + paddingLeft,\n        y: viewBBox.maxY - height - paddingBottom,\n      }\n      : {\n        x: viewBBox.maxX - width - paddingRight,\n        y: coordinateBBox.minY + paddingTop,\n      };\n    const step = this.getStep();\n    const cnt = this.getCnt();\n    const trackLen = isHorizontal\n      ? coordinateBBox.width - paddingLeft - paddingRight\n      : coordinateBBox.height - paddingTop - paddingBottom;\n    const thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n\n    return {\n      ...this.getThemeOptions(),\n      x: position.x,\n      y: position.y,\n      size: isHorizontal ? height : width,\n      isHorizontal,\n      trackLen,\n      thumbLen,\n      thumbOffset: 0,\n      theme: this.getScrollbarTheme(style),\n    };\n  }\n\n  /**\n   * \n   */\n  private getValidScrollbarCfg(): Required<ScrollbarCfg> {\n    let cfg: Required<ScrollbarCfg> = {\n      type: 'horizontal',\n      categorySize: DEFAULT_CATEGORY_SIZE,\n      width: DEFAULT_SIZE,\n      height: DEFAULT_SIZE,\n      padding: [0, 0, 0, 0],\n      animate: true,\n      style: {},\n    };\n    if (isObject(this.option)) {\n      cfg = { ...cfg, ...this.option };\n    }\n    if (!isObject(this.option) || !this.option.padding) {\n      cfg.padding =\n        cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n    }\n\n    return cfg;\n  }\n\n  /**\n   * \n   */\n  private getScrollbarData(): Data {\n    const coordinate = this.view.getCoordinate();\n    const cfg = this.getValidScrollbarCfg();\n    let data = this.view.getOptions().data || [];\n    //  y \n    if (coordinate.isReflect('y') && cfg.type === 'vertical') {\n      data = [...data].reverse();\n    }\n\n    return data;\n  }\n}\n","import { each, head, isEqual, last, get, flatten, isArray, uniq, isNil } from '@antv/util';\nimport View from '../../chart/view';\nimport { findItemsFromViewRecurisive } from '../../util/tooltip';\nimport { IShape, Point, ShapeAttrs } from '../../dependents';\nimport Element from '../../geometry/element';\nimport { LooseObject, TooltipCfg } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\nconst DEFAULT_REGION_PATH_STYLE = {\n  fill: '#CCD6EC',\n  opacity: 0.3,\n};\n\nexport function getItemsOfView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let items = findItemsFromViewRecurisive(view, point, tooltipCfg);\n  if (items.length) {\n    // \n    items = flatten(items);\n    for (const itemArr of items) {\n      for (const item of itemArr) {\n        const { x, y } = item.mappingData;\n        item.x = isArray(x) ? x[x.length - 1] : x;\n        item.y = isArray(y) ? y[y.length - 1] : y;\n      }\n    }\n\n    const { shared } = tooltipCfg;\n    // shared: false  shape  view  Geometry shape\n    if (shared === false && items.length > 1) {\n      let snapItem = items[0];\n      let min = Math.abs(point.y - snapItem[0].y);\n      for (const aItem of items) {\n        const yDistance = Math.abs(point.y - aItem[0].y);\n        if (yDistance <= min) {\n          snapItem = aItem;\n          min = yDistance;\n        }\n      }\n      items = [snapItem];\n    }\n\n    return uniq(flatten(items));\n  }\n\n  return [];\n}\n\n/**\n *  Action.  interval  schema geometry\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * \n   * @param {ShapeAttrs} style region-path \n   * @param {number} appendRatio .  x  linear : 0.25, x  linear :  0\n   * @param {number} appendWidth  .  > appendRatio\n   */\n  public show(args?: { style: ShapeAttrs; appendRatio?: number; appendWidth?: number }) {\n    const view = this.context.view;\n    const ev = this.context.event;\n\n    const tooltipCfg = view.getController('tooltip').getTooltipCfg();\n    const tooltipItems = getItemsOfView(\n      view,\n      {\n        x: ev.x,\n        y: ev.y,\n      },\n      tooltipCfg\n    );\n\n    if (isEqual(tooltipItems, this.items)) {\n      // \n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      //  x  elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      //  bbox \n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n\n          let { appendRatio, appendWidth } = args || {};\n          if (isNil(appendWidth)) {\n            appendRatio = isNil(appendRatio) ? (xScale.isLinear ? 0 : 0.25) : appendRatio; //  x \n            appendWidth = coordinate.isTransposed ? appendRatio * lastBBox.height : appendRatio * firstBBox.width;\n          }\n\n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendWidth;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendWidth * 2;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendWidth;\n            //    minY\n            minY = coordinateBBox.minY;\n            width = groupBBox.width + appendWidth * 2;\n            height = coordinateBBox.height;\n          }\n\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          const style = get(args, 'style', DEFAULT_REGION_PATH_STYLE);\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              ...style,\n              path,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * \n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * \n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n","import { isEqual, get } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport Tooltip from '../../../../chart/controller/tooltip';\n\n/**\n * Tooltip  Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      //  tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    //  showDelay  16ms tooltip  enterable\n    const showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n    if (timeStamp - lastTimeStamp > showDelay) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n\n    const tooltip = view.getController('tooltip');\n    const { clientX, clientY } = this.context.event;\n\n    //  enterable +  tooltip \n    if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n      return;\n    }\n\n    //  tooltip \n    if (view.isTooltipLocked()) {\n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // \n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n","import { each } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n\n/**\n *  view  view  tooltip \n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   *  tooltip \n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   *  tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n","import { isEqual, get, deepMix } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n\n/**\n *  Tooltip Action\n * @ignore\n */\nexport default class EllipsisText extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      const tipContent = target.get('tip');\n      //  tooltip\n      this.tooltip.update({\n        title: tipContent,\n        ...curLoc,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const theme = view.getTheme();\n    const tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); //  tooltip \n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      crosshairs: null,\n      domStyles: {\n        ...deepMix({}, tooltipStyles, {\n          // tooltip tip  50%\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: { 'max-width': '50%' },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: { 'word-break': 'break-all' },\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n *  Action \n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * \n   */\n  protected stateName: string = '';\n\n  /**\n   * \n   * @param enable \n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * \n   * @param element  Element \n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * \n   * @param enable \n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // \n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   *  Element \n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n","import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport {\n  getCurrentElement,\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isElementChange,\n  isList,\n} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n *  Action  Element \n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // \n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter((state) => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // \n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  //  element \n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /**  element  */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /**  */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element \n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      // \n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // \n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n","import StateAction from './state';\n\n/**\n *  active  Action active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n","import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { deepMix, each, isFunction } from '@antv/util';\nimport { LooseObject } from '../../../interface';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\n\ntype LinkActiveStyle = ShapeAttrs | ((style: ShapeAttrs, Element: Element) => ShapeAttrs);\n\n/**\n * Link Elements by color\n *\n * public element-link-by-color:link, element-link-by-color:unlink, element-link-by-color:clear\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  //  scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  //  path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const view = this.context.view;\n    const { isTransposed } = view.getCoordinate();\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox = nextElement.shape.getCanvasBBox();\n    const path = isTransposed\n      ? [\n          ['M', bbox.minX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', nextBBox.maxX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.minY],\n          ['Z'],\n        ]\n      : [\n          ['M', bbox.maxX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.maxY],\n          ['Z'],\n        ];\n    return path;\n  }\n  // \n  private addLinkShape(group: IGroup, element: Element, nextElement: Element, activeStyle?: LinkActiveStyle) {\n    const style = {\n      opacity: 0.4,\n      fill: element.shape.attr('fill'),\n    };\n    group.addShape({\n      type: 'path',\n      attrs: {\n        ...deepMix({}, style, isFunction(activeStyle) ? activeStyle(style, element) : activeStyle),\n        path: this.getLinkPath(element, nextElement),\n      },\n    });\n  }\n  // \n  private linkByElement(element: Element, activeStyle?: LinkActiveStyle) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // \n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count - 1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl, activeStyle);\n        }\n      });\n    }\n  }\n  // \n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   *  elements\n   *\n   * @usage\n   * registerInteraction('xxx', {\n   *   start: [\n   *    {\n   *      trigger: 'interval:mouseenter',\n   *      action: 'element-link-by-color:link',\n   *      arg: {\n   *        // style: { fill: 'red' }\n   *        style: (style, element) => ({ fill: 'red' })\n   *     },\n   *   },\n   *  ],\n   * });\n   */\n  public link(args?: { style: LinkActiveStyle }) {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // \n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        id: 'link-by-color-group',\n        capture: false,\n      });\n    }\n    const element = getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element, args?.style);\n    }\n  }\n\n  /**\n   *  elements\n   */\n  public unlink() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n    this.cache = {};\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    super.destroy();\n    if (this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport {\n  getElements,\n  getIntersectElements,\n  getMaskedElements,\n  getSiblingMaskElements,\n  getSilbings,\n  isInRecords,\n  isMask,\n} from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   *  view  siblings false \n   */\n  protected effectSiblings = false;\n  /**\n   *  element \n   */\n  protected effectByRecord = false;\n  // \n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * \n   */\n  public start() {\n    this.clear(); // \n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  protected getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // \n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // \n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // \n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * \n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  //  element \n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map((el) => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, (sibling) => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter((el) => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  //  view \n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if (isMask(this.context)) {\n      //  mask \n      each(siblings, (sibling) => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  //  clear\n  public clear() {\n    const view = this.context.view;\n    //  siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, (sibling) => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Active  Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   *  Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n","import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element  label  shape \n      if (!isElementChange(this.context)) {\n        return;\n      }\n      //  element \n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // \n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Active  Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   *  Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n *  highlight\n * @param elements \n * @param callback \n * @param enable \n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    //  active  unactive \n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nimport { ELEMENT_STATE } from '../../../constant';\n\nexport const STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport const STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\nexport type Callback = (el) => boolean;\n\n/**\n * @ignore\n * highlight\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  //  highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  //  highlight\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      //  highlight  element  active\n      //  active unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      //  highlight highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeElements  highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        //  activeunactive \n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  //  highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n","import Element from '../../../geometry/element';\nimport { Event } from '../../../chart';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\nenum EVENTS {\n  BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight',\n  AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight',\n  BEFORE_CLEAR = 'element-range-highlight:beforeclear',\n  AFTER_CLEAR = 'element-range-highlight:afterclear',\n}\n\nexport { EVENTS as ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\n/**\n * @ignore\n *  highlight  Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  //  active unactive \n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   *  highlight\n   */\n  public highlight() {\n    const { view, event } = this.context;\n    const elements = this.getIntersectElements();\n    const payload = { view, event, highlightElements: elements };\n    view.emit(EVENTS.BEFORE_HIGHLIGHT, Event.fromData(view, EVENTS.BEFORE_HIGHLIGHT, payload));\n    this.setState();\n    view.emit(EVENTS.AFTER_HIGHLIGHT, Event.fromData(view, EVENTS.AFTER_HIGHLIGHT, payload));\n  }\n\n  /**\n   * @overrider \n   */\n  public clear() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_CLEAR, Event.fromData(view, EVENTS.BEFORE_CLEAR, {}));\n    super.clear();\n    view.emit(EVENTS.AFTER_CLEAR, Event.fromData(view, EVENTS.AFTER_CLEAR, {}));\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements: Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE, Callback } from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  // \n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else {\n      el.setState(STATUS_UNACTIVE, true);\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n    }\n  }\n\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setStateByElement(element, !hasState);\n    }\n  }\n}\n\nexport default HighlightX;\n","import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Highlight  Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n","import StateAction from './state';\n\n/**\n * @ignore\n *  Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /**  */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  //  Action \n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /**  */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  //  component  active scale \n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      //  component name\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // \n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter((state) => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // \n  }\n\n  //  item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // \n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  //  item \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * \n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action  active  inactive \n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; //  unchecked \n  //  item.name  highlight \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  //  highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  highlight  Highlight \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeItems \n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight \n   */\n  public highlight() {\n    this.setState();\n  }\n\n  //  active  unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      //  component \n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n","import { IList } from '@antv/component';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n *  Highlight \n * @param list \n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * \n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n","import { each, some } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\nconst STATUS_CHECKED = 'checked';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * checked Action\n * \n * 1. toggle \n * 2. checked \n * 3. reset \n */\nclass ListChecked extends ListState {\n  protected stateName: string = STATUS_CHECKED;\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    this.setCheckedBy(list, (el) => el === item, enable);\n  }\n\n  //  checked\n  private setCheckedBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  checked  checked \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  }\n\n  /**\n   * .\n   * 1.    item \n   * 2. \n   * @override\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n\n      //    unchecked status\n      const allChecked = !some(list.getItems(), (t) => list.hasState(t, STATUS_UNCHECKED));\n\n      //\n      if (allChecked || list.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  }\n\n  /**\n   * checked \n   */\n  public checked() {\n    this.setState();\n  }\n\n  /**\n   *  checked  unchecked\n   */\n  public reset() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  }\n}\n\nexport default ListChecked;\n","import ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\n\nclass ListFocus extends ListState {\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item: clickedItem } = triggerInfo;\n      const items = list.getItems();\n      const checkedItems = items.filter((t) => !list.hasState(t, STATUS_UNCHECKED));\n      const uncheckedItems = items.filter((t) => list.hasState(t, STATUS_UNCHECKED));\n      const checkedItem = checkedItems[0]\n      /**\n       * 1.  checked radio, clickItem \n       * 2. \n       *    2.1  item  clickItem\n       *    2.2  item\n       * 3.  2.2\n       */\n      if (items.length === checkedItems.length) {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      } else if (items.length - uncheckedItems.length === 1) {\n        if (checkedItem.id === clickedItem.id) {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, false);\n        } else {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n        }\n      } else {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      }\n    }\n  }\n}\n\nexport default ListFocus;\n","import ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nimport { Point } from '../../../interface';\n\nconst STATUS_SHOW = 'showRadio';\nconst TIP_ID = 'legend-radio-tip';\n\nclass ListRadio extends ListState {\n  public show() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  }\n\n  public hide() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  }\n\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip ()\n   * @returns\n   */\n  public showTip() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    const target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;      \n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hideTip() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      //  tooltip\n      const { x: offsetX, y: offsetY } = context.view.getCanvas().get('el').getBoundingClientRect();\n      this.tooltip.update({\n        title: target.get('tip'),\n        ...curLoc,\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const tooltipStyles = {\n      [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n        padding: '6px 8px',\n        transform: 'translate(-50%, -80%)',\n        background: 'rgba(0,0,0,0.75)',\n        color: '#fff',\n        'border-radius': '2px',\n        // \n        'z-index': 100,\n      },\n      [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n        'font-size': '12px',\n        'line-height': '14px',\n        'margin-bottom': 0,\n        'word-break': 'break-all',\n      }\n    };\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    const tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip \n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID,\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n\nexport default ListRadio;\n","import { deepMix, each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MaskBase extends Action {\n  // mask \n  protected maskShape = null;\n  //  mask \n  protected points = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // \n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  //  mask \n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  //  mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  //  mask \n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.starting = true;\n    // \n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      //  capture: falseresize \n      this.maskShape.set('capture', false);\n    }\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, (point) => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask(maskStyle?: LooseObject) {\n    const attrs = deepMix({}, this.getMaskAttrs(), maskStyle);\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    // \n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n","import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\nexport function getMaskAttrs(points) {\n  const currentPoint = last(points);\n  let r = 0;\n  let x = 0;\n  let y = 0;\n  if (points.length) {\n    const first = points[0];\n    r = distance(first, currentPoint) / 2;\n    x = (currentPoint.x + first.x) / 2;\n    y = (currentPoint.y + first.y) / 2;\n  }\n  return {\n    x,\n    y,\n    r,\n  };\n}\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    return getMaskAttrs(this.points);\n  }\n}\n\nexport default CircleMask;\n","import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\nexport function getRegion(points): Region {\n  return {\n    start: head(points),\n    end: last(points),\n  };\n}\n\n/**\n * \n * @param points\n * @returns\n */\nexport function getMaskAttrs(start, end) {\n  const x = Math.min(start.x, end.x);\n  const y = Math.min(start.y, end.y);\n  const width = Math.abs(end.x - start.x);\n  const height = Math.abs(end.y - start.y);\n  return {\n    x,\n    y,\n    width,\n    height,\n  };\n}\n\n/**\n * @ignore\n *  Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion() {\n    return getRegion(this.points);\n  }\n  protected getMaskAttrs() {\n    const { start, end } = this.getRegion();\n    return getMaskAttrs(start, end);\n  }\n}\n\nexport default RectMask;\n","import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\nexport function getRegion(points, dim, inPlot, coord): Region {\n  let start = null;\n  let end = null;\n  const normalStart = coord.invert(head(points));\n  const normalEnd = coord.invert(last(points));\n  if (inPlot) {\n    //  0 - 1 \n    clampPoint(normalStart);\n    clampPoint(normalEnd);\n  }\n  if (dim === 'x') {\n    // x , y \n    start = coord.convert({\n      x: normalStart.x,\n      y: 0,\n    });\n    end = coord.convert({\n      x: normalEnd.x,\n      y: 1,\n    });\n  } else {\n    // y , x \n    start = coord.convert({\n      x: 0,\n      y: normalStart.y,\n    });\n    end = coord.convert({\n      x: 1,\n      y: normalEnd.y,\n    });\n  }\n  return {\n    start,\n    end,\n  };\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion() {\n    const coord = this.context.view.getCoordinate();\n    return getRegion(this.points, this.dim, this.inPlot, coord);\n  }\n}\n\nexport default DimRect;\n","import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n *  mask \n * @param points\n * @returns\n */\nexport function getMaskPath(points) {\n  const path = [];\n  if (points.length) {\n    each(points, (point, index) => {\n      if (index === 0) {\n        path.push(['M', point.x, point.y]);\n      } else {\n        path.push(['L', point.x, point.y]);\n      }\n    });\n    path.push(['L', points[0].x, points[0].y]);\n  }\n  return path;\n}\n\nexport function getMaskAttrs(points) {\n  return {\n    path: getMaskPath(points),\n  };\n}\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMask extends MaskBase {\n  protected getMaskPath() {\n    return getMaskPath(this.points);\n  }\n  protected getMaskAttrs() {\n    return getMaskAttrs(this.points);\n  }\n\n  /**\n   * \n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n","import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n *  mask \n * @param points\n * @returns\n */\nexport function getMaskPath(points) {\n  return getSpline(points, true);\n}\n\nexport function getMaskAttrs(points) {\n  return {\n    path: getMaskPath(points),\n  };\n}\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  protected getMaskPath() {\n    return getMaskPath(this.points);\n  }\n  protected getMaskAttrs() {\n    return getMaskAttrs(this.points);\n  }\n}\n\nexport default SmoothPathMask;\n","import { Point, Scale } from '../../../dependents';\nimport { FilterCondition, EventPayload } from '../../../interface';\nimport { View, Event } from '../../../chart';\nimport Action from '../base';\nimport { isMask } from '../util';\n\n//  scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  //  scale  range \n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  //  view  null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/** range-filter brush-filter, brush-x-filter, brush-y-filter */\nenum EVENTS {\n  FILTER = 'brush-filter-processing',\n  RESET = 'brush-filter-reset',\n  BEFORE_FILTER = 'brush-filter:beforefilter',\n  AFTER_FILTER = 'brush-filter:afterfilter',\n  BEFORE_RESET = 'brush-filter:beforereset',\n  AFTER_RESET = 'brush-filter:afterreset',\n}\n\nexport { EVENTS as BRUSH_FILTER_EVENTS };\n\n/**\n *  Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /**  dims */\n  protected cfgFields: ['dims'];\n  /**\n   * / x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /**  */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y \n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = { x: bbox.x, y: bbox.y };\n      currentPoint = { x: bbox.maxX, y: bbox.maxY };\n    } else {\n      if (!this.isStarted) {\n        // \n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // \n      return;\n    }\n    const { view, event } = this.context;\n    const payload = { view, event, dims: this.dims };\n    view.emit(EVENTS.BEFORE_FILTER, Event.fromData(view, EVENTS.BEFORE_FILTER, payload));\n\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    //  x  filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    //  y  filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view, { source: EVENTS.FILTER });\n\n    view.emit(EVENTS.AFTER_FILTER, Event.fromData(view, EVENTS.AFTER_FILTER, payload));\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   *  Action  x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_RESET, Event.fromData(view, EVENTS.BEFORE_RESET, {}));\n\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // \n    }\n    if (this.hasDim('y')) {\n      // y  yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // \n    }\n    this.reRender(view, { source: EVENTS.RESET });\n\n    view.emit(EVENTS.AFTER_RESET, Event.fromData(view, EVENTS.AFTER_RESET, {}));\n  }\n\n  /**\n   *  view \n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View, payload?: EventPayload) {\n    view.render(true, payload);\n  }\n}\n\nexport default RangeFilter;\n","import { deepMix } from '@antv/util';\nimport Action from '../../base';\nimport { LooseObject } from '../../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MultipleMaskBase extends Action {\n  // mask \n  protected maskShapes = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  //  mask \n  protected recordPoints = null;\n  protected preMovePoint = null;\n  protected shapeType = 'path';\n  protected maskType = 'multi-mask';\n\n  /**\n   * \n   */\n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   *  mask \n   * @param type\n   */\n  protected emitEvent(type) {\n    const eventName = `${this.maskType}:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    const target = {\n      type: this.shapeType,\n      name: this.maskType,\n      get: (key: string) => (target.hasOwnProperty(key) ? target[key] : undefined),\n    };\n    view.emit(eventName, {\n      target,\n      maskShapes: this.maskShapes,\n      multiPoints: this.recordPoints,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  /**\n   *  mask\n   * @param index\n   */\n  private createMask(index: number) {\n    const view = this.context.view;\n    const points = this.recordPoints[index];\n    const maskAttrs = this.getMaskAttrs(points);\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    this.maskShapes.push(maskShape);\n  }\n\n  /**\n   *  mask shape attributes\n   * @param points\n   */\n  protected abstract getMaskAttrs(points: number[]): LooseObject;\n\n  /**\n   *  mask \n   */\n  protected getMaskPath(points) {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShapes.length > 0) {\n      this.maskShapes.forEach((maskShape) => maskShape.show());\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.recordPointStart();\n\n    this.starting = true;\n    // \n    this.moving = false;\n    //  index  mask\n    const index = this.recordPoints.length - 1;\n    this.createMask(index);\n    //  capture: falseresize \n    this.updateShapesCapture(false);\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n    this.updateShapesCapture(false);\n  }\n\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || this.maskShapes.length === 0) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n\n    //  event (x, y)  mask\n    const index = this.getCurMaskShapeIndex();\n    if (index > -1) {\n      this.recordPoints[index].forEach((point) => {\n        point.x += dx;\n        point.y += dy;\n      });\n      this.updateMask();\n      this.emitEvent('change');\n      this.preMovePoint = currentPoint;\n    }\n  }\n\n  /**\n   * \n   * @param maskStyle\n   */\n  protected updateMask(maskStyle?: LooseObject) {\n    this.recordPoints.forEach((points, index) => {\n      const attrs = deepMix({}, this.getMaskAttrs(points), maskStyle);\n      this.maskShapes[index].attr(attrs);\n    });\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    if (this.starting && this.maskShapes.length > 0) {\n      this.recordPointContinue();\n\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n    this.updateShapesCapture(true);\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    this.updateShapesCapture(true);\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShapes.length > 0) {\n      this.maskShapes.forEach((maskShape) => maskShape.hide());\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   *  mask\n   */\n  public remove() {\n    const index = this.getCurMaskShapeIndex();\n    if (index > -1) {\n      // event (x, y)  mask  mask\n      this.recordPoints.splice(index, 1);\n      this.maskShapes[index].remove();\n      this.maskShapes.splice(index, 1);\n      this.preMovePoint = null;\n      this.updateShapesCapture(true);\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   *  mask\n   */\n  public clearAll() {\n    this.recordPointClear();\n    this.maskShapes.forEach((maskShape) => maskShape.remove());\n    this.maskShapes = [];\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const index = this.getCurMaskShapeIndex();\n    if (index === -1) {\n      this.recordPointClear();\n      this.maskShapes.forEach((maskShape) => maskShape.remove());\n      this.maskShapes = [];\n      this.emitEvent('clearAll');\n    } else {\n      this.recordPoints.splice(index, 1);\n      this.maskShapes[index].remove();\n      this.maskShapes.splice(index, 1);\n      this.preMovePoint = null;\n      this.emitEvent('clearSingle');\n    }\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n    super.destroy();\n  }\n\n  /**\n   *  mask \n   */\n  protected getRecordPoints() {\n    return [...(this.recordPoints ?? [])];\n  }\n\n  /**\n   *  mask \n   */\n  protected recordPointStart() {\n    const recordPoints = this.getRecordPoints();\n    const currentPoint = this.getCurrentPoint();\n    this.recordPoints = [...recordPoints, [currentPoint]];\n  }\n\n  /**\n   *  mask \n   */\n  protected recordPointContinue() {\n    const recordPoints = this.getRecordPoints();\n    const currentPoint = this.getCurrentPoint();\n    const lastPoints = recordPoints.splice(-1, 1)[0] || [];\n    lastPoints.push(currentPoint);\n    this.recordPoints = [...recordPoints, lastPoints];\n  }\n\n  /**\n   *  mask  \n   */\n  protected recordPointClear() {\n    this.recordPoints = [];\n  }\n\n  /**\n   *  capture\n   * false: resize \n   * true: \n   * @param isCapture\n   */\n  protected updateShapesCapture(isCapture: boolean) {\n    this.maskShapes.forEach((maskShape) => maskShape.set('capture', isCapture));\n  }\n\n  /**\n   *\n   * @returns  event (x, y)  maskShape  index\n   */\n  protected getCurMaskShapeIndex() {\n    const currentPoint = this.getCurrentPoint();\n    return this.maskShapes.findIndex((maskShape) => {\n      const { width, height, r } = maskShape.attrs;\n      const isEmpty = width === 0 || height === 0 || r === 0;\n      return !isEmpty && maskShape.isHit(currentPoint.x, currentPoint.y);\n    });\n  }\n}\n\nexport default MultipleMaskBase;\n","import MultipleMaskBase from './base';\nimport { getRegion, getMaskAttrs } from '../rect';\n\n/**\n * @ignore\n *  Action\n */\nclass RectMultiMask extends MultipleMaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(points) {\n    return getRegion(points);\n  }\n  protected getMaskAttrs(points) {\n    const { start, end } = this.getRegion(points);\n    return getMaskAttrs(start, end);\n  }\n}\n\nexport default RectMultiMask;\n","import MultipleRectMask from './rect';\nimport { getRegion } from '../dim-rect';\n\n/**\n * @ignore\n */\nclass DimRectMultiMask extends MultipleRectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(points) {\n    const coord = this.context.view.getCoordinate();\n    return getRegion(points, this.dim, this.inPlot, coord);\n  }\n}\n\nexport default DimRectMultiMask;\n","import MultipleMaskBase from './base';\nimport { getMaskAttrs } from '../circle';\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMultiMask extends MultipleMaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs = getMaskAttrs;\n}\n\nexport default CircleMultiMask;\n","import MultipleMaskBase from './base';\nimport { getMaskAttrs, getMaskPath } from '../path';\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMultiMask extends MultipleMaskBase {\n  protected getMaskPath = getMaskPath;\n  protected getMaskAttrs = getMaskAttrs;\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMultiMask;\n","import MultiplePathMask from './path';\nimport { getMaskPath, getMaskAttrs } from '../smooth-path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMultiMask extends MultiplePathMask {\n  protected getMaskPath = getMaskPath;\n  protected getMaskAttrs = getMaskAttrs;\n}\n\nexport default SmoothPathMultiMask;\n","/**\n * @fileoverview https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n *  Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * \n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /**  */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /**  */\n  public move() {\n    this.setCursor('move');\n  }\n  /**  */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /**  */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /**  */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /**  */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * \n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * \n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * \n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * \n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   *  \n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   *  \n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * \n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * \n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * \n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * \n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n  /**\n   * \n   */\n  public zoomIn() {\n    this.setCursor('zoom-in');\n  }\n  /**\n   * \n   */\n  public zoomOut() {\n    this.setCursor('zoom-out');\n  }\n}\n\nexport default CursorAction;\n","import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * \n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    //  scale \n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, (subView) => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view, field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n *  view  view  views \n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   *  view \n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport {\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isList,\n  isSlider,\n  isMask,\n  getMaskedElements,\n} from '../util';\n/**\n *  Action\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if (isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // \n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * \n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   *  data-filter \n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * \n   */\n  public filter() {\n    //  mask \n    if (isMask(this.context)) {\n      if (this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // \n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map((el) => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) \n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // \n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) {\n        // mask  null\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { LooseObject } from '../../../interface';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix \n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  //  Button  \n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // \n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // \n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n","import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // \n\n/**\n * @ignore\n * View  Drag  Action\n */\nclass Drag extends Action {\n  // Action  \n  protected starting = false;\n  // \n  protected dragStart = false;\n  // \n  protected startPoint: Point;\n\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n","import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View  Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // \n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * \n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [\n        ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n      ]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n","import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // \n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n","import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * \n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // \n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // \n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n","import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * \n   */\n  public zoomIn() {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom(scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public zoomOut() {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n  // \n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // \n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // \n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n","import { clamp, size, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../../constant';\nimport { Action } from '..';\nimport { LooseObject } from '../../../interface';\n\nfunction isWheelDown(event: LooseObject) {\n  const wheelEvent = event.gEvent.originalEvent as WheelEvent;\n  return wheelEvent.deltaY > 0;\n}\n\nconst DEFAULT_WHEELDELTA = 1;\nclass MousewheelScroll extends Action {\n  public scroll(arg?) {\n    const { view, event } = this.context;\n\n    if (!view.getOptions().scrollbar) {\n      return;\n    }\n\n    const wheelDelta = arg?.wheelDelta || DEFAULT_WHEELDELTA;\n    const scrollbarController = view.getController('scrollbar');\n\n    const xScale = view.getXScale();\n    const data = view.getOptions().data;\n    const dataSize = size(valuesOfKey(data, xScale.field));\n    const step = size(xScale.values);\n\n    const currentRatio = scrollbarController.getValue();\n    const currentStart = Math.floor((dataSize - step) * currentRatio);\n\n    const nextStart = currentStart + (isWheelDown(event) ? wheelDelta : -wheelDelta);\n    const correction = wheelDelta / (dataSize - step) / 10000;\n    const nextRatio = clamp(nextStart / (dataSize - step) + correction, 0, 1);\n    scrollbarController.setValue(nextRatio);\n  }\n}\n\nexport default MousewheelScroll;\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { deepMix } from '@antv/util';\nimport { HtmlTooltip } from '../../../../dependents';\nimport Action from '../../base';\nimport { getDelegationObject } from '../../util';\nimport cx from 'classnames';\n\nconst AXIS_DESCRIPTION_TOOLTIP = 'aixs-description-tooltip';\n\nclass AxisDescription extends Action {\n  private tooltip;\n\n  public show() {\n    const context = this.context;\n    const { axis } = getDelegationObject(context);\n    const { description, text, descriptionTooltipStyle } = axis.cfg.title;\n    const { x, y } = context.event;\n    if (!this.tooltip) {\n      this.renderTooltip();\n    }\n    this.tooltip.update({\n      title: text || '',\n      customContent: () => {\n        return `\n          <div class=\"${TOOLTIP_CSS_CONST.CONTAINER_CLASS}\" style={${descriptionTooltipStyle}}>\n            <div class=\"${TOOLTIP_CSS_CONST.TITLE_CLASS}\">\n              ${description}\n            </div>\n          </div>\n        `;\n      },\n      x,\n      y,\n    });\n    this.tooltip.show();\n  }\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  public hide() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  public renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      containerId: AXIS_DESCRIPTION_TOOLTIP,\n      domStyles: {\n        ...deepMix(\n          {},\n          {\n            // tooltip tip  50%\n            [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n              'max-width': '50%',\n              padding: '10px',\n              'line-height': '15px',\n              'font-size': '12px',\n              color: 'rgba(0, 0, 0, .65)',\n            },\n            [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n              'word-break': 'break-all',\n              'margin-bottom': '3px',\n            },\n          }\n        ),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false);\n    this.tooltip = tooltip;\n  }\n}\nexport default AxisDescription;\n","import { isObject, each, find, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../../../../dependents';\nimport { LabelItem } from '../../interface';\n\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { IElement } from '@antv/g-base';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n\n    // because group could not effect text-shape, should set text-shape position manually\n    const textShape = find(labelShape.getChildren(), (ele) => ele.get('type') === 'text') as IElement;\n    // @ts-ignore\n    if (textShape) {\n      textShape.attr('y', label.y);\n      textShape.attr('x', label.x);\n    }\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  if (!items.length || !labels.length) {\n    return;\n  }\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  //  labelLine\n  each(items, (item) => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // \n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [\n        `M ${startPoint.x}`,\n        `${startPoint.y} Q${innerPoint.x}`,\n        `${innerPoint.y} ${endPoint.x}`,\n        endPoint.y,\n      ].join(',');\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  bbox  label  shape  bbox \n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // \n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // \n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  label \n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // \n      finalX = regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // \n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // \n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // \n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // \n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n","import { each, pick } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { getCoordinateBBox } from '../../../util/coordinate';\nimport { getEllipsisText } from '../../../util/text';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/** limitInPlot layout  */\nexport interface LimitInPlotLayoutCfg {\n  /**  Plot  */\n  direction?: ('top' | 'right' | 'bottom' | 'left')[];\n  /**  margin */\n  margin?: number;\n  /**  translate ; ellipsis  text  */\n  action?: 'hide' | 'translate' | 'ellipsis';\n}\n\n/**\n * @ignore\n *  label  Plot  Plot  label \n * @param labels\n * @param cfg\n */\nexport function limitInPlot(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LimitInPlotLayoutCfg\n) {\n  if (labels.length <= 0) {\n    return;\n  }\n  const direction = cfg?.direction || ['top', 'right', 'bottom', 'left'];\n  const action = cfg?.action || 'translate';\n  const margin = cfg?.margin || 0;\n  const coordinate = labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n  const {\n    minX: regionMinX,\n    minY: regionMinY,\n    maxX: regionMaxX,\n    maxY: regionMaxY,\n  } = getCoordinateBBox(coordinate, margin);\n\n  each(labels, (label: IGroup) => {\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (direction.indexOf('left') >= 0 && (minX < regionMinX || maxX < regionMinX)) {\n      // \n      finalX = regionMinX;\n    }\n    if (direction.indexOf('top') >= 0 && (minY < regionMinY || maxY < regionMinY)) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (direction.indexOf('right') >= 0) {\n      if (minX > regionMaxX) {\n        // \n        finalX = regionMaxX - width;\n      } else if (maxX > regionMaxX) {\n        // \n        finalX = finalX - (maxX - regionMaxX);\n      }\n    }\n\n    if (direction.indexOf('bottom') >= 0) {\n      if (minY > regionMaxY) {\n        // \n        finalY = regionMaxY - height;\n      } else if (maxY > regionMaxY) {\n        // \n        finalY = finalY - (maxY - regionMaxY);\n      }\n    }\n\n    if (finalX !== x || finalY !== y) {\n      const translateX = finalX - x;\n      if (action === 'translate') {\n        translate(label, translateX, finalY - y);\n      } else if (action === 'ellipsis') {\n        const textShapes = label.findAll((shape) => shape.get('type') === 'text');\n        textShapes.forEach((textShape) => {\n          const style = pick(textShape.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']);\n          const textBox = textShape.getCanvasBBox();\n          const text = getEllipsisText(textShape.attr('text'), textBox.width - Math.abs(translateX), style);\n          textShape.attr('text', text);\n        });\n      } else {\n        label.hide();\n      }\n    }\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { BBox, IGroup, IShape, IElement } from '@antv/g-base';\nimport { isObject, each, get, groupBy, isNil, filter } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\n/**\n *  labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item: any /** PolarLabelItem */, coordinate: Coordinate) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n\n  if (item && item.labelLine) {\n    const { angle, offset: labelOffset } = item;\n    // \n    const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n    const itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n    const itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n\n    const endPoint = {\n      x: itemX - Math.cos(angle) * MARGIN,\n      y: itemY - Math.sin(angle) * MARGIN,\n    };\n\n    const smoothConnector = item.labelLine.smooth;\n    const path = [];\n    const dx = endPoint.x - center.x;\n    const dy = endPoint.y - center.y;\n    let endAngle = Math.atan(dy / dx);\n    //  & \n    if (dx < 0) {\n      endAngle += Math.PI;\n    }\n\n    //  smooth, undefined  smooth\n    if (smoothConnector === false) {\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n\n      // 0 , 1 \n      let sweepFlag = 0;\n\n      // \n      if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= 0 && angle < Math.PI / 2) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= Math.PI / 2 && angle < Math.PI) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      const distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n      const breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n      // \n      const breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n\n      /**\n       * @example\n       * M 100 100 L100 90 A 50 50 0 0 0 150 50\n       *  (100, 100),  (100, 90),  (50, 50)  (150, 50);\n       * A  4  large-arc-flag,  180 : 0 1 \n       *  5 : \n       */\n      // \n      const largeArcFlag = 0;\n      // step1: \n      path.push(`M ${startPoint.x} ${startPoint.y}`);\n      // step2: \n      path.push(`L ${breakPoint.x} ${breakPoint.y}`);\n      // step3:   \n      path.push(`A ${center.x} ${center.y} 0 ${largeArcFlag} ${sweepFlag} ${breakPoint3.x} ${breakPoint3.y}`);\n      // step4: \n      path.push(`L ${endPoint.x} ${endPoint.y}`);\n    } else {\n      const breakPoint = polarToCartesian(\n        center.x,\n        center.y,\n        radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)),\n        angle\n      );\n      // G2 \n      // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n      const xSign = startPoint.x < center.x ? 1 : -1;\n      // step1: \n      path.push(`M ${endPoint.x} ${endPoint.y}`);\n      const slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n      const slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n      if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n        // step2:  curve line ( & , , )\n        path.push(\n          ...[\n            'C',\n            endPoint.x + xSign * 4,\n            endPoint.y,\n            2 * breakPoint.x - startPoint.x,\n            2 * breakPoint.y - startPoint.y,\n            startPoint.x,\n            startPoint.y,\n          ]\n        );\n      }\n      // step3: \n      path.push(`L ${startPoint.x} ${startPoint.y}`);\n    }\n    item.labelLine.path = path.join(' ');\n  }\n}\n\n/**\n *  outer-label ,  type = pie  label offset > 0 \n */\nexport function pieOuterLabelLayout(\n  originalItems: PolarLabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const items = filter(originalItems, (item) => !isNil(item));\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // note labelHeight  label \n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = get(items[0], 'offset', 0);\n\n  if (labelOffset <= 0) {\n    return;\n  }\n\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  const { start, end } = coordinate;\n  // step2: calculate totalHeight\n  const totalHeight = Math.min((radius + labelOffset + labelHeight) * 2, coordinate.getHeight());\n  const totalR = totalHeight / 2;\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalR,\n    maxY: center.y + totalR,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = Math.floor(totalHeight / labelHeight);\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx + 1 > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  each(separateLabels, (half: PolarLabelItem[], key: string) => {\n    each(half, (item: PolarLabelItem) => {\n      const isRight = key === RIGHT_HALF_KEY;\n      const labelShape = labelsMap[item.id];\n\n      // because group could not effect content-shape, should set content-shape position manually\n      const content = labelShape.getChildByIndex(0) as IElement;\n\n      // textShape \n      if (content) {\n        const r = radius + labelOffset;\n        // (x - cx)^2 + (y - cy)^2 = totalR^2\n        const dy = item.y - center.y;\n\n        const rPow2 = Math.pow(r, 2);\n        const dyPow2 = Math.pow(dy, 2);\n        const dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n        const dx = Math.sqrt(dxPow2);\n\n        const dx_offset = Math.abs(Math.cos(item.angle) * r);\n        if (!isRight) {\n          // left\n          item.x = center.x - Math.max(dx, dx_offset);\n        } else {\n          // right\n          item.x = center.x + Math.max(dx, dx_offset);\n        }\n      }\n\n      // adjust labelShape\n      if (content) {\n        content.attr('y', item.y);\n        content.attr('x', item.x);\n      }\n\n      drawLabelline(item, coordinate);\n    });\n  });\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport Element from '../../element';\nimport { LabelItem } from '../interface';\n\nexport function adjustColor(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0].get('element');\n  const theme = element.geometry.theme;\n  const { fillColorLight, fillColorDark } = theme.labels || {};\n\n  shapes.forEach((shape: IShape | IGroup, index: number) => {\n    const label = labels[index];\n    const textShape = label.find((el) => el.get('type') === 'text');\n    const shapeBBox = BBox.fromObject(shape.getBBox());\n    const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    const overflow = !shapeBBox.contains(textBBox);\n\n    const bgColor = shape.attr('fill');\n    const fillWhite = isContrastColorWhite(bgColor);\n\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      //  overflowLabel \n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}\n","import { IGroup, IShape } from '../../../../dependents';\nimport { each, groupBy, uniq, map, size, filter } from '@antv/util';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { checkShapeOverlap } from '../../util';\n\nfunction filterLabel(labels: IShape[] | IGroup[]) {\n  const MAX_CNT = 500; //  500 \n  const filteredLabels = [];\n  const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n  each(labels, (label, idx) => {\n    if (idx % pages === 0) {\n      filteredLabels.push(label);\n    } else {\n      label.set('visible', false);\n    }\n  });\n\n  return filteredLabels;\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalHideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const filteredLabels = filterLabel(labels);\n  const [xField] = geometry.getXYFields();\n  const dones: IShape[] = [];\n  const todo: IShape[] = [];\n  const groupedLabels = groupBy(filteredLabels, (label) => label.get('data')[xField]);\n  const xValues = uniq(map(filteredLabels, (label: IShape) => label.get('data')[xField]));\n  let xValue;\n\n  filteredLabels.forEach((label) => {\n    label.set('visible', true);\n  });\n\n  const addCurrentGroup = (curItems: IShape[]) => {\n    if (curItems) {\n      if (curItems.length) {\n        // \n        todo.push(curItems.pop());\n      }\n      todo.push(...curItems);\n    }\n  };\n\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.shift();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.pop();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  each(xValues.reverse(), (val) => {\n    // \n    addCurrentGroup(groupedLabels[val]);\n  });\n\n  while (todo.length > 0) {\n    const cur = todo.shift();\n    if (cur.get('visible')) {\n      if (checkShapeOverlap(cur, dones)) {\n        cur.set('visible', false);\n      } else {\n        dones.push(cur);\n      }\n    }\n  }\n}\n","import { BBox, IGroup, IShape } from '@antv/g-base';\nimport { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { LabelItem, PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\nimport { Coordinate } from '@antv/coord';\n\n/** ,  */\nconst INFLECTION_OFFSET = 4;\n/** , distance between label and edge: offsetX */\nconst LABEL_OFFSET_X = 4;\n/**  */\nconst LABEL_TEXT_LINE_OFFSET = 4;\n\nfunction drawLabelline(item: PolarLabelItem, coordinate: Coordinate, inRight: boolean) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  const startPoint = {\n    x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n    y: item.y,\n  };\n  const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n  const p1 = { x: startPoint.x, y: startPoint.y };\n  const p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n\n  const endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n  let path = '';\n\n  // \n  if (startPoint.y !== inflectionPoint.y) {\n    const offset = inRight ? 4 : -4;\n    p1.y = startPoint.y;\n\n    /**  */\n    if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > 0 && item.angle < Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle < -Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n  }\n\n  path = [\n    `M ${startPoint.x},${startPoint.y}`,\n    `L ${p1.x},${p1.y}`,\n    `L ${p2.x},${p2.y}`,\n    `L ${inflectionPoint.x},${inflectionPoint.y}`,\n    `L ${endPoint.x},${endPoint.y}`,\n  ].join(' ');\n  item.labelLine = deepMix({}, item.labelLine, { path });\n}\n\n/**\n *  spider ,  pie-spider \n * region  labelsRenderer ()\n */\nexport function pieSpiderLabelLayout(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n\n  // step 1: adjust items to spider\n  each(items, (item) => {\n    if (!item) return;\n    const label = get(labelsMap, [item.id]);\n    if (!label) return;\n\n    const inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n    const offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n    const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n\n    const totalOffset = labelOffset + offsetX;\n    item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n    item.y = inflectionPoint.y;\n  });\n\n  const { start, end } = coordinate;\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  // step2: calculate totalHeight\n  let totalHeight = (radius + labelOffset) * 2 + labelHeight;\n\n  each(separateLabels, (half: PolarLabelItem[]) => {\n    const halfHeight = half.length * labelHeight;\n    if (halfHeight > totalHeight) {\n      totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n    }\n  });\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalHeight / 2,\n    maxY: center.y + totalHeight / 2,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = totalHeight / labelHeight;\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  const startY = labelsContainerRange.minY;\n  const endY = labelsContainerRange.maxY;\n\n  // step4: applyTo labels and adjust labelLines\n  each(separateLabels, (half, key) => {\n    const inRight = key === RIGHT_HALF_KEY;\n\n    each(half, (item) => {\n      const label: IGroup = get(labelsMap, item && [item.id]);\n      if (!label) {\n        return;\n      }\n      // out of range, hidden\n      if (item.y < startY || item.y > endY) {\n        label.set('visible', false);\n        return;\n      }\n\n      const labelContent = label.getChildByIndex(0);\n      const box = labelContent.getCanvasBBox();\n      const originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n\n      translate(labelContent as any, item.x - originalPos.x /**  pos.x  item.x */, item.y - originalPos.y);\n\n      // adjust labelLines\n      if (item.labelLine) {\n        drawLabelline(item, coordinate, inRight);\n      }\n    });\n  });\n}\n","import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * \n * x \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * \n * y \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * \n * \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  x \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x \n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n *  y \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  //  shape \n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n","import { isFunction } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * \n * @todo \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // \n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; //  shape \n\n  //    toAttrs \n  if (cfg.toAttrs) {\n    element.attr(cfg.toAttrs);\n  }\n\n  // \n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // \n      isFunction(animateCfg.callback) && animateCfg.callback();\n    },\n  });\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * path \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // \n  element.attr('lineDash', [length]);\n  element.animate((ratio: number) => {\n    return {\n      // \n      lineDashOffset: (1 - ratio) * length,\n    };\n  }, animateCfg);\n}\n","/**\n * Simplified from https://github.com/zertosh/invariant.\n */\n\nexport enum LEVEL {\n  ERROR = 'error',\n  WARN = 'warn',\n  INFO = 'log',\n}\n\nconst BRAND = 'AntV/G2Plot';\n\n/**\n * \n * @param format\n * @param args\n */\nfunction getMessage(format: string, ...args: any[]): string {\n  let argIndex = 0;\n  return `${BRAND}: ${format.replace(/%s/g, (): string => `${args[argIndex++]}`)}`;\n}\n\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition: boolean, format: string, ...args: any[]): void {\n  if (!condition) {\n    const error = new Error(getMessage(format, ...args));\n    error.name = BRAND;\n    // error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\n/**\n * \n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level: LEVEL, condition: boolean, format, ...args: any[]): void {\n  if (!condition) {\n    console[level](getMessage(format, ...args));\n  }\n}\n","/**\n *  lodash.pick \n * @param obj\n * @param keys\n */\nexport function pick(obj: any, keys: string[]): object {\n  const r = {};\n\n  if (obj !== null && typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      const v = obj[key];\n      if (v !== undefined) {\n        r[key] = v;\n      }\n    });\n  }\n  return r;\n}\n","import { filter, get, isNumber } from '@antv/util';\nimport { Data, Datum, Meta, Options } from '../types';\nimport { Node, NodeLinkData } from '../types/relation-data';\nimport { LEVEL, log } from './invariant';\nimport { pick } from './pick';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  if (!data) return {};\n  // \n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  //  { min: 0, max: undefined }  update({ max: 0 })  { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n\n/**\n * \n * @param data\n * @param sourceField\n * @param targetField\n * @param weightField\n * @param rawFields \n */\nexport function transformDataToNodeLinkData(\n  data: Data,\n  sourceField: string,\n  targetField: string,\n  weightField: string,\n  rawFields: string[] = []\n): NodeLinkData {\n  if (!Array.isArray(data)) {\n    return {\n      nodes: [],\n      links: [],\n    };\n  }\n\n  //   const nodes = [];\n  const links = [];\n  // \n  const nodesMap: Record<string, Node> = {};\n  let nodesIndex = -1;\n  //  chord layout \n  data.forEach((datum: Datum) => {\n    const source = datum[sourceField];\n    const target = datum[targetField];\n    const weight = datum[weightField];\n\n    const rawData = pick(datum, rawFields);\n\n    // source node\n    if (!nodesMap[source]) {\n      nodesMap[source] = {\n        id: ++nodesIndex,\n        name: source,\n        ...rawData,\n      };\n    }\n    if (!nodesMap[target]) {\n      nodesMap[target] = {\n        id: ++nodesIndex,\n        name: target,\n        ...rawData,\n      };\n    }\n    // links\n    links.push({\n      source: nodesMap[source].id,\n      target: nodesMap[target].id,\n      // sourceName: source,\n      // targetName: target,\n      value: weight,\n      ...rawData,\n    });\n  });\n  return {\n    //  id \n    nodes: Object.values(nodesMap).sort((a, b) => a.id - b.id),\n    links,\n  };\n}\n\n/**\n * (   NaN null)\n * @param data\n * @param angleField\n */\nexport function processIllegalData(data: Options['data'], field: string) {\n  const processData = filter(data, (d) => {\n    const v = d[field];\n    return v === null || (typeof v === 'number' && !isNaN(v));\n  });\n\n  // \n  log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n\n  return processData;\n}\n","const MAX_MIX_LEVEL = 5; // \n\nconst toString = {}.toString;\n\n// \nconst isType = (value: any, type: string): boolean => toString.call(value) === '[object ' + type + ']';\n\nconst isArray = (value: any): value is Array<any> => {\n  return isType(value, 'Array');\n};\n\nconst isObjectLike = (value: any): value is object => {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nconst isPlainObject = (value: any): value is object => {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\n/***\n * @param {any} dist\n * @param {any} src\n * @param {number} level \n * @param {number} maxLevel \n */\nconst deep = (dist, src, level?, maxLevel?) => {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (const key in src) {\n    if (Object.prototype.hasOwnProperty.call(src, key)) {\n      const value = src[key];\n      if (!value) {\n        // null  undefined \n        dist[key] = value;\n      } else {\n        if (isPlainObject(value)) {\n          if (!isPlainObject(dist[key])) {\n            dist[key] = {};\n          }\n          if (level < maxLevel) {\n            deep(dist[key], value, level + 1, maxLevel);\n          } else {\n            // \n            dist[key] = src[key];\n          }\n        } else if (isArray(value)) {\n          dist[key] = [];\n          dist[key] = dist[key].concat(value);\n        } else {\n          dist[key] = value;\n        }\n      }\n    }\n  }\n};\n\n/**\n * deepAssign  deepMix\n *  deepAssign  null undefined  source\n *  __tests__/unit/utils/deep-assign-spec.ts\n */\nexport const deepAssign = (rst: any, ...args: any[]) => {\n  for (let i = 0; i < args.length; i += 1) {\n    deep(rst, args[i]);\n  }\n  return rst;\n};\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { Size } from '../types';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele: HTMLElement): Size {\n  if (!ele) {\n    return { width: 0, height: 0 };\n  }\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n","type FlowFunction<P> = (param: P) => P;\n\n/**\n *  lodash.flow \n * @param flows\n */\nexport function flow<P>(...flows: FlowFunction<P>[]): FlowFunction<P> {\n  return (param: P) => {\n    return flows.reduce((result: P, f: FlowFunction<P>) => {\n      return f(result);\n    }, param);\n  };\n}\n","import { Element, Geometry, View } from '@antv/g2';\nimport { get, reduce } from '@antv/util';\n\n/**\n *  View  type  geometry\n * @param view\n * @param type\n */\nexport function findGeometry(view: View, type: string): Geometry {\n  return view.geometries.find((g: Geometry) => g.type === type);\n}\n\n/**\n *  View   elements\n */\nexport function getAllElements(view: View): Element[] {\n  return reduce(\n    view.geometries,\n    (r: Element[], geometry: Geometry) => {\n      return r.concat(geometry.elements);\n    },\n    []\n  );\n}\n\n/**\n *  View   elements,  View  View\n */\nexport function getAllElementsRecursively(view: View): Element[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return getAllElements(view);\n  }\n\n  return reduce(\n    view.views,\n    (ele: Element[], subView: View) => {\n      return ele.concat(getAllElementsRecursively(subView));\n    },\n    getAllElements(view)\n  );\n}\n\n/**\n *  View   geometries,  View  View\n */\nexport function getAllGeometriesRecursively(view: View): Geometry[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return view.geometries;\n  }\n\n  return reduce(\n    view.views,\n    (ele: Geometry[], subView: View) => {\n      return ele.concat(subView.geometries);\n    },\n    view.geometries\n  );\n}\n","/**\n * @desc simple kebabCase like lodash\n *\n * kebabCase('fooBar'); => 'foo-bar'\n */\nexport function kebabCase(word: string) {\n  if (!word) {\n    return word;\n  }\n  const result = word.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);\n  return result.map((s: string) => s.toLowerCase()).join('-');\n}\n","import { isType } from '@antv/util';\n/**\n *  v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions: any) {\n  if (!isType(labelOptions, 'Object')) {\n    return labelOptions;\n  }\n  const label = { ...labelOptions };\n  if (label.formatter && !label.content) {\n    label.content = label.formatter;\n  }\n  return label;\n}\n","import { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n\n/**\n * \n * @param text \n * @param font \n */\nexport const measureTextWidth = memoize(\n  (text: string, font: any = {}): number => {\n    const { fontSize, fontFamily = 'sans-serif', fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, `${fontSize}px`, fontFamily].join(' ');\n    const metrics = ctx.measureText(isString(text) ? text : '');\n    return metrics.width;\n  },\n  (text: string, font = {}) => [text, ...values(font)].join('')\n);\n","/**\n * \n * @param v\n */\nexport function isRealNumber(v: any) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n","import { Types } from '@antv/g2';\nimport { isArray, isNumber } from '@antv/util';\n\n/**\n *  padding \n * @param padding\n */\nexport function normalPadding(padding: number | number[] | 'auto'): [number, number, number, number] {\n  if (isNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n  if (isArray(padding)) {\n    const length = padding.length;\n\n    if (length === 1) {\n      return [padding[0], padding[0], padding[0], padding[0]];\n    }\n    if (length === 2) {\n      return [padding[0], padding[1], padding[0], padding[1]];\n    }\n    if (length === 3) {\n      return [padding[0], padding[1], padding[2], padding[1]];\n    }\n    if (length === 4) {\n      return padding as [number, number, number, number];\n    }\n  }\n\n  return [0, 0, 0, 0];\n}\n\n/**\n *  appendPadding\n */\nexport function getAdjustAppendPadding(padding: Types.ViewAppendPadding, position = 'bottom', append = 25) {\n  const currentAppendPadding = normalPadding(padding);\n\n  const PADDING = [\n    position.startsWith('top') ? append : 0,\n    position.startsWith('right') ? append : 0,\n    position.startsWith('bottom') ? append : 0,\n    position.startsWith('left') ? append : 0,\n  ];\n  return [\n    currentAppendPadding[0] + PADDING[0],\n    currentAppendPadding[1] + PADDING[1],\n    currentAppendPadding[2] + PADDING[2],\n    currentAppendPadding[3] + PADDING[3],\n  ];\n}\n\n/**\n *  padding  appendPadding  padding\n * @param array\n */\nexport function resolveAllPadding(paddings: Types.ViewPadding[]) {\n  //  padding  normal\n  const normalPaddings = paddings.map((item) => normalPadding(item));\n  let finalPadding = [0, 0, 0, 0];\n  if (normalPaddings.length > 0) {\n    finalPadding = finalPadding.map((item, index) => {\n      //  padding \n      normalPaddings.forEach((d, i) => {\n        item += normalPaddings[i][index];\n      });\n      return item;\n    });\n  }\n  return finalPadding;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { Point, Position } from '../types/common';\n\nexport function points2Path(points: Point[], isInCircle: boolean) {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  let prevPoint: Position;\n  let nextPoint: Position;\n  const hasConstraint = !!constraint;\n  let min: Position;\n  let max: Position;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n    min = vec2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vec2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vec2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vec2.distance(point, prevPoint);\n    let d1 = vec2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vec2.scale([0, 0], v, -d0);\n    const v2 = vec2.scale([0, 0], v, d1);\n\n    let cp0 = vec2.add([0, 0], point, v1);\n    let cp1 = vec2.add([0, 0], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vec2.max([0, 0], cp0, min);\n      cp0 = vec2.min([0, 0], cp0, max);\n      cp1 = vec2.max([0, 0], cp1, min);\n      cp1 = vec2.min([0, 0], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]) {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]) {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return points2Path(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n","import { IGroup, View } from '@antv/g2';\nimport { each, get, isFunction, isNumber, isString } from '@antv/util';\nimport { Datum, ShapeStyle, Statistic, StatisticText } from '../types';\nimport { kebabCase } from './kebab-case';\nimport { pick } from './pick';\n\n/**\n * @desc  html-statistic  style  ( canvas  shapeStyle  css)\n *\n * @param width\n * @param style\n */\nexport function adapteStyle(style?: StatisticText['style']): object {\n  const styleObject = {\n    overflow: 'hidden',\n    'white-space': 'nowrap',\n    'text-overflow': 'ellipsis',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n\n  const shapeStyleKeys = [\n    'stroke',\n    'lineWidth',\n    'shadowColor',\n    'strokeOpacity',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'fill',\n  ];\n\n  //  shapeStyle   start\n  if (get(style, 'fill')) {\n    styleObject['color'] = style['fill'];\n  }\n  const {\n    shadowColor,\n    shadowBlur = 0,\n    shadowOffsetX = 0,\n    shadowOffsetY = 0,\n  } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['text-shadow'] = `${[shadowColor, `${shadowOffsetX}px`, `${shadowOffsetY}px`, `${shadowBlur}px`].join(\n    ' '\n  )}`;\n\n  const { stroke, lineWidth = 0 } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['-webkit-text-stroke'] = `${[`${lineWidth}px`, stroke].join(' ')}`;\n  //  shapeStyle   end\n\n  each(style, (v, k) => {\n    //   shapeStyle  fontSize \n    if (['fontSize'].includes(k) && isNumber(v)) {\n      styleObject[kebabCase(k)] = `${v}px`;\n    } else if (k && !shapeStyleKeys.includes(k)) {\n      styleObject[kebabCase(k)] = `${v}`;\n    }\n  });\n\n  return styleObject;\n}\n\n/**\n * @desc  html-statistic \n *\n * - \n */\nexport function setStatisticContainerStyle(container: HTMLElement, style: Partial<CSSStyleDeclaration>) {\n  container.style['pointer-events'] = 'none';\n  each(style, (v, k) => {\n    if (k && v) {\n      container.style[k] = v;\n    }\n  });\n}\n\n/**\n *  html-annotation position  [50%, 50%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderStatistic = (chart: View, options: { statistic: Statistic; plotType: string }, datum?: Datum) => {\n  const { statistic, plotType } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option, idx) => {\n    if (!option) {\n      return;\n    }\n    let transform = '';\n    if (idx === 0) {\n      transform = contentOpt ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n    } else {\n      transform = titleOpt ? 'translate(-50%, 0)' : 'translate(-50%, -50%)';\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n\n    chart.annotation().html({\n      position: ['50%', '50%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        let containerW = 0;\n        if (plotType === 'pie' || plotType === 'ring-progress') {\n          containerW = coordinate.getRadius() * coordinate.innerRadius * 2;\n        } else if (plotType === 'liquid') {\n          const liquidShape = get(view.geometries, [0, 'elements', 0, 'shape']);\n          if (liquidShape) {\n            // \n            const path = (liquidShape as IGroup).find((t) => t.get('name') === 'wrap');\n            const { width } = path.getCanvasBBox();\n            containerW = width;\n          }\n        } else if (!containerW) {\n          // \n          containerW = coordinate.getWidth();\n        }\n        setStatisticContainerStyle(container, {\n          width: `${containerW}px`,\n          transform,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      // @ts-ignore\n      key: `${idx === 0 ? 'top' : 'bottom'}-statistic`,\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n\n/**\n *  html-annotation for gauge ( plot),  position  [50%, 100%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderGaugeStatistic = (chart: View, options: { statistic: Statistic }, datum?: Datum) => {\n  const { statistic } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option) => {\n    if (!option) {\n      return;\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n    chart.annotation().html({\n      position: ['50%', '100%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        // \n        const polarCoord = view.views[0].getCoordinate();\n        const polarCenter = polarCoord.getCenter();\n        const polarRadius = polarCoord.getRadius();\n        const polarMaxY = Math.max(Math.sin(polarCoord.startAngle), Math.sin(polarCoord.endAngle)) * polarRadius;\n        const offsetY = polarCenter.y + polarMaxY - coordinate.y.start - parseFloat(get(style, 'fontSize', 0));\n\n        const containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n        setStatisticContainerStyle(container, {\n          width: `${containerWidth}px`,\n          transform: `translate(-50%, ${offsetY}px)`,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n","import { reduce } from '@antv/util';\n/**\n * \n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source: string, data?: object): string {\n  if (!data) {\n    return source;\n  }\n  return reduce(\n    // @ts-ignore\n    data,\n    (r: string, v: string, k: string) => r.replace(new RegExp(`{\\\\s*${k}\\\\s*}`, 'g'), v),\n    source\n  );\n}\n","import { Geometry, Types, View } from '@antv/g2';\nimport { each, isFunction } from '@antv/util';\nimport { Options } from '../types';\nimport { Animation } from '../types/animation';\n\n/**\n *  Chart  id  View\n * @param chart\n * @param id\n */\nexport function findViewById(chart: View, id: string): View {\n  return chart.views.find((view: View) => view.id === id);\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getViews(view: View): View[] {\n  const parent = view.parent;\n  return parent ? parent.views : [];\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSiblingViews(view: View): View[] {\n  return getViews(view).filter((sub) => sub !== view);\n}\n\n/**\n *  Geometries \n * @param view View\n * @param animation \n */\nexport function addViewAnimation(\n  view: View,\n  animation: Options['animation'],\n  geometries: Geometry<Types.ShapePoint>[] = view.geometries\n) {\n  //  view \n  if (typeof animation === 'boolean') {\n    view.animate(animation);\n  } else {\n    view.animate(true);\n  }\n\n  //  Geometry \n  each(geometries, (g: Geometry) => {\n    let animationCfg;\n    if (isFunction(animation)) {\n      animationCfg = animation(g.type || g.shapeType, g) || true;\n    } else {\n      animationCfg = animation;\n    }\n\n    g.animate(animationCfg as Animation);\n  });\n}\n","import { PatternCfg } from '../../types/pattern';\n\n/**\n * \n */\nexport function getPixelRatio(): number {\n  return typeof window === 'object' ? window?.devicePixelRatio : 2;\n}\n\n/**\n *  cavnas\n */\nexport function initCanvas(width: number, height: number = width): HTMLCanvasElement {\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = getPixelRatio();\n  // \n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // \n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const ctx = canvas.getContext('2d');\n  ctx.scale(pixelRatio, pixelRatio);\n\n  return canvas;\n}\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param width\n * @param height\n */\nexport function drawBackground(\n  context: CanvasRenderingContext2D,\n  cfg: PatternCfg,\n  width: number,\n  height: number = width\n) {\n  const { backgroundColor, opacity } = cfg;\n\n  context.globalAlpha = opacity;\n  context.fillStyle = backgroundColor;\n\n  context.beginPath();\n  context.fillRect(0, 0, width, height);\n  context.closePath();\n}\n\n/**\n * \n *\n * @param size \n * @param padding \n * @param isStagger \n * @reutrn \n */\nexport function getUnitPatternSize(size: number, padding: number, isStagger: boolean): number {\n  // , unitSize \n  const unitSize = size + padding;\n  return isStagger ? unitSize * 2 : unitSize;\n}\n\n/**\n * \n *\n * @param unitSize \n * @param isStagger \n * @reutrn  x,y \n */\nexport function getSymbolsPosition(unitSize: number, isStagger: boolean): number[][] {\n  // ,  dot\n  const symbolsPos = isStagger\n    ? [\n        [unitSize * (1 / 4), unitSize * (1 / 4)],\n        [unitSize * (3 / 4), unitSize * (3 / 4)],\n      ]\n    : [[unitSize * (1 / 2), unitSize * (1 / 2)]];\n  return symbolsPos;\n}\n\n/**\n *  pattern , \n *\n * @param pattern \n * @param dpr  \n * @param rotation \n */\nexport function transformMatrix(dpr: number, rotation: number) {\n  const radian = (rotation * Math.PI) / 180;\n  const matrix = {\n    a: Math.cos(radian) * (1 / dpr),\n    b: Math.sin(radian) * (1 / dpr),\n    c: -Math.sin(radian) * (1 / dpr),\n    d: Math.cos(radian) * (1 / dpr),\n    e: 0,\n    f: 0,\n  };\n  return matrix;\n}\n","import { DotPatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  drawBackground,\n  getPixelRatio,\n  getSymbolsPosition,\n  getUnitPatternSize,\n  initCanvas,\n  transformMatrix,\n} from './util';\n\n/**\n * dotPattern\n */\nexport const defaultDotPatternCfg = {\n  size: 6,\n  padding: 2,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n  isStagger: true,\n};\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param x x\n * @param y y\n */\nexport function drawDot(context: CanvasRenderingContext2D, cfg: DotPatternCfg, x: number, y: number) {\n  const { size, fill, lineWidth, stroke, fillOpacity } = cfg;\n\n  context.beginPath();\n  context.globalAlpha = fillOpacity;\n  context.fillStyle = fill;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.arc(x, y, size / 2, 0, 2 * Math.PI, false);\n  context.fill();\n  if (lineWidth) {\n    context.stroke();\n  }\n  context.closePath();\n}\n\n/**\n *  dot pattern HTMLCanvasElement\n *\n * @param cfg\n * @returns HTMLCanvasElement\n */\nexport function createDotPattern(cfg?: DotPatternCfg): CanvasPattern {\n  const dotCfg = deepAssign({}, defaultDotPatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = dotCfg;\n\n  //  dots\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const dots = getSymbolsPosition(unitSize, isStagger);\n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgrounddots\n  drawBackground(ctx, dotCfg, unitSize);\n  for (const [x, y] of dots) {\n    drawDot(ctx, dotCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { LinePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport { drawBackground, getPixelRatio, initCanvas, transformMatrix } from './util';\n\n/**\n * linePattern  \n */\nexport const defaultLinePatternCfg = {\n  rotation: 45,\n  spacing: 5,\n  opacity: 1,\n  backgroundColor: 'transparent',\n  strokeOpacity: 0.5,\n  stroke: '#fff',\n  lineWidth: 2,\n};\n\n/**\n * line\n *\n * @param context canvasContext\n * @param cfg linePattern \n * @param d  path  d\n */\nexport function drawLine(context: CanvasRenderingContext2D, cfg: LinePatternCfg, d: string) {\n  const { stroke, lineWidth, strokeOpacity } = cfg;\n  const path = new Path2D(d);\n\n  context.globalAlpha = strokeOpacity;\n  context.lineCap = 'square';\n  context.strokeStyle = lineWidth ? stroke : 'transparent';\n  context.lineWidth = lineWidth;\n  context.stroke(path);\n}\n\n/**\n *  linePattern\n */\nexport function createLinePattern(cfg?: LinePatternCfg): CanvasPattern {\n  const lineCfg = deepAssign({}, defaultLinePatternCfg, cfg);\n\n  const { spacing, rotation, lineWidth } = lineCfg;\n\n  //  pattern  path  d\n  const width = spacing + lineWidth || 1;\n  const height = spacing + lineWidth || 1;\n  const d = `\n            M 0 0 L ${width} 0\n            M 0 ${height} L ${width} ${height}\n            `;\n\n  //  patternCanvas\n  const canvas = initCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundline\n  drawBackground(ctx, lineCfg, width, height);\n  drawLine(ctx, lineCfg, d);\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  //  Pattern \n  return pattern;\n}\n","import { SquarePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  drawBackground,\n  getPixelRatio,\n  getSymbolsPosition,\n  getUnitPatternSize,\n  initCanvas,\n  transformMatrix,\n} from './util';\n\n/**\n * squarePattern  \n */\nexport const defaultSquarePatternCfg = {\n  size: 6,\n  padding: 1,\n  isStagger: true,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n};\n\n/**\n * square\n *\n * @param context canvasContext\n * @param cfg squarePattern \n * @param xy square\n */\nexport function drawSquare(context: CanvasRenderingContext2D, cfg: SquarePatternCfg, x: number, y: number) {\n  const { stroke, size, fill, lineWidth, fillOpacity } = cfg;\n\n  context.globalAlpha = fillOpacity;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.fillStyle = fill;\n  // xy\n  context.strokeRect(x - size / 2, y - size / 2, size, size);\n  context.fillRect(x - size / 2, y - size / 2, size, size);\n}\n\n/**\n *  squarePattern\n */\nexport function createSquarePattern(cfg?: SquarePatternCfg): CanvasPattern {\n  const squareCfg = deepAssign({}, defaultSquarePatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = squareCfg;\n\n  //  squares\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const squares = getSymbolsPosition(unitSize, isStagger); //  dots \n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundsquares\n  drawBackground(ctx, squareCfg, unitSize);\n  for (const [x, y] of squares) {\n    drawSquare(ctx, squareCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { DotPatternCfg, LinePatternCfg, SquarePatternCfg } from '../../types/pattern';\nimport { createDotPattern } from './dot';\nimport { createLinePattern } from './line';\nimport { createSquarePattern } from './square';\n\nexport type PatternOption =\n  | {\n      type: 'dot';\n      cfg?: DotPatternCfg;\n    }\n  | {\n      type: 'line';\n      cfg?: LinePatternCfg;\n    }\n  | {\n      type: 'square';\n      cfg?: SquarePatternCfg;\n    };\n\n/**\n *  CanvasPattern \n * @param options\n * @returns\n */\nexport function getCanvasPattern(options: PatternOption): CanvasPattern | undefined {\n  const { type, cfg } = options;\n\n  let pattern;\n\n  switch (type) {\n    case 'dot':\n      pattern = createDotPattern(cfg);\n      break;\n    case 'line':\n      pattern = createLinePattern(cfg);\n      break;\n    case 'square':\n      pattern = createSquarePattern(cfg);\n      break;\n    default:\n      break;\n  }\n\n  return pattern;\n}\n","import { Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Datum, Options, StyleAttr } from '../types';\nimport { deepAssign } from '../utils';\nimport { getCanvasPattern } from '../utils/pattern';\n\n/**\n *  Pattern  options colorField/seriesField/stackField \n */\ntype OptionsRequiredInPattern = Omit<Options, 'data'>;\n\n/**\n * Pattern \n *   view \n *\n * @param key key of style property\n * @returns\n */\nexport function pattern(key: string) {\n  return <O extends OptionsRequiredInPattern = OptionsRequiredInPattern>(params: Params<O>): Params<O> => {\n    const { options, chart } = params;\n    const { pattern: patternOption } = options;\n\n    //  pattern \n    if (!patternOption) {\n      return params;\n    }\n\n    /** ~~~~~~~  ~~~~~~~ */\n\n    const style: StyleAttr = (datum?: Datum, ...args: any[]) => {\n      const { defaultColor } = chart.getTheme();\n      let color = defaultColor;\n\n      const colorAttribute = chart.geometries?.[0]?.getAttribute('color');\n      if (colorAttribute) {\n        const colorField = colorAttribute.getFields()[0];\n        const seriesValue = get(datum, colorField);\n        color = Util.getMappingValue(colorAttribute, seriesValue, colorAttribute.values?.[0] || defaultColor);\n      }\n\n      let pattern: CanvasPattern = patternOption as CanvasPattern;\n\n      // 1.  patternOption `(datum: Datum, color: string) => CanvasPattern`\n      if (typeof patternOption === 'function') {\n        pattern = patternOption.call(this, datum, color);\n      }\n\n      // 2.  pattern  CanvasPattern fill\n      if (pattern instanceof CanvasPattern === false) {\n        //  createPattern(PatternStyle)  CanvasPattern\n        pattern = getCanvasPattern(deepAssign({}, { cfg: { backgroundColor: color } }, pattern));\n      }\n\n      const styleOption = options[key] as StyleAttr;\n\n      return {\n        ...(typeof styleOption === 'function' ? styleOption.call(this, datum, ...args) : styleOption || {}),\n        fill: pattern || color,\n      };\n    };\n\n    return deepAssign({}, params, { options: { [key]: style } });\n  };\n}\n","import { Geometry, Types } from '@antv/g2';\nimport { each, isNil, isObject } from '@antv/util';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { Axis } from '../types/axis';\nimport { Transformations } from '../types/coordinate';\nimport { Interaction } from '../types/interaction';\nimport { addViewAnimation, deepAssign, pick } from '../utils';\n\n/**\n *  legend ,  colorField  seriesField \n * @param params\n */\nexport function legend<O extends Pick<Options, 'legend'> & { colorField?: string; seriesField?: string }>(\n  params: Params<O>\n): Params<O> {\n  const { chart, options } = params;\n  const { legend, colorField, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField || seriesField) {\n    chart.legend(colorField || seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * @param params\n */\nexport function tooltip<O extends Pick<Options, 'tooltip'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== undefined) {\n    chart.tooltip(tooltip);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<Options, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { interactions } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation<O extends Pick<Options, 'animation'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  addViewAnimation(chart, animation);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function theme<O extends Pick<Options, 'theme'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { theme } = options;\n\n  // \n  if (theme) {\n    chart.theme(theme);\n  }\n  return params;\n}\n\n/**\n *  state \n * @param params\n */\nexport function state<O extends Options>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { state } = options;\n\n  if (state) {\n    each(chart.geometries, (geometry: Geometry) => {\n      geometry.state(state);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function slider(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { slider } = options;\n\n  chart.option('slider', slider);\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function scrollbar(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { scrollbar } = options;\n\n  chart.option('scrollbar', scrollbar);\n\n  return params;\n}\n\n/**\n * scale  adaptor\n * @param axes\n */\nexport function scale(axes: Record<string, Axis>, meta?: Options['meta']) {\n  return function <O extends Pick<Options, 'meta'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    // 1.  scale \n    let scales: Record<string, any> = {};\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n\n    // 2. meta  scale \n    scales = deepAssign({}, meta, options.meta, scales);\n\n    chart.scale(scales);\n\n    return params;\n  };\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(annotationOptions?: Options['annotations']) {\n  return function <O extends Pick<Options, 'annotations'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    const annotationController = chart.getController('annotation');\n\n    /**  annotation */\n    each([...(options.annotations || []), ...(annotationOptions || [])], (annotationOption) => {\n      // @ts-ignore\n      annotationController.annotation(annotationOption);\n    });\n\n    return params;\n  };\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { yAxis, limitInPlot } = options;\n\n  let value = limitInPlot;\n\n  //  limitInPlot yAxis  min/max  limitInPlot\n  if (isObject(yAxis) && isNil(limitInPlot)) {\n    if (Object.values(pick(yAxis, ['min', 'max', 'minLimit', 'maxLimit'])).some((value) => !isNil(value))) {\n      value = true;\n    } else {\n      value = false;\n    }\n  }\n  chart.limitInPlot = value;\n\n  return params;\n}\n\n/**\n * \n */\nexport function transformations(coordinateType: Types.CoordinateOption['type'] = 'rect') {\n  return (params: Params<Options & { coordinate: Transformations }>) => {\n    const { chart, options } = params;\n    const { coordinate } = options;\n\n    const actions: Types.CoordinateActions[] = Array.from(coordinate || [])\n      .map((cfg) => {\n        if (cfg.type === 'reflectX') return ['reflect', 'x'] as Types.CoordinateActions;\n        if (cfg.type === 'reflectY') return ['reflect', 'y'] as Types.CoordinateActions;\n        if (cfg.type === 'transpose') return ['transpose'] as Types.CoordinateActions;\n\n        return null;\n      })\n      .filter((d) => !!d);\n\n    if (actions.length !== 0) {\n      chart.coordinate({ type: coordinateType, actions });\n    }\n\n    return params;\n  };\n}\n\nexport { pattern } from './pattern';\n","import { each } from '@antv/util';\n/**\n * @file ...\n */\nexport const GLOBAL = {\n  /**  */\n  locale: 'en-US',\n};\n\n/**\n * \n * @param key\n * @param value\n */\nexport function setGlobal(datum: Record<string, any>): void {\n  each(datum, (v, k) => (GLOBAL[k] = v));\n}\n","import { get } from '@antv/util';\nimport { Locale } from '../types/locale';\nimport { template } from '../utils';\nimport { GLOBAL } from './global';\n\nconst LocaleMap = {};\n\n/**\n * register a locale\n * @param locale\n * @param localeObj\n */\nexport function registerLocale(locale: string, localeObj: Locale) {\n  LocaleMap[locale] = localeObj;\n}\n\n/**\n * get locale of specific language\n * @param lang\n * @returns\n */\nexport function getLocale(locale: string) {\n  return {\n    get: (key: string | string[], obj?: Record<string, any>) => {\n      return template(\n        get(LocaleMap[locale], key) || get(LocaleMap[GLOBAL.locale], key) || get(LocaleMap['en-US'], key) || key,\n        obj\n      );\n    },\n  };\n}\n","import { get } from '@antv/util';\nimport { Tooltip, TooltipMapping } from '../types/tooltip';\n\n/**\n *  tooltip \n * @param tooltip\n * @param defaultFields\n */\nexport function getTooltipMapping(tooltip: Tooltip, defaultFields: string[]): TooltipMapping {\n  if (tooltip === false) {\n    return {\n      fields: false, //  tooltip\n    };\n  }\n\n  let fields = get(tooltip, 'fields');\n  const formatter = get(tooltip, 'formatter');\n\n  if (formatter && !fields) {\n    fields = defaultFields;\n  }\n\n  return {\n    fields,\n    formatter,\n  };\n}\n","import { isEmpty, isFunction, isNumber, isObject, isString, uniq } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { ColorAttr, Datum, Options, RawFields, ShapeAttr, SizeAttr, StyleAttr, TooltipAttr } from '../../types';\nimport { Label } from '../../types/label';\nimport { State } from '../../types/state';\nimport { transformLabel } from '../../utils';\n\n/**\n * \n */\nexport type MappingOptions = {\n  /** color  */\n  readonly color?: ColorAttr;\n  /** shape  */\n  readonly shape?: ShapeAttr;\n  /** ,  */\n  readonly size?: SizeAttr;\n  /**  */\n  readonly style?: StyleAttr;\n  /** tooltip  */\n  readonly tooltip?: TooltipAttr;\n};\n\n/**\n * \n * // TODO  adjust  field  styleFieldlabelField \n */\nexport type Geometry = {\n  /** geometry , 'line' | 'interval' | 'point' | 'area' | 'polygon' */\n  readonly type?: string;\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly colorField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** style  */\n  readonly styleField?: string;\n  /** tooltip  */\n  readonly tooltipFields?: string[] | false;\n  /** ,  mapping  */\n  readonly rawFields?: RawFields;\n  /**  */\n  readonly mapping?: MappingOptions;\n  /** label  */\n  readonly label?: Label;\n  /**  */\n  readonly state?: State;\n  /**  registerShape  */\n  readonly customInfo?: any;\n  /** geometry params */\n  readonly args?: any;\n};\n\n/**\n * geometry options\n */\nexport type GeometryOptions = Geometry & Partial<Options>;\n\n/**\n * \n * @param options\n * @param field\n */\nexport function getMappingField(\n  o: GeometryOptions,\n  field: 'color' | 'shape' | 'size' | 'style'\n): {\n  mappingFields: string[];\n  tileMappingField: string;\n} {\n  const { type, xField, yField, colorField, shapeField, sizeField, styleField } = o;\n  let { rawFields } = o;\n\n  let fields = [];\n  rawFields = (isFunction(rawFields) ? rawFields(type, field) : rawFields) || [];\n\n  //  color  bar  widthRatio \n  //  color  colorField  + rawFields\n  // shape, size \n  if (field === 'color') {\n    fields = [colorField || xField, ...rawFields];\n  } else if (field === 'shape') {\n    fields = [shapeField || xField, ...rawFields];\n  } else if (field === 'size') {\n    fields = [sizeField || xField, ...rawFields];\n  } else {\n    fields = [xField, yField, colorField, shapeField, sizeField, styleField, ...rawFields];\n\n    // \n    const idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n\n    const f = fields[idx];\n    // \n    fields.splice(idx, 1);\n    // \n    fields.unshift(f);\n  }\n\n  const mappingFields = uniq(fields.filter((f) => !!f));\n  /**\n   *  line geometry  color \n   * eg:\n   *   geometry.color(xField, ()=> '#f24')\n   */\n  const tileMappingField =\n    type === 'line' && [xField, yField].includes(mappingFields.join('*')) ? '' : mappingFields.join('*');\n  return {\n    mappingFields,\n    tileMappingField,\n  };\n}\n\n/**\n * \n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields: string[], func: (datum: Datum) => any) {\n  if (!func) return undefined;\n  // \n  return (...args: any[]) => {\n    const params: Datum = {};\n\n    mappingFields.forEach((f: string, idx: number) => {\n      params[f] = args[idx];\n    });\n\n    //  undefined\n    delete params['undefined'];\n\n    return func(params);\n  };\n}\n\n/**\n *  geometry  adaptor\n * @param params\n */\nexport function geometry<O extends GeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const {\n    type,\n    args,\n    mapping,\n    xField,\n    yField,\n    colorField,\n    shapeField,\n    sizeField,\n    tooltipFields,\n    label,\n    state,\n    customInfo,\n  } = options;\n\n  //  mapping \n  if (!mapping) {\n    return params;\n  }\n\n  const { color, shape, size, style, tooltip } = mapping;\n\n  //  geometry\n  const geometry = chart[type](args).position(`${xField}*${yField}`);\n\n  /**\n   * color \n   * g.color('red');\n   * g.color('color', ['red', 'blue']);\n   * g.color('x', (x, y) => 'red');\n   * g.color('color', (color, x, y) => 'red');\n   */\n  if (isString(color)) {\n    colorField ? geometry.color(colorField, color) : geometry.color(color);\n  } else if (isFunction(color)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'color');\n    geometry.color(tileMappingField, getMappingFunction(mappingFields, color));\n  } else {\n    colorField && geometry.color(colorField, color);\n  }\n\n  /**\n   * shape \n   * g.shape('rect');\n   * g.shape('shape', ['rect', 'circle']);\n   * g.shape('x*y', (x, y) => 'rect');\n   * g.shape('shape*x*y', (shape, x, y) => 'rect');\n   */\n  if (isString(shape)) {\n    shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape]  G2 \n  } else if (isFunction(shape)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'shape');\n    geometry.shape(tileMappingField, getMappingFunction(mappingFields, shape));\n  } else {\n    shapeField && geometry.shape(shapeField, shape);\n  }\n\n  /**\n   * size \n   * g.size(10);\n   * g.size('size', [10, 20]);\n   * g.size('x*y', (x, y) => 10);\n   * g.color('size*x*y', (size, x, y) => 1-);\n   */\n  if (isNumber(size)) {\n    sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n  } else if (isFunction(size)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'size');\n    geometry.size(tileMappingField, getMappingFunction(mappingFields, size));\n  } else {\n    sizeField && geometry.size(sizeField, size);\n  }\n\n  /**\n   * style \n   * g.style({ fill: 'red' });\n   * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n   */\n  if (isFunction(style)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'style');\n    geometry.style(tileMappingField, getMappingFunction(mappingFields, style));\n  } else if (isObject(style)) {\n    geometry.style(style);\n  }\n\n  /**\n   * tooltip  API\n   * g.tooltip('x*y*color', (x, y, color) => ({ name, value }));\n   * g.tooltip(false);\n   */\n  if (tooltipFields === false) {\n    geometry.tooltip(false);\n  } else if (!isEmpty(tooltipFields)) {\n    geometry.tooltip(tooltipFields.join('*'), getMappingFunction(tooltipFields, tooltip));\n  }\n\n  /**\n   * label \n   */\n  if (label === false) {\n    geometry.label(false);\n  } else if (label) {\n    const { callback, fields, ...cfg } = label;\n    geometry.label({\n      fields: fields || [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  /**\n   * state \n   */\n  if (state) {\n    geometry.state(state);\n  }\n\n  /**\n   * \n   */\n  if (customInfo) {\n    geometry.customInfo(customInfo);\n  }\n\n  //  x y \n  [xField, yField]\n    .filter((f: string) => f !== colorField)\n    .forEach((f: string) => {\n      chart.legend(f, false);\n    });\n  return {\n    ...params,\n    // geometry adaptor  geometry  adaptor type \n    ext: { geometry },\n  };\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface AreaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /** area  */\n  readonly area?: MappingOptions;\n}\n\n/**\n * area geometry \n * @param params\n */\nexport function area<O extends AreaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { area, xField, yField, seriesField, smooth, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return area\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'area',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: smooth ? 'smooth' : 'area',\n                tooltip: formatter,\n              },\n              area\n            ),\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface EdgeGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** edge  */\n  readonly edge?: MappingOptions;\n}\n\n/**\n * edge \n * @param params\n */\nexport function edge<O extends EdgeGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { edge, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return edge\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'edge',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...edge,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry, getTheme, ShapeAttrs } from '@antv/g2';\nimport { isNil, isObject } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface IntervalGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField: string;\n  /** y  */\n  readonly yField: string;\n  /**  groupFieldcolorField stackFieldcolorField  */\n  readonly seriesField?: string;\n  /**  */\n  readonly isGroup?: boolean;\n  /**  */\n  readonly isStack?: boolean;\n  /**  [0-1] */\n  readonly widthRatio?: number;\n  /** () */\n  readonly intervalPadding?: number;\n  /**  [0-1] */\n  readonly marginRatio?: number;\n  /** () */\n  readonly dodgePadding?: number;\n  /**  */\n  readonly minColumnWidth?: number;\n  /**  */\n  readonly maxColumnWidth?: number;\n  /**  */\n  readonly columnBackground?: { style: ShapeAttrs };\n  /**  colorshapesizestyletooltip */\n  readonly interval?: MappingOptions;\n  /**  seriesField , isGroup: true  groupField */\n  readonly groupField?: string;\n}\n\n/**\n *  adaptor\n * @param params\n */\nfunction otherAdaptor<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options, ext } = params;\n  const { seriesField, isGroup, isStack, marginRatio, widthRatio, groupField, theme } = options;\n\n  /**\n   * adjust\n   */\n  const adjust = [];\n  if (seriesField) {\n    // group\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        marginRatio,\n      });\n    }\n    // stack\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n        marginRatio,\n      });\n    }\n  }\n\n  if (adjust.length && ext?.geometry) {\n    const g = ext?.geometry as Geometry;\n    g.adjust(adjust);\n  }\n\n  // widthRatio\n  if (!isNil(widthRatio)) {\n    chart.theme(\n      deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n        // columWidthRatio  theme \n        columnWidthRatio: widthRatio,\n      })\n    );\n  }\n\n  return params;\n}\n\nexport function interval<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const {\n    xField,\n    yField,\n    interval,\n    seriesField,\n    tooltip,\n    minColumnWidth,\n    maxColumnWidth,\n    columnBackground,\n    dodgePadding,\n    intervalPadding,\n    useDeferredLabel,\n  } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  //  interval \n  const { ext } = interval\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'interval',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...interval,\n            },\n            args: {\n              dodgePadding,\n              intervalPadding,\n              minColumnWidth,\n              maxColumnWidth,\n              background: columnBackground,\n              useDeferredLabel,\n            },\n          },\n        })\n      )\n    : params;\n\n  return otherAdaptor({\n    ...params,\n    ext,\n  });\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /**  */\n  readonly connectNulls?: boolean;\n  /** line  */\n  readonly line?: MappingOptions;\n  /**  */\n  readonly stepType?: string;\n}\n\n/**\n * line \n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, xField, yField, seriesField, smooth, connectNulls, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return line\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: stepType || (smooth ? 'smooth' : 'line'),\n                tooltip: formatter,\n              },\n              line\n            ),\n            args: { connectNulls, useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** point  */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point \n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface PolygonGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly polygon?: MappingOptions;\n}\n\n/**\n * polygon \n * @param params\n */\nexport function polygon<O extends PolygonGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { polygon, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return polygon\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'polygon',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...polygon,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface SchemaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly schema?: MappingOptions;\n}\n\n/**\n * schema \n * @param params\n */\nexport function schema<O extends SchemaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { schema, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return schema\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'schema',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...schema,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import EE from '@antv/event-emitter';\nimport { Chart, Element, Event, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { bind } from 'size-sensor';\nimport { Annotation, Options, Size, StateCondition, StateName, StateObject } from '../types';\nimport { deepAssign, getAllElementsRecursively, getContainerSize, pick } from '../utils';\nimport { Adaptor } from './adaptor';\n\n/**  pick  */\nexport type PickOptions = Pick<\n  Options,\n  | 'width'\n  | 'height'\n  | 'padding'\n  | 'appendPadding'\n  | 'renderer'\n  | 'pixelRatio'\n  | 'autoFit'\n  | 'syncViewPadding'\n  | 'supportCSSTransform'\n  | 'limitInPlot'\n  | 'locale'\n  | 'defaultInteractions'\n>;\n\nconst SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\n\n/** plot  */\nexport const PLOT_CONTAINER_OPTIONS = [\n  'padding',\n  'appendPadding',\n  'renderer',\n  'pixelRatio',\n  'syncViewPadding',\n  'supportCSSTransform',\n  'limitInPlot',\n];\n\n/**\n *  plot \n */\nexport abstract class Plot<O extends PickOptions> extends EE {\n  /**\n   *  options \n   * \n   */\n  static getDefaultOptions(): any {\n    return {\n      renderer: 'canvas',\n      xAxis: {\n        nice: true,\n        label: {\n          autoRotate: false,\n          autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n        },\n      },\n      yAxis: {\n        nice: true,\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      animation: true,\n    };\n  }\n\n  /** plot  */\n  public abstract readonly type: string;\n  /** plot  schema  */\n  public options: O;\n  /** plot  dom */\n  public readonly container: HTMLElement;\n  /** G2 chart  */\n  public chart: Chart;\n  /** resizer unbind  */\n  private unbind: () => void;\n\n  constructor(container: string | HTMLElement, options: O) {\n    super();\n    this.container = typeof container === 'string' ? document.getElementById(container) : container;\n\n    this.options = deepAssign({}, this.getDefaultOptions(), options);\n\n    this.createG2();\n\n    this.bindEvents();\n  }\n\n  /**\n   *  G2 \n   */\n  private createG2() {\n    const { width, height, defaultInteractions } = this.options;\n\n    this.chart = new Chart({\n      container: this.container,\n      autoFit: false, // G2Plot  size-sensor  autoFit\n      ...this.getChartSize(width, height),\n      localRefresh: false, //  G \n      ...pick(this.options, PLOT_CONTAINER_OPTIONS),\n      defaultInteractions,\n    });\n\n    //  G2\n    this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'G2Plot');\n  }\n\n  /**\n   *  chart  width  height\n   * @param width\n   * @param height\n   */\n  private getChartSize(width: number, height: number): Size {\n    const chartSize = getContainerSize(this.container);\n    return { width: width || chartSize.width || 400, height: height || chartSize.height || 400 };\n  }\n\n  /**\n   *  G2 \n   */\n  private bindEvents() {\n    if (this.chart) {\n      this.chart.on('*', (e: Event) => {\n        if (e?.type) {\n          this.emit(e.type, e);\n        }\n      });\n    }\n  }\n\n  /**\n   *  options \n   * \n   */\n  protected getDefaultOptions(): any {\n    return Plot.getDefaultOptions();\n  }\n\n  /**\n   *  schema adaptor\n   */\n  protected abstract getSchemaAdaptor(): Adaptor<O>;\n\n  /**\n   * \n   */\n  public render() {\n    //  G2 \n    this.chart.clear();\n    //  view  view  options  legend legend \n    //  chart  options \n    //  G2 view.clear  options  resetOptions\n    // #1684  view  custom legend\n    // @ts-ignore\n    this.chart.options = {\n      data: [],\n      animate: true,\n    };\n    this.chart.views = []; //  views\n    //  adaptor\n    this.execAdaptor();\n    // \n    this.chart.render();\n    // \n    this.bindSizeSensor();\n  }\n\n  /**\n   * : \n   * @param options\n   */\n  public update(options: Partial<O>) {\n    this.updateOption(options);\n    this.render();\n  }\n\n  /**\n   * \n   * @param options\n   */\n  protected updateOption(options: Partial<O>) {\n    this.options = deepAssign({}, this.options, options);\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n\n  /**\n   * \n   * @override\n   * @param options\n   */\n  public changeData(data: any) {\n    // @ts-ignore\n    this.update({ data });\n    // TODO: \n    // this.chart.changeData(data);\n  }\n\n  /**\n   * \n   * @param width\n   * @param height\n   */\n  public changeSize(width: number, height: number) {\n    this.chart.changeSize(width, height);\n  }\n\n  /**\n   *  id \n   */\n  public addAnnotations(annotations: Annotation[], view?: View): void {\n    view = view ? view : this.chart;\n    const incoming = [...annotations];\n    const controller = view.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      let annotation = current[i];\n\n      const findIndex = incoming.findIndex((item) => item.id && item.id === annotation.id);\n      if (findIndex !== -1) {\n        annotation = deepAssign({}, annotation, incoming[findIndex]);\n        incoming.splice(findIndex, 1);\n      }\n      controller.annotation(annotation);\n    }\n\n    incoming.forEach((annotation) => controller.annotation(annotation));\n    view.render(true);\n  }\n\n  /**\n   *  id \n   */\n  public removeAnnotations(annotations: Array<{ id: string } & Partial<Annotation>>): void {\n    const controller = this.chart.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      const annotation = current[i];\n\n      if (!annotations.find((item) => item.id && item.id === annotation.id)) {\n        controller.annotation(annotation);\n      }\n    }\n\n    this.chart.render(true);\n  }\n  /**\n   * \n   */\n  public destroy() {\n    //  size-sensor \n    this.unbindSizeSensor();\n    // G2 \n    this.chart.destroy();\n    // \n    this.off();\n\n    this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n  }\n\n  /**\n   *  adaptor \n   */\n  protected execAdaptor() {\n    const adaptor = this.getSchemaAdaptor();\n\n    const { padding, appendPadding } = this.options;\n    //  padding\n    this.chart.padding = padding;\n    //  appendPadding\n    this.chart.appendPadding = appendPadding;\n\n    //  G2 API\n    adaptor({\n      chart: this.chart,\n      options: this.options,\n    });\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    this.chart.forceFit();\n  }\n\n  /**\n   *  dom \n   */\n  private bindSizeSensor() {\n    if (this.unbind) {\n      return;\n    }\n\n    const { autoFit = true } = this.options;\n    if (autoFit) {\n      this.unbind = bind(this.container, () => {\n        // \n        const { width, height } = getContainerSize(this.container);\n\n        //  resize \n        if (width !== this.chart.width || height !== this.chart.height) {\n          this.triggerResize();\n        }\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  private unbindSizeSensor() {\n    if (this.unbind) {\n      this.unbind();\n      this.unbind = undefined;\n    }\n  }\n}\n","import { map, reduce } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { isRealNumber } from '../number';\n\n/**\n * \n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data: Data, measure: string, groupField: string, as: string) {\n  // 1.  max \n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      const groupValue = datum[groupField];\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    const groupValue = datum[groupField];\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [as]: percentage,\n    };\n  });\n}\n\n/**\n * \n * @param data\n * @param measure  // \n * @param fields //  field\n * @param as // percent \n */\nexport function getDeepPercent(data: Record<string, any>[], measure: string, fields: string[], percent: string) {\n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      // key\n      const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    // key\n    const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [percent]: percentage,\n    };\n  });\n}\n\n/**\n *  ()\n * @param isPercent \n */\nexport function getDataWhetherPercentage(\n  data: Record<string, any>[],\n  yField: string,\n  groupField: string,\n  asField: string,\n  isPercent?: boolean\n) {\n  return !isPercent ? data : percent(data, yField, groupField, asField);\n}\n","import { Geometry } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction,\n  limitInPlot,\n  scale,\n  scrollbar,\n  slider,\n  theme,\n  tooltip,\n} from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { LineOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, lineShape, point: pointMapping, area: areaMapping, seriesField } = options;\n  const pointState = pointMapping?.state;\n  const areaState = areaMapping?.state;\n\n  chart.data(data);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      shapeField: seriesField,\n      line: {\n        color,\n        style: lineStyle,\n        shape: lineShape,\n      },\n      //  tooltip \n      // \n      point: pointMapping && {\n        color,\n        shape: 'circle',\n        ...pointMapping,\n      },\n      // \n      area: areaMapping && {\n        color,\n        ...areaMapping,\n      },\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n  const areaParams = deepAssign({}, primary, { options: { tooltip: false, state: areaState } });\n\n  line(primary);\n  point(second);\n  area(areaParams);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<LineOptions>): Params<LineOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data } = options;\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: adjustYMetaByZero(data, yField),\n      }\n    )\n  )(params);\n}\n\n/**\n * .  reflect \n * @param params\n */\nfunction coordinate(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { reflect } = options;\n  if (reflect) {\n    let p = reflect as any;\n    if (!isArray(p)) {\n      p = [p];\n    }\n    const actions = p.map((d) => ['reflect', d]);\n\n    chart.coordinate({ type: 'rect', actions });\n  }\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const lineGeometry = findGeometry(chart, 'line');\n\n  // label  false,   label\n  if (!label) {\n    lineGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    lineGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nexport function adjust(params: Params<Pick<LineOptions, 'isStack'>>): Params<any> {\n  const { chart, options } = params;\n  const { isStack } = options;\n\n  if (isStack) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LineOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    adjust,\n    theme,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    scrollbar,\n    interaction,\n    animation,\n    annotation(),\n    limitInPlot\n  )(params);\n}\n","import { Geometry } from '@antv/g2';\nimport { each, omit } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction,\n  limitInPlot,\n  pattern,\n  slider,\n  theme,\n  tooltip,\n  transformations,\n} from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { axis, legend, meta } from '../line/adaptor';\nimport { AreaOptions } from './types';\n\nexport { meta };\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    areaStyle,\n    areaShape,\n    color,\n    point: pointMapping,\n    line: lineMapping,\n    isPercent,\n    xField,\n    yField,\n    tooltip,\n    seriesField,\n    startOnZero,\n  } = options;\n  const pointState = pointMapping?.state;\n\n  const chartData = getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n  chart.data(chartData);\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name: datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n  const primary = deepAssign({}, params, {\n    options: {\n      area: {\n        color,\n        style: areaStyle,\n        shape: areaShape,\n      },\n      point: pointMapping && {\n        color,\n        ...pointMapping,\n      },\n      tooltip: tooltipOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    },\n  });\n  //  2px ( state fill  stroke )\n  const lineParams = {\n    chart,\n    options: deepAssign({ line: { size: 2 } }, omit(options as any, ['state']), {\n      //  tooltip \n      // \n      line: lineMapping && {\n        color,\n        ...lineMapping,\n      },\n      sizeField: seriesField,\n      state: lineMapping?.state,\n      tooltip: false,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    }),\n  };\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(lineParams);\n  point(pointParams);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const areaGeometry = findGeometry(chart, 'area');\n\n  // label  false,   label\n  if (!label) {\n    areaGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    areaGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nfunction adjust(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { isStack, isPercent, seriesField } = options;\n  if ((isPercent || isStack) && seriesField) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<AreaOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('areaStyle'),\n    transformations('rect'),\n    geometry,\n    meta,\n    adjust,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    annotation(),\n    interaction,\n    animation,\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  isStack: true,\n  // \n  line: {},\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { AreaOptions } from './types';\n\nexport type { AreaOptions };\n\nexport class Area extends Plot<AreaOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<AreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Area.getDefaultOptions();\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: AreaOptions['data']) {\n    this.updateOption({ data });\n    const { isPercent, xField, yField } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<AreaOptions> {\n    return adaptor;\n  }\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { BBox, ButtonCfg } from '../../types';\nimport { deepAssign, normalPadding } from '../../utils';\n\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Action  Button \n *\n * brush filter\n */\nexport const BUTTON_ACTION_CONFIG: ButtonCfg = {\n  padding: [8, 10],\n  text: 'reset',\n  textStyle: {\n    default: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n  },\n  buttonStyle: {\n    default: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    active: {\n      fill: '#e6e6e6',\n    },\n  },\n};\n\n/**\n * @override  G2 Button Action,  GUI\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    ...BUTTON_ACTION_CONFIG,\n  };\n\n  /**\n   *  mix \n   */\n  private getButtonCfg(): ButtonCfg & { name: string } {\n    const { view } = this.context;\n    const buttonCfg: ButtonCfg = get(view, ['interactions', 'filter-action', 'cfg', 'buttonConfig']);\n\n    return deepAssign(this.buttonCfg, buttonCfg, this.cfg);\n  }\n\n  /**\n   *  Button  \n   */\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    const textShape = this.drawText(group);\n    this.drawBackground(group, textShape.getBBox());\n\n    this.buttonGroup = group;\n  }\n\n  /**\n   * \n   */\n  private drawText(group: IGroup) {\n    const config = this.getButtonCfg();\n    // \n    return group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle?.default,\n      },\n    });\n  }\n\n  private drawBackground(group: IGroup, bbox: BBox) {\n    const config = this.getButtonCfg();\n    const padding = normalPadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: bbox.x - padding[3],\n        y: bbox.y - padding[0],\n        width: bbox.width + padding[1] + padding[3],\n        height: bbox.height + padding[0] + padding[2],\n        ...config.buttonStyle?.default,\n      },\n    });\n    buttonShape.toBack(); // \n\n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.buttonStyle?.active);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.buttonStyle?.default);\n    });\n\n    return buttonShape;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = Util.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport { ButtonAction };\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { BrushCfg } from '../types';\nimport { ButtonAction } from './actions/reset-button';\n\nregisterAction('brush-reset-button', ButtonAction, {\n  name: 'brush-reset-button',\n});\n\nregisterInteraction('filter-action', {});\n\n/**\n * G2  brushbrush-xbrush-y \n *\n * 1. element-range-highlight  brush-highlight(mask )\n * 2. brush-visible  brush \n */\n\nfunction isPointInView(context) {\n  return context.isInPlot();\n}\n\n/**\n *   start \n */\nexport function getInteractionCfg(interactionType: string, brushType?: string, options?: BrushCfg) {\n  const { mask, isStartEnable } = options || {};\n  const maskType = brushType || 'rect';\n\n  switch (interactionType) {\n    case 'brush':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: [\n              'brush:filter',\n              'brush:end',\n              `${maskType}-mask:end`,\n              `${maskType}-mask:hide`,\n              'brush-reset-button:show',\n            ],\n          },\n        ],\n        rollback: [\n          {\n            trigger: 'brush-reset-button:click',\n            action: ['brush:reset', 'brush-reset-button:hide', 'cursor:crosshair'],\n          },\n        ],\n      };\n    case 'brush-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mousemove', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          {\n            trigger: 'plot:mousemove',\n            action: 'cursor:default',\n            isEnable: (context) => (isStartEnable ? !isStartEnable(context) : false),\n          },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-x':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-x:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-x:filter', 'brush-x:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n      };\n    case 'brush-x-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-y':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-y:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-y:filter', 'brush-y:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-y:reset'] }],\n      };\n    case 'brush-y-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n\n    default:\n      return {};\n  }\n}\n\n// \nregisterInteraction('brush', getInteractionCfg('brush'));\n//  element-range-highlight interaction\nregisterInteraction('brush-highlight', getInteractionCfg('brush-highlight'));\n// \nregisterInteraction('brush-x', getInteractionCfg('brush-x', 'x-rect'));\n// \nregisterInteraction('brush-y', getInteractionCfg('brush-y', 'y-rect'));\n// , x \nregisterInteraction('brush-x-highlight', getInteractionCfg('brush-x-highlight', 'x-rect'));\n// , y \nregisterInteraction('brush-y-highlight', getInteractionCfg('brush-y-highlight', 'y-rect'));\n","import { filter } from '@antv/util';\nimport { Params } from '../core/adaptor';\n/** brush  */\nimport '../interactions/brush';\nimport { getInteractionCfg } from '../interactions/brush';\nimport { BrushCfg, Interaction, Options as BaseOptions, Writable } from '../types';\nimport { deepAssign } from '../utils';\n\ntype Options = Pick<BaseOptions, 'interactions'> & { brush?: BrushCfg };\n\nconst BRUSH_TYPES = ['brush', 'brush-x', 'brush-y', 'brush-highlight', 'brush-x-highlight', 'brush-y-highlight'];\n\n/**\n * brush \n */\nexport function brushInteraction<O extends Options = Options>(params: Params<O>): Params<O> {\n  const { options } = params;\n\n  const { brush } = options;\n\n  //  brush \n  const interactions = filter(options.interactions || [], (i) => BRUSH_TYPES.indexOf(i.type) === -1);\n\n  //  brush \n  if (brush?.enabled) {\n    BRUSH_TYPES.forEach((type) => {\n      let enable = false;\n      switch (brush.type) {\n        case 'x-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');\n          break;\n        case 'y-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');\n          break;\n        default:\n          enable = type === (brush.action === 'highlight' ? 'brush-highlight' : 'brush');\n          break;\n      }\n      const obj: Writable<Interaction> = { type, enable };\n\n      if (brush) {\n        obj.cfg = getInteractionCfg(type, brush.type, brush);\n      }\n      interactions.push(obj);\n    });\n\n    //  button  (G2Plot )\n    if (brush?.action !== 'highlight') {\n      interactions.push({\n        type: 'filter-action',\n        cfg: {\n          buttonConfig: brush.button,\n        },\n      });\n    }\n  }\n  return deepAssign({}, params, { options: { interactions } });\n}\n","import { Element, registerInteraction, ShapeAttrs } from '@antv/g2';\nimport { Params } from '../core/adaptor';\n\nexport interface ConnectedAreaOptions {\n  /** ,  hover */\n  trigger?: 'hover' | 'click';\n  /**  */\n  style?: ShapeAttrs | ((style: ShapeAttrs, element: Element) => ShapeAttrs);\n}\n\n/**  */\nexport interface OptionWithConnectedArea {\n  connectedArea?: ConnectedAreaOptions | false;\n}\n\nconst INTERACTION_MAP = {\n  hover: '__interval-connected-area-hover__',\n  click: '__interval-connected-area-click__',\n};\n\nconst getStartStages = (trigger: string, style?: ConnectedAreaOptions['style']) => {\n  if (trigger === 'hover') {\n    return [\n      {\n        trigger: `interval:mouseenter`,\n        action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n        arg: [null, { style }],\n      },\n    ];\n  }\n  return [\n    {\n      trigger: `interval:click`,\n      action: [\n        'element-highlight-by-color:clear',\n        'element-highlight-by-color:highlight',\n        'element-link-by-color:clear',\n        'element-link-by-color:unlink',\n        'element-link-by-color:link',\n      ],\n      arg: [null, null, null, null, { style }],\n    },\n  ];\n};\n\n/** hover  */\nregisterInteraction(INTERACTION_MAP.hover, {\n  start: getStartStages(INTERACTION_MAP.hover),\n  end: [\n    {\n      trigger: 'interval:mouseleave',\n      action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],\n    },\n  ],\n});\n\n/** click  */\nregisterInteraction(INTERACTION_MAP.click, {\n  start: getStartStages(INTERACTION_MAP.click),\n  end: [\n    {\n      trigger: 'document:mousedown',\n      action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],\n    },\n  ],\n});\n\n/**\n *  adaptor/\n * @param disable\n */\nexport function connectedArea<O extends OptionWithConnectedArea>(disable = false) {\n  return function (params: Params<O>): Params<O> {\n    const { chart, options } = params;\n    const { connectedArea } = options;\n\n    const clear = () => {\n      chart.removeInteraction(INTERACTION_MAP.hover);\n      chart.removeInteraction(INTERACTION_MAP.click);\n    };\n\n    if (!disable && connectedArea) {\n      const trigger = connectedArea.trigger || 'hover';\n      clear();\n      chart.interaction(INTERACTION_MAP[trigger], {\n        start: getStartStages(trigger, connectedArea.style),\n      });\n    } else {\n      clear();\n    }\n\n    return params;\n  };\n}\n","import { isNumber } from '@antv/util';\n/**\n * \n * @param prev\n * @param next\n */\nexport function conversionTagFormatter(prev: number, next: number): string {\n  if (!isNumber(prev) || !isNumber(next)) {\n    return '-';\n  }\n\n  // 0 / 0 \n  if (prev === 0 && next === 0) {\n    return '-';\n  }\n\n  if (prev === next) {\n    return '100%';\n  }\n\n  if (prev === 0) {\n    return '';\n  }\n\n  return `${((100 * next) / prev).toFixed(2)}%`;\n}\n","import { Coordinate, Element, Geometry, getTheme, IGroup, ShapeAttrs, View } from '@antv/g2';\nimport { each, find, isObject, map } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { deepAssign } from '../utils';\nimport { conversionTagFormatter } from '../utils/conversion';\n\n/**  */\nexport interface ConversionTagOptions {\n  /** tag  */\n  size?: number;\n  /** tag  */\n  spacing?: number;\n  /** tag  */\n  offset?: number;\n  /**  */\n  arrow?:\n    | {\n        /**  */\n        headSize?: number;\n        /**  */\n        style?: ShapeAttrs;\n      }\n    | false;\n  /**  */\n  text?:\n    | {\n        /**  */\n        size?: number;\n        /**  */\n        style?: ShapeAttrs;\n        /**  */\n        formatter?: (prev: number, next: number) => string;\n      }\n    | false;\n}\n\nexport interface OptionWithConversionTag {\n  conversionTag?: ConversionTagOptions | false;\n}\n\n/**  */\ntype TagRenderConfig = {\n  /**  View */\n  view: View;\n  /**  geometry */\n  geometry: Geometry;\n  /**  group */\n  group: IGroup;\n  /**  */\n  options: ConversionTagOptions;\n  /**  */\n  field: string;\n  /** / */\n  horizontal: boolean;\n};\n\nfunction getConversionTagOptionsWithDefaults(options: ConversionTagOptions, horizontal: boolean): ConversionTagOptions {\n  return deepAssign(\n    {\n      size: horizontal ? 32 : 80,\n      spacing: horizontal ? 8 : 12,\n      offset: horizontal ? 32 : 0,\n      arrow: options.arrow !== false && {\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      text: options.text !== false && {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n        formatter: conversionTagFormatter,\n      },\n    },\n    options\n  );\n}\n\nfunction parsePoints(coordinate: Coordinate, element: Element): { x: number; y: number }[] {\n  // @ts-ignore\n  return map(element.getModel().points, (point) => coordinate.convertPoint(point));\n}\n\nfunction renderArrowTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, horizontal } = config;\n  const { offset, size, arrow } = options;\n  const coordinate = view.getCoordinate();\n  const pointPrev = parsePoints(coordinate, elemPrev)[3];\n  const pointNext = parsePoints(coordinate, elemNext)[0];\n  const totalHeight = pointNext.y - pointPrev.y;\n  const totalWidth = pointNext.x - pointPrev.x;\n\n  if (typeof arrow === 'boolean') {\n    return;\n  }\n  const { headSize } = arrow;\n  let spacing = options.spacing;\n  let points;\n\n  if (horizontal) {\n    if ((totalWidth - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalWidth - headSize) / 2);\n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing - headSize, pointNext.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n        [pointNext.x - spacing - headSize, pointNext.y - offset],\n      ];\n    }\n  } else {\n    if ((totalHeight - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalHeight - headSize) / 2);\n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size, pointNext.y - spacing - headSize],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n        [pointNext.x + offset, pointNext.y - spacing - headSize],\n      ];\n    }\n  }\n\n  group.addShape('polygon', {\n    id: `${view.id}-conversion-tag-arrow-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-arrow',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(arrow.style || {}),\n      points,\n    },\n  });\n}\n\nfunction renderTextTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, field, horizontal } = config;\n  const { offset, size } = options;\n  if (typeof options.text === 'boolean') {\n    return;\n  }\n  const coordinate = view.getCoordinate();\n  const text = options.text?.formatter && options.text?.formatter(elemPrev.getData()[field], elemNext.getData()[field]);\n\n  const pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n  const pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n\n  const textShape = group.addShape('text', {\n    id: `${view.id}-conversion-tag-text-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-text',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(options.text?.style || {}),\n      text,\n      x: horizontal ? (pointPrev.x + pointNext.x) / 2 : pointPrev.x + offset + size / 2,\n      y: horizontal ? pointPrev.y - offset - size / 2 : (pointPrev.y + pointNext.y) / 2,\n    },\n  });\n\n  if (horizontal) {\n    const totalWidth = pointNext.x - pointPrev.x;\n    const { width: textWidth } = textShape.getBBox();\n    if (textWidth > totalWidth) {\n      const cWidth = textWidth / text.length;\n      const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n      const textAdjusted = `${text.slice(0, cEnd)}...`;\n      textShape.attr('text', textAdjusted);\n    }\n  }\n}\n\nfunction renderTag(options: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  renderArrowTag(options, elemPrev, elemNext);\n  renderTextTag(options, elemPrev, elemNext);\n}\n\n/**\n *  adaptor/\n * @param field \n * @param horizontal \n * @param disabled \n */\nexport function conversionTag<O extends OptionWithConversionTag & Options>(\n  field: string,\n  horizontal = true,\n  disabled = false\n) {\n  return function (params: Params<O>): Params<O> {\n    const { options, chart } = params;\n    const { conversionTag, theme } = options;\n\n    if (conversionTag && !disabled) {\n      //  1/3\n      chart.theme(\n        deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n      //   shape annotation \n      chart.annotation().shape({\n        render: (container, view) => {\n          const group = container.addGroup({\n            id: `${chart.id}-conversion-tag-group`,\n            name: 'conversion-tag-group',\n          });\n          const interval = find(chart.geometries, (geom: Geometry) => geom.type === 'interval');\n          const config: TagRenderConfig = {\n            view,\n            geometry: interval,\n            group,\n            field,\n            horizontal,\n            options: getConversionTagOptionsWithDefaults(conversionTag, horizontal),\n          };\n          const elements = interval.elements;\n          each(elements, (elem: Element, idx: number) => {\n            if (idx > 0) {\n              renderTag(config, elements[idx - 1], elem);\n            }\n          });\n        },\n      });\n    }\n\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { each, filter, isMatch } from '@antv/util';\nimport { brushInteraction } from '../../adaptor/brush';\nimport {\n  animation,\n  annotation,\n  interaction,\n  limitInPlot,\n  scale,\n  scrollbar,\n  slider,\n  state,\n  theme,\n  transformations,\n} from '../../adaptor/common';\nimport { connectedArea } from '../../adaptor/connected-area';\nimport { conversionTag } from '../../adaptor/conversion-tag';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { adjustYMetaByZero, deepAssign, findGeometry, flow, pick, transformLabel } from '../../utils';\nimport { getDataWhetherPercentage, getDeepPercent } from '../../utils/transform/percent';\nimport { ColumnOptions } from './types';\n\n/**\n * defaultOptions\n * @param params\n */\nfunction defaultOptions(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  //  legend \n  let { legend } = options;\n  const { seriesField, isStack } = options;\n\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'right-top' : 'top-left',\n        ...legend,\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  // @ts-ignore \n  params.options.legend = legend;\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    columnStyle,\n    color,\n    columnWidthRatio,\n    isPercent,\n    isGroup,\n    isStack,\n    xField,\n    yField,\n    seriesField,\n    groupField,\n    tooltip,\n    shape,\n  } = options;\n\n  const percentData =\n    isPercent && isGroup && isStack\n      ? getDeepPercent(data, yField, [xField, groupField], yField)\n      : getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n\n  let chartData = [];\n\n  // ,seriesField \n  if (isStack && seriesField && !isGroup) {\n    percentData.forEach((item) => {\n      const stackedItem = chartData.find((v) => v[xField] === item[xField] && v[seriesField] === item[seriesField]);\n      if (stackedItem) {\n        stackedItem[yField] += item[yField] || 0;\n      } else {\n        chartData.push({ ...item });\n      }\n    });\n  } else {\n    chartData = percentData;\n  }\n\n  chart.data(chartData);\n\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name:\n            isGroup && isStack ? `${datum[seriesField]} - ${datum[groupField]}` : datum[seriesField] ?? datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n\n  const p = deepAssign({}, params, {\n    options: {\n      data: chartData,\n      widthRatio: columnWidthRatio,\n      tooltip: tooltipOptions,\n      interval: {\n        shape,\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  return p;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data, isPercent } = options;\n\n  const percentYMeta = isPercent ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: {\n          ...adjustYMetaByZero(data, yField),\n          ...percentYMeta,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { label, yField, isRange } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        //  label layout  layout  position  layout\n        layout: cfg?.position\n          ? undefined\n          : [\n              { type: 'interval-adjust-position' },\n              { type: 'interval-hide-overlap' },\n              { type: 'adjust-color' },\n              { type: 'limit-in-plot', cfg: { action: 'hide' } },\n            ],\n        ...transformLabel(\n          isRange\n            ? {\n                content: (item: object) => {\n                  return item[yField]?.join('-');\n                },\n                ...cfg,\n              }\n            : cfg\n        ),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip  ()\n * @param params\n */\nfunction columnTooltip(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { tooltip, isGroup, isStack, groupField, data, xField, yField, seriesField } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // fix: https://github.com/antvis/G2Plot/issues/2572\n    if (isGroup && isStack) {\n      const { customItems } = tooltipOptions;\n      const tooltipFormatter =\n        tooltipOptions?.formatter ||\n        ((datum: Datum) => ({ name: `${datum[seriesField]} - ${datum[groupField]}`, value: datum[yField] }));\n      tooltipOptions = {\n        ...tooltipOptions,\n        customItems: (originalItems: Types.TooltipItem[]) => {\n          const items: Types.TooltipItem[] = [];\n          each(originalItems, (item: Types.TooltipItem) => {\n            // Find datas in same cluster\n            const datas = filter(data, (d) => isMatch(d, pick(item.data, [xField, seriesField])));\n            datas.forEach((datum) => {\n              items.push({\n                ...item,\n                value: datum[yField],\n                data: datum,\n                mappingData: { _origin: datum },\n                ...tooltipFormatter(datum),\n              });\n            });\n          });\n          // fix https://github.com/antvis/G2Plot/issues/3367\n          return customItems ? customItems(items) : items;\n        },\n      };\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ColumnOptions>, isBar = false) {\n  const { options } = params;\n  const { seriesField } = options;\n  return flow(\n    defaultOptions, // \n    theme, // theme  geometry \n    pattern('columnStyle'),\n    state,\n    transformations('rect'),\n    geometry,\n    meta,\n    axis,\n    legend,\n    columnTooltip,\n    slider,\n    scrollbar,\n    label,\n    brushInteraction,\n    interaction,\n    animation,\n    annotation(),\n    conversionTag<ColumnOptions>(options.yField, !isBar, !!seriesField), // \n    connectedArea<ColumnOptions>(!options.isStack),\n    limitInPlot\n  )(params);\n}\n","import { tooltip } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { Axis } from '../../types';\nimport { deepAssign, flow } from '../../utils';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { BarOptions } from './types';\nexport { meta } from '../column/adaptor';\n\n/**\n * \n * 1. switch xField yField\n * 2. switch xAxis yAxis and adjust axis.position configuration\n */\nfunction defaultOptions(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { xField, yField, xAxis, yAxis } = options;\n\n  const position = {\n    left: 'bottom',\n    right: 'top',\n    top: 'left',\n    bottom: 'right',\n  };\n\n  const verticalAxis =\n    yAxis !== false\n      ? {\n          position: position[yAxis?.position || 'left'],\n          ...yAxis,\n        }\n      : false;\n  const horizontalAxis =\n    xAxis !== false\n      ? {\n          position: position[xAxis?.position || 'bottom'],\n          ...xAxis,\n        }\n      : false;\n\n  return {\n    ...params,\n    options: {\n      ...options,\n      xField: yField,\n      yField: xField,\n      //  xAxisyAxis  deepAssign\n      xAxis: verticalAxis as Axis,\n      yAxis: horizontalAxis as Axis,\n    },\n  };\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { label } = options;\n  // label of bar charts default position is left, if plot has label\n  if (label && !label.position) {\n    label.position = 'left';\n    //  label layout  layout  position  layout\n    if (!label.layout) {\n      label.layout = [\n        { type: 'interval-adjust-position' },\n        { type: 'interval-hide-overlap' },\n        { type: 'adjust-color' },\n        { type: 'limit-in-plot', cfg: { action: 'hide' } },\n      ];\n    }\n  }\n\n  return deepAssign({}, params, { options: { label } });\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n\n  //  legend \n  const { seriesField, isStack } = options;\n  let { legend } = options;\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'top-left' : 'right-top',\n        ...(legend || {}),\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  return deepAssign({}, params, { options: { legend } });\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<BarOptions>): Params<BarOptions> {\n  // transpose column to bar  & y \n  const { options } = params;\n  const coordinateOptions = [{ type: 'transpose' }, { type: 'reflectY' }].concat(options.coordinate || []);\n  return deepAssign({}, params, { options: { coordinate: coordinateOptions } });\n}\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<BarOptions>) {\n  const { chart, options } = params;\n\n  const { barStyle, barWidthRatio, minBarWidth, maxBarWidth, barBackground } = options;\n\n  return columnAdaptor(\n    {\n      chart,\n      options: {\n        ...options,\n        // rename attrs as column\n        columnStyle: barStyle,\n        columnWidthRatio: barWidthRatio,\n        minColumnWidth: minBarWidth,\n        maxColumnWidth: maxBarWidth,\n        columnBackground: barBackground,\n      },\n    },\n    true\n  ) as Params<BarOptions>;\n}\n\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BarOptions>): Params<BarOptions> {\n  // flow  G2 API\n  return flow<Params<BarOptions>>(defaultOptions, label, legend, tooltip, coordinate, geometry)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  barWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { BarOptions } from './types';\n\nexport type { BarOptions };\n\n/**\n * \n */\nexport class Bar extends Plot<BarOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'bar';\n\n  /**\n   * @override\n   */\n  public changeData(data: BarOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    const { isPercent } = options;\n    let { xField, yField, xAxis, yAxis } = options;\n    [xField, yField] = [yField, xField];\n    [xAxis, yAxis] = [yAxis, xAxis];\n    const switchedFieldOptions = { ...options, xField, yField, yAxis, xAxis };\n    meta({ chart, options: switchedFieldOptions });\n    chart.changeData(getDataWhetherPercentage(data, xField, yField, xField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bar.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BarOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { ColumnOptions } from './types';\n\nexport type { ColumnOptions };\n\n/**\n * \n */\nexport class Column extends Plot<ColumnOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'column';\n\n  /**\n   * @override\n   */\n  public changeData(data: ColumnOptions['data']) {\n    this.updateOption({ data });\n    const { yField, xField, isPercent } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Column.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ColumnOptions> {\n    return adaptor;\n  }\n}\n","// : data[n][yField] / data[0][yField]\nexport const FUNNEL_PERCENT = '$$percentage$$';\n// \nexport const FUNNEL_MAPPING_VALUE = '$$mappingValue$$';\n// : data[n][yField] / data[n-1][yField];\nexport const FUNNEL_CONVERSATION = '$$conversion$$';\n// \n// data[n][yField] / sum(data[0-n][yField])\nexport const FUNNEL_TOTAL_PERCENT = '$$totalPercentage$$';\n//  x \nexport const PLOYGON_X = '$$x$$';\nexport const PLOYGON_Y = '$$y$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: [0, 80],\n  minSize: 0,\n  maxSize: 1,\n  meta: {\n    [FUNNEL_MAPPING_VALUE]: {\n      min: 0,\n      max: 1,\n      nice: false,\n    },\n  },\n  label: {\n    style: {\n      fill: '#fff',\n      fontSize: 12,\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    shared: false,\n  },\n  conversionTag: {\n    offsetX: 10,\n    offsetY: 0,\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.45)',\n    },\n  },\n};\n","import { Types } from '@antv/g2';\nimport { get, isFunction, isNumber, map, maxBy } from '@antv/util';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE, FUNNEL_PERCENT } from '../constant';\nimport { FunnelOptions } from '../types';\n\nexport const CONVERSION_TAG_NAME = 'CONVERSION_TAG_NAME';\n\n/**\n *  transform\n * @param geometry\n */\nexport function transformData(\n  data: FunnelOptions['data'],\n  originData: FunnelOptions['data'],\n  options: Pick<FunnelOptions, 'yField' | 'maxSize' | 'minSize'>\n): FunnelOptions['data'] {\n  let formatData = [];\n  const { yField, maxSize, minSize } = options;\n  const maxYFieldValue = get(maxBy(originData, yField), [yField]);\n  const max = isNumber(maxSize) ? maxSize : 1;\n  const min = isNumber(minSize) ? minSize : 0;\n\n  // format \n  formatData = map(data, (row, index) => {\n    const percent = (row[yField] || 0) / maxYFieldValue;\n    row[FUNNEL_PERCENT] = percent;\n    row[FUNNEL_MAPPING_VALUE] = (max - min) * percent + min;\n    // \n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  return formatData;\n}\n\n/**\n * \n * @param getLineCoordinate  line \n */\nexport function conversionTagComponent(\n  getLineCoordinate: (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ) => Types.LineOption\n) {\n  return function (params: Params<FunnelOptions>): Params<FunnelOptions> {\n    const { chart, options } = params;\n    // @ts-ignore\n    const { conversionTag, filteredData } = options;\n\n    const data = filteredData || chart.getOptions().data;\n    if (conversionTag) {\n      const { formatter } = conversionTag;\n      data.forEach((obj, index) => {\n        if (index <= 0 || Number.isNaN(obj[FUNNEL_MAPPING_VALUE])) return;\n        const lineOption = getLineCoordinate(obj, index, data, {\n          top: true,\n          name: CONVERSION_TAG_NAME,\n          text: {\n            content: isFunction(formatter) ? formatter(obj, data) : formatter,\n            offsetX: conversionTag.offsetX,\n            offsetY: conversionTag.offsetY,\n            position: 'end',\n            autoRotate: false,\n            style: {\n              textAlign: 'start',\n              textBaseline: 'middle',\n              ...conversionTag.style,\n            },\n          },\n        });\n\n        chart.annotation().line(lineOption);\n      });\n    }\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { get, isArray, map } from '@antv/util';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { findGeometry, flow } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE, FUNNEL_PERCENT } from '../constant';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField, maxSize, minSize } = options;\n  const formatData = transformData(data, data, {\n    yField,\n    maxSize,\n    minSize,\n  });\n\n  // \n  chart.data(formatData);\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, shape = 'funnel', funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n\n  baseGeometry({\n    chart,\n    options: {\n      type: 'interval',\n      xField: xField,\n      yField: FUNNEL_MAPPING_VALUE,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      mapping: {\n        shape,\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n      label,\n      state,\n    },\n  });\n\n  const geo = findGeometry(params.chart, 'interval');\n  geo.adjust('symmetric');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: !isTransposed ? [['transpose'], ['scale', 1, -1]] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options, chart } = params;\n  const { maxSize } = options;\n\n  // \n  const dataArray = get(chart, ['geometries', '0', 'dataArray'], []);\n  const size = get(chart, ['options', 'data', 'length']);\n  const x = map(dataArray, (item) => get(item, ['0', 'nextPoints', '0', 'x']) * size - 0.5);\n\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    const percent = maxSize - (maxSize - datum[FUNNEL_MAPPING_VALUE]) / 2;\n    return {\n      ...initLineOption,\n      start: [x[datumIndex - 1] || datumIndex - 0.5, percent],\n      end: [x[datumIndex - 1] || datumIndex - 0.5, percent + 0.05],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function basicFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { Types } from '@antv/g2';\nimport { get, isArray, isNumber, map } from '@antv/util';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { deepAssign, flow } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE, FUNNEL_PERCENT } from '../constant';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    color,\n    compareField,\n    isTransposed,\n    tooltip,\n    maxSize,\n    minSize,\n    label,\n    funnelStyle,\n    state,\n    showFacetTitle,\n  } = options;\n\n  chart.facet('mirror', {\n    fields: [compareField],\n    // \n    transpose: !isTransposed,\n    padding: isTransposed ? 0 : [32, 0, 0, 0],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      const index = isTransposed ? facet.rowIndex : facet.columnIndex;\n\n      if (!isTransposed) {\n        view.coordinate({\n          type: 'rect',\n          actions: [['transpose'], ['scale', index === 0 ? -1 : 1, -1]],\n        });\n      }\n\n      const formatterData = transformData(facet.data, data, {\n        yField,\n        maxSize,\n        minSize,\n      });\n\n      view.data(formatterData);\n\n      // \n      const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, compareField]);\n\n      const defaultFacetLabel = isTransposed\n        ? {\n            offset: index === 0 ? 10 : -23,\n            position: (index === 0 ? 'bottom' : 'top') as Types.IntervalGeometryLabelPosition,\n          }\n        : {\n            offset: 10,\n            position: 'left' as Types.IntervalGeometryLabelPosition,\n            style: {\n              textAlign: index === 0 ? 'end' : 'start',\n            },\n          };\n\n      baseGeometry({\n        chart: view,\n        options: {\n          type: 'interval',\n          xField: xField,\n          yField: FUNNEL_MAPPING_VALUE,\n          colorField: xField,\n          tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n          mapping: {\n            // todo   shape\n            shape: 'funnel',\n            tooltip: formatter,\n            color,\n            style: funnelStyle,\n          },\n          label: label === false ? false : deepAssign({}, defaultFacetLabel, label),\n          state,\n        },\n      });\n    },\n  });\n\n  return params;\n}\n\nexport function compareConversionTag(params: Params<FunnelOptions>) {\n  // @ts-ignore\n  const { chart, index, options } = params;\n  const { conversionTag, isTransposed } = options;\n  (isNumber(index) ? [chart] : chart.views).forEach((view, viewIndex) => {\n    // \n    const dataArray = get(view, ['geometries', '0', 'dataArray'], []);\n    const size = get(view, ['options', 'data', 'length']);\n    const x = map(dataArray, (item) => get(item, ['0', 'nextPoints', '0', 'x']) * size - 0.5);\n\n    const getLineCoordinate = (\n      datum: Datum,\n      datumIndex: number,\n      data: Data,\n      initLineOption: Record<string, any>\n    ): Types.LineOption => {\n      const ratio = (index || viewIndex) === 0 ? -1 : 1;\n      return deepAssign({}, initLineOption, {\n        start: [x[datumIndex - 1] || datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE]],\n        end: [x[datumIndex - 1] || datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE] + 0.05],\n        text: isTransposed\n          ? {\n              style: {\n                textAlign: 'start',\n              },\n            }\n          : {\n              offsetX: conversionTag !== false ? ratio * conversionTag.offsetX : 0,\n              style: {\n                textAlign: (index || viewIndex) === 0 ? 'end' : 'start',\n              },\n            },\n      });\n    };\n\n    conversionTagComponent(getLineCoordinate)(\n      deepAssign(\n        {},\n        {\n          chart: view,\n          options,\n        }\n      )\n    );\n  });\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  // @ts-ignore\n  chart.once('beforepaint', () => compareConversionTag(params));\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function compareFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, conversionTag)(params);\n}\n","import { Types } from '@antv/g2';\nimport { get, isArray, map, maxBy, reduce } from '@antv/util';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { Params } from '../../../core/adaptor';\nimport { Data, Datum } from '../../../types/common';\nimport { flow } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT, FUNNEL_TOTAL_PERCENT, PLOYGON_X, PLOYGON_Y } from '../constant';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent } from './common';\n\n/**\n * \n * @param params\n * :  yfield 2 2\n * :  g2 data ->  -> \n *  -0.5 <= x <= 0.5, 0 <= y <= 1 \n * ,  x \n *  data.length + 1  y = 4x - 1 [0.5, 1], [0.25, 0] data  y  y \n */\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  const sum = reduce(\n    data,\n    (total, item) => {\n      return total + (item[yField] || 0);\n    },\n    0\n  );\n\n  const max = maxBy(data, yField)[yField];\n\n  const formatData = map(data, (row, index) => {\n    //  xy  [, ]\n    const x = [];\n    const y = [];\n\n    row[FUNNEL_TOTAL_PERCENT] = (row[yField] || 0) / sum;\n\n    // \n    if (index) {\n      const preItemX = data[index - 1][PLOYGON_X];\n      const preItemY = data[index - 1][PLOYGON_Y];\n      x[0] = preItemX[3];\n      y[0] = preItemY[3];\n      x[1] = preItemX[2];\n      y[1] = preItemY[2];\n    } else {\n      x[0] = -0.5;\n      y[0] = 1;\n      x[1] = 0.5;\n      y[1] = 1;\n    }\n\n    // \n    y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n    x[2] = (y[2] + 1) / 4;\n    y[3] = y[2];\n    x[3] = -x[2];\n\n    // \n    row[PLOYGON_X] = x;\n    row[PLOYGON_Y] = y;\n    row[FUNNEL_PERCENT] = (row[yField] || 0) / max;\n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  chart.data(formatData);\n\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n  // \n  baseGeometry({\n    chart,\n    options: {\n      type: 'polygon',\n      xField: PLOYGON_X,\n      yField: PLOYGON_Y,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      label,\n      state,\n      mapping: {\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n    },\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: isTransposed ? [['transpose'], ['reflect', 'x']] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    return {\n      ...initLineOption,\n      start: [datum[PLOYGON_X][1], datum[PLOYGON_Y][1]],\n      end: [datum[PLOYGON_X][1] + 0.05, datum[PLOYGON_Y][1]],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { Params } from '../../../core/adaptor';\nimport { deepAssign, flow } from '../../../utils';\nimport { FunnelOptions } from '../types';\nimport { basicFunnel } from './basic';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { seriesField, isTransposed, showFacetTitle } = options;\n\n  chart.facet('rect', {\n    fields: [seriesField],\n    padding: [isTransposed ? 0 : 32, 10, 0, 10],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      basicFunnel(\n        deepAssign({}, params, {\n          chart: view,\n          options: {\n            data: facet.data,\n          },\n        })\n      );\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function facetFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry)(params);\n}\n","import { Action } from '@antv/g2';\nimport { each, filter, get, map } from '@antv/util';\nimport { conversionTag as basicConversionTag } from '../geometries/basic';\nimport { CONVERSION_TAG_NAME, transformData } from '../geometries/common';\nimport { compareConversionTag } from '../geometries/compare';\nimport { FunnelOptions } from '../types';\n\n/**\n * Funnel  legend \n */\nexport class ConversionTagAction extends Action {\n  private rendering = false;\n  public change(options: FunnelOptions) {\n    // \n    if (!this.rendering) {\n      const { seriesField, compareField } = options;\n      const conversionTag = compareField ? compareConversionTag : basicConversionTag;\n      const { view } = this.context;\n      // \n      const views = seriesField || compareField ? view.views : [view];\n      map(views, (v, index) => {\n        //  annotations \n        const annotationController = v.getController('annotation');\n\n        const annotations = filter(\n          get(annotationController, ['option'], []),\n          ({ name }) => name !== CONVERSION_TAG_NAME\n        );\n\n        annotationController.clear(true);\n\n        each(annotations, (annotation) => {\n          if (typeof annotation === 'object') {\n            v.annotation()[annotation.type](annotation);\n          }\n        });\n\n        const data = get(v, ['filteredData'], v.getOptions().data);\n\n        conversionTag({\n          chart: v,\n          index,\n          options: {\n            ...options,\n            // @ts-ignore\n            filteredData: transformData(data, data, options),\n          },\n        });\n\n        v.filterData(data);\n        this.rendering = true;\n        v.render(true);\n      });\n    }\n    this.rendering = false;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { ConversionTagAction } from './funnel-conversion-tag';\n\nconst FUNNEL_CONVERSION_TAG = 'funnel-conversion-tag';\nexport const FUNNEL_LEGEND_FILTER = 'funnel-afterrender';\nexport const interactionStart = { trigger: 'afterrender', action: `${FUNNEL_CONVERSION_TAG}:change` };\n\nregisterAction(FUNNEL_CONVERSION_TAG, ConversionTagAction);\nregisterInteraction(FUNNEL_LEGEND_FILTER, {\n  start: [interactionStart],\n});\n","import { clone, each, isFunction } from '@antv/util';\nimport { animation, annotation, scale, theme, tooltip } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { deepAssign, flow } from '../../utils';\nimport { conversionTagFormatter } from '../../utils/conversion';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT } from './constant';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\nimport { facetFunnel } from './geometries/facet';\nimport { FUNNEL_LEGEND_FILTER, interactionStart } from './interactions';\nimport { FunnelOptions } from './types';\nimport type { Interaction } from './types';\n\n/**\n *\n * geometry,\n * 1. interval.shape('funnel')\n * 2. \n * 3. polypon\n * 4.  + list \n* /\n\n/**\n * options \n * @param params\n */\nfunction defaultOptions(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, xField, yField, locale, funnelStyle, data } = options;\n  const i18n = getLocale(locale);\n\n  const defaultOption = {\n    label: compareField\n      ? {\n          fields: [xField, yField, compareField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          formatter: (datum) => `${datum[yField]}`,\n        }\n      : {\n          fields: [xField, yField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          offset: 0,\n          position: 'middle',\n          formatter: (datum) => `${datum[xField]} ${datum[yField]}`,\n        },\n    tooltip: {\n      title: xField,\n      formatter: (datum) => {\n        return { name: datum[xField], value: datum[yField] };\n      },\n    },\n    conversionTag: {\n      // conversionTag \n      formatter: (datum) =>\n        `${i18n.get(['conversionTag', 'label'])}: ${conversionTagFormatter(\n          ...(datum[FUNNEL_CONVERSATION] as [number, number])\n        )}`,\n    },\n  };\n\n  // \n  let style;\n  if (compareField || funnelStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        // \n        compareField && { lineWidth: 1, stroke: '#fff' },\n        isFunction(funnelStyle) ? funnelStyle(datum) : funnelStyle\n      );\n    };\n  }\n\n  return deepAssign({ options: defaultOption }, params, { options: { funnelStyle: style, data: clone(data) } });\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, dynamicHeight, seriesField } = options;\n  if (seriesField) {\n    return facetFunnel(params);\n  }\n  if (compareField) {\n    return compareFunnel(params);\n  }\n  if (dynamicHeight) {\n    return dynamicHeightFunnel(params);\n  }\n\n  return basicFunnel(params);\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    chart.legend(legend);\n    // TODO FIX: legend-click \n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<FunnelOptions, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  // @ts-ignore\n  const { interactions, dynamicHeight } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n  //   \n  if (!dynamicHeight) {\n    chart.interaction(FUNNEL_LEGEND_FILTER, {\n      start: [{ ...interactionStart, arg: options }],\n    });\n  } else {\n    chart.removeInteraction(FUNNEL_LEGEND_FILTER);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FunnelOptions>) {\n  return flow(\n    defaultOptions,\n    geometry,\n    meta,\n    axis,\n    tooltip,\n    interaction,\n    legend,\n    animation,\n    theme,\n    annotation()\n  )(params);\n}\n","import { Element } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { StateCondition, StateName, StateObject } from '../..';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getAllElementsRecursively } from '../../utils';\nimport { adaptor } from './adaptor';\nimport {\n  DEFAULT_OPTIONS,\n  FUNNEL_CONVERSATION as FUNNEL_CONVERSATION_FIELD,\n  FUNNEL_PERCENT,\n  FUNNEL_TOTAL_PERCENT,\n} from './constant';\nimport './interactions';\nimport { FunnelOptions } from './types';\n\nexport type { FunnelOptions };\nexport { FUNNEL_CONVERSATION_FIELD };\n\nexport class Funnel extends Plot<FunnelOptions> {\n  /**  */\n  public type: string = 'funnel';\n\n  static getDefaultOptions(): Partial<FunnelOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  // \n  /**    */\n  static CONVERSATION_FIELD = FUNNEL_CONVERSATION_FIELD;\n  /**    */\n  static PERCENT_FIELD = FUNNEL_PERCENT;\n  /**    */\n  static TOTAL_PERCENT_FIELD = FUNNEL_TOTAL_PERCENT;\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<FunnelOptions> {\n    //  defaultOption  core.getDefaultOptions funnel  defaulOption  adaptor  defaultOption \n    return Funnel.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FunnelOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n}\n","export const RANGE_VALUE = 'range';\nexport const RANGE_TYPE = 'type';\nexport const PERCENT = 'percent';\n\nexport const DEFAULT_COLOR = '#f0f0f0';\n\n/**    */\nexport const INDICATEOR_VIEW_ID = 'indicator-view';\nexport const RANGE_VIEW_ID = 'range-view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0, // \n  range: {\n    ticks: [],\n  }, // \n  innerRadius: 0.9,\n  radius: 0.95,\n  startAngle: (-7 / 6) * Math.PI,\n  endAngle: (1 / 6) * Math.PI,\n  syncViewPadding: true,\n  axis: {\n    line: null,\n    label: {\n      offset: -24,\n      style: {\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n    subTickLine: {\n      length: -8,\n    },\n    tickLine: {\n      length: -12,\n    },\n    grid: null,\n  },\n  indicator: {\n    pointer: {\n      style: {\n        lineWidth: 5,\n        lineCap: 'round' as const,\n      },\n    },\n    pin: {\n      style: {\n        r: 9.75,\n        lineWidth: 4.5,\n        fill: '#fff',\n      },\n    },\n  },\n  statistic: {\n    title: false as const,\n  },\n  meta: {\n    //  view  scale  v \n    [RANGE_VALUE]: {\n      sync: 'v',\n    },\n    [PERCENT]: {\n      sync: 'v',\n      tickCount: 5,\n      tickInterval: 0.2,\n    },\n  },\n  animation: false as const,\n};\n","import { clamp, get, size, uniq } from '@antv/util';\nimport { Data } from '../../types';\nimport { PERCENT, RANGE_TYPE, RANGE_VALUE } from './constants';\nimport { GaugeOptions, GaugeRangeData } from './types';\n\n/**\n *  range  data \n * @param range\n * @param key\n * @returns {GaugeRangeData}\n */\nexport function processRangeData(range: number[], percent: GaugeOptions['percent']): GaugeRangeData {\n  return (\n    range\n      //  stack \n      .map((r: number, idx: number) => {\n        return { [RANGE_VALUE]: r - (range[idx - 1] || 0), [RANGE_TYPE]: `${idx}`, [PERCENT]: percent };\n      })\n  );\n}\n\n/**\n *   \n * @param percent\n */\nexport function getIndicatorData(percent: GaugeOptions['percent']): Data {\n  return [{ [PERCENT]: clamp(percent, 0, 1) }];\n}\n\n/**\n *  \n * @param percent\n * @param range\n */\nexport function getRangeData(percent: GaugeOptions['percent'], range?: GaugeOptions['range']): GaugeRangeData {\n  const ticks = get(range, ['ticks'], []);\n\n  const clampTicks = size(ticks) ? uniq(ticks) : [0, clamp(percent, 0, 1), 1];\n  if (!clampTicks[0]) {\n    clampTicks.shift();\n  }\n  return processRangeData(clampTicks as number[], percent);\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isString } from '@antv/util';\nimport { animation, annotation, interaction, scale, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick, renderGaugeStatistic } from '../../utils';\nimport { DEFAULT_COLOR, INDICATEOR_VIEW_ID, PERCENT, RANGE_TYPE, RANGE_VALUE, RANGE_VIEW_ID } from './constants';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { percent, range, radius, innerRadius, startAngle, endAngle, axis, indicator, gaugeStyle, type, meter } =\n    options;\n  const { color, width: rangeWidth } = range;\n\n  //  & \n  // \n  if (indicator) {\n    const indicatorData = getIndicatorData(percent);\n\n    const v1 = chart.createView({ id: INDICATEOR_VIEW_ID });\n    v1.data(indicatorData);\n\n    v1.point()\n      .position(`${PERCENT}*1`)\n      .shape(indicator.shape || 'gauge-indicator')\n      //  shape \n      .customInfo({\n        defaultColor: chart.getTheme().defaultColor,\n        indicator,\n      });\n\n    v1.coordinate('polar', {\n      startAngle,\n      endAngle,\n      radius: innerRadius * radius, //  innerRadius * radius =  radius\n    });\n\n    v1.axis(PERCENT, axis);\n    //  scale \n    v1.scale(PERCENT, pick(axis, AXIS_META_CONFIG_KEYS));\n  }\n\n  //  range\n  // [{ range: 1, type: '0', percent:  }]\n  const rangeData = getRangeData(percent, options.range);\n  const v2 = chart.createView({ id: RANGE_VIEW_ID });\n  v2.data(rangeData);\n\n  const rangeColor = isString(color) ? [color, DEFAULT_COLOR] : color;\n\n  const { ext } = interval({\n    chart: v2,\n    options: {\n      xField: '1',\n      yField: RANGE_VALUE,\n      seriesField: RANGE_TYPE,\n      rawFields: [PERCENT],\n      isStack: true,\n      interval: {\n        color: rangeColor,\n        style: gaugeStyle,\n        shape: type === 'meter' ? 'meter-gauge' : null,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n      minColumnWidth: rangeWidth,\n      maxColumnWidth: rangeWidth,\n    },\n  });\n\n  const geometry = ext.geometry as Geometry;\n  //  shape \n  geometry.customInfo({ meter });\n\n  v2.coordinate('polar', {\n    innerRadius,\n    radius,\n    startAngle,\n    endAngle,\n  }).transpose();\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  return flow(\n    scale({\n      range: {\n        min: 0,\n        max: 1,\n        maxLimit: 1,\n        minLimit: 0,\n      },\n      [PERCENT]: {},\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction statistic(params: Params<GaugeOptions>, updated?: boolean): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { statistic, percent } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n  if (statistic) {\n    const { content: contentOption } = statistic;\n    let transformContent;\n    //  content \n    if (contentOption) {\n      transformContent = deepAssign(\n        {},\n        {\n          content: `${(percent * 100).toFixed(2)}%`,\n          style: {\n            opacity: 0.75,\n            fontSize: '30px',\n            lineHeight: 1,\n            textAlign: 'center',\n            color: 'rgba(44,53,66,0.85)',\n          },\n        },\n        contentOption\n      );\n    }\n    renderGaugeStatistic(chart, { statistic: { ...statistic, content: transformContent } }, { percent });\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n */\nfunction tooltip(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(\n      deepAssign(\n        {\n          showTitle: false,\n          showMarkers: false,\n          containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n          domStyles: {\n            'g2-tooltip': {\n              padding: '4px 8px',\n              fontSize: '10px',\n            },\n          },\n          customContent: (x: string, data: any[]) => {\n            const percent = get(data, [0, 'data', PERCENT], 0);\n            return `${(percent * 100).toFixed(2)}%`;\n          },\n        },\n        tooltip\n      )\n    );\n  } else {\n    //  tooltip\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction other(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart } = params;\n\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n *  adaptor\n */\nexport { statistic };\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<GaugeOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    // animation  createView  View \n    animation,\n    geometry,\n    meta,\n    tooltip,\n    statistic,\n    interaction,\n    annotation(),\n    other\n    // ...  adaptor flow\n  )(params);\n}\n","import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// Shape \nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    //  customInfo \n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // \n    const center = this.parsePoint({ x: 0, y: 0 });\n    // \n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n","import { registerShape, Types, Util } from '@antv/g2';\nimport { clamp } from '@antv/util';\nimport { GaugeCustomInfo } from '../types';\n\ntype ShapeCfg = Omit<Types.ShapeInfo, 'customInfo'> & {\n  customInfo: GaugeCustomInfo;\n};\n\n/**\n *  Shape : \n *  STEP, STEP_RATIO. : 1 / (STEP + 1) * i -> 1 / (STEP + 1) * i + (STEP_RATIO / (STEP + 1))\n */\nregisterShape('interval', 'meter-gauge', {\n  draw(cfg: ShapeCfg, container) {\n    //  customInfo \n    const { meter = {} } = cfg.customInfo;\n    let { steps: STEP = 50, stepRatio: STEP_RATIO = 0.5 } = meter;\n    STEP = STEP < 1 ? 1 : STEP;\n    // stepRatio : (0, 1]\n    STEP_RATIO = clamp(STEP_RATIO, 0, 1);\n\n    const { startAngle: COORD_START_ANGLE, endAngle: COORD_END_ANGLE } = this.coordinate;\n    let GAP = 0;\n    if (STEP_RATIO > 0 && STEP_RATIO < 1) {\n      const TOTAL = COORD_END_ANGLE - COORD_START_ANGLE;\n      GAP = TOTAL / STEP / (STEP_RATIO / (1 - STEP_RATIO) + 1 - 1 / STEP);\n    }\n    const INTERVAL = (GAP / (1 - STEP_RATIO)) * STEP_RATIO;\n\n    const group = container.addGroup();\n    //  gap\n    const center = this.coordinate.getCenter();\n    const radius = this.coordinate.getRadius();\n    const { startAngle: START_ANGLE, endAngle: END_ANGLE } = Util.getAngle(cfg, this.coordinate);\n\n    for (let startAngle = START_ANGLE; startAngle < END_ANGLE; ) {\n      let endAngle;\n      const r = (startAngle - COORD_START_ANGLE) % (INTERVAL + GAP);\n      if (r < INTERVAL) {\n        endAngle = startAngle + (INTERVAL - r);\n      } else {\n        startAngle += INTERVAL + GAP - r;\n        endAngle = startAngle + INTERVAL;\n      }\n      const path = Util.getSectorPath(\n        center.x,\n        center.y,\n        radius,\n        startAngle,\n        Math.min(endAngle, END_ANGLE),\n        radius * this.coordinate.innerRadius\n      );\n      group.addShape('path', {\n        name: 'meter-gauge',\n        attrs: {\n          path,\n          fill: cfg.color,\n          stroke: cfg.color,\n          lineWidth: 0.5,\n        },\n      });\n      startAngle = endAngle + GAP;\n    }\n\n    return group;\n  },\n});\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS, INDICATEOR_VIEW_ID, RANGE_VIEW_ID } from './constants';\n//  shape\nimport './shapes/indicator';\nimport './shapes/meter-gauge';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\nexport type { GaugeOptions };\n\n/**\n * \n */\nexport class Gauge extends Plot<GaugeOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<GaugeOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'gauge';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    this.updateOption({ percent });\n    const indicatorView = this.chart.views.find((v) => v.id === INDICATEOR_VIEW_ID);\n    if (indicatorView) {\n      indicatorView.data(getIndicatorData(percent));\n    }\n\n    const rangeView = this.chart.views.find((v) => v.id === RANGE_VIEW_ID);\n    if (rangeView) {\n      rangeView.data(getRangeData(percent, this.options.range));\n    }\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   *  base \n   */\n  protected getDefaultOptions() {\n    return Gauge.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<GaugeOptions> {\n    return adaptor;\n  }\n}\n","import { clone, each, getRange, groupBy, hasKey, isEmpty, sortBy, valuesOfKey } from '@antv/util';\nimport { Data } from '../../types';\n\ntype StatisticData = {\n  range: Array<number>;\n  count: number;\n};\ntype StatisticBin = {\n  [key: string]: StatisticData;\n};\n\n//  range\nfunction getBinKey(value: number, binWidth: number, binNumber?: number): [number, number] {\n  // \n  if (binNumber === 1) {\n    return [0, binWidth];\n  }\n  const index = Math.floor(value / binWidth);\n  return [binWidth * index, binWidth * (index + 1)];\n}\n\n//  sturges \nfunction sturges(values: Array<number>): number {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * \n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data: Data, binField: string, binWidth: number, binNumber?: number, stackField?: string) {\n  const originData_copy = clone(data);\n\n  //  binField \n  sortBy(originData_copy, binField);\n\n  //  binField  range\n  const values = valuesOfKey(originData_copy, binField);\n  const range = getRange(values);\n  const rangeWidth = range.max - range.min;\n\n  //  binWidth binNumber  binWidth \n  let _binWidth = binWidth;\n  if (!binWidth && binNumber) {\n    _binWidth = binNumber > 1 ? rangeWidth / (binNumber - 1) : range.max;\n  }\n  //  binWidth  binNumber  Sturges formula  binWidth\n  if (!binWidth && !binNumber) {\n    const _defaultBinNumber = sturges(values);\n    _binWidth = rangeWidth / _defaultBinNumber;\n  }\n  //  key - StatisticData \n  const bins: StatisticBin = {};\n  const groups = groupBy(originData_copy, stackField);\n  //  stackField \n  if (isEmpty(groups)) {\n    each(originData_copy, (data: any) => {\n      const value = data[binField];\n      const bin = getBinKey(value, _binWidth, binNumber);\n      const binKey = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binKey)) {\n        bins[binKey] = { range: bin, count: 0 };\n      }\n      bins[binKey].count += 1;\n    });\n  } else {\n    Object.keys(groups).forEach((groupKey: string) => {\n      each(groups[groupKey], (data: any) => {\n        const value = data[binField];\n        const bin = getBinKey(value, _binWidth, binNumber);\n        const binKey = `${bin[0]}-${bin[1]}`;\n        const groupKeyBinKey = `${binKey}-${groupKey}`;\n        if (!hasKey(bins, groupKeyBinKey)) {\n          bins[groupKeyBinKey] = { range: bin, count: 0 };\n          bins[groupKeyBinKey][stackField] = groupKey;\n        }\n        bins[groupKeyBinKey].count += 1;\n      });\n    });\n  }\n  //  plotData \n  const plotData: Array<StatisticData> = [];\n  each(bins, (bin: StatisticData) => {\n    plotData.push(bin);\n  });\n  return plotData;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**  xField */\nexport const HISTOGRAM_X_FIELD = 'range';\n/**  yField */\nexport const HISTOGRAM_Y_FIELD = 'count';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnStyle: {\n    stroke: '#FFFFFF',\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { animation, interaction, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HISTOGRAM_X_FIELD, HISTOGRAM_Y_FIELD } from './constant';\nimport { HistogramOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { data, binField, binNumber, binWidth, color, stackField, legend, columnStyle } = options;\n\n  // \n  const plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n\n  chart.data(plotData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: HISTOGRAM_X_FIELD,\n      yField: HISTOGRAM_Y_FIELD,\n      seriesField: stackField,\n      isStack: true,\n      interval: {\n        color,\n        style: columnStyle,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  if (legend && stackField) {\n    chart.legend(stackField, legend);\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { options } = params;\n  const { xAxis, yAxis } = options;\n\n  return flow(\n    scale({\n      [HISTOGRAM_X_FIELD]: xAxis,\n      [HISTOGRAM_Y_FIELD]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(HISTOGRAM_X_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(HISTOGRAM_Y_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [HISTOGRAM_Y_FIELD],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HistogramOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('columnStyle'),\n    geometry,\n    meta,\n    axis,\n    state,\n    label,\n    tooltip,\n    interaction,\n    animation\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { HistogramOptions } from './types';\n\nexport type { HistogramOptions };\n\nexport class Histogram extends Plot<HistogramOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<HistogramOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'histogram';\n\n  public changeData(data: HistogramOptions['data']) {\n    this.updateOption({ data });\n\n    const { binField, binNumber, binWidth, stackField } = this.options;\n    this.chart.changeData(binHistogram(data, binField, binWidth, binNumber, stackField));\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return Histogram.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HistogramOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n  isStack: false,\n});\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\n\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n  start: [\n    {\n      trigger: 'tooltip:show',\n      action: 'marker-active:active',\n    },\n  ],\n  end: [\n    {\n      trigger: 'tooltip:hide',\n      action: 'marker-active:reset',\n    },\n  ],\n});\n","import { Geometry, InteractionAction, View } from '@antv/g2';\nimport { each, findIndex } from '@antv/util';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items:  tooltip \n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport './interactions';\nimport { LineOptions } from './types';\n\nexport type { LineOptions };\n\nexport class Line extends Plot<LineOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: LineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Line.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<LineOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  tooltip: {\n    shared: false,\n    showTitle: false,\n    showMarkers: false,\n  },\n  label: {\n    layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } },\n  },\n  /** ,  */\n  pieStyle: {\n    stroke: 'white',\n    lineWidth: 1,\n  },\n  /**  */\n  statistic: {\n    title: {\n      style: { fontWeight: 300, color: '#4B535E', textAlign: 'center', fontSize: '20px', lineHeight: 1 },\n    },\n    content: {\n      style: {\n        fontWeight: 'bold',\n        color: 'rgba(44,53,66,0.85)',\n        textAlign: 'center',\n        fontSize: '32px',\n        lineHeight: 1,\n      },\n    },\n  },\n  /**  text-annotation  */\n  theme: {\n    components: {\n      annotation: {\n        text: {\n          animate: false,\n        },\n      },\n    },\n  },\n});\n","import { Util } from '@antv/g2';\n\nconst ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n/**\n * \n * @param actions\n * @param matrix\n */\nexport function transform(actions: any[][], matrix?: number[]) {\n  const ulMatrix = matrix ? [...matrix] : [...ORIGIN_MATRIX];\n  return Util.transform(ulMatrix, actions);\n}\n","import { IElement, IGroup } from '@antv/g-base';\nimport { Action, Element, Util } from '@antv/g2';\nimport { isEqual } from '@antv/util';\nimport { transform } from '../../../../utils/matrix';\n\n/**\n *   action\n */\nexport class PieLegendAction extends Action {\n  /**\n   * \n   */\n  private getActiveElements(): Element[] {\n    const delegateObject = Util.getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component, item } = delegateObject;\n      const field = component.get('field');\n      if (field) {\n        const elements = view.geometries[0].elements;\n        return elements.filter((ele) => ele.getModel().data[field] === item.value);\n      }\n    }\n    return [];\n  }\n\n  /**\n   * \n   */\n  private getActiveElementLabels(): (IElement | IGroup)[] {\n    const view = this.context.view;\n    const elements = this.getActiveElements();\n    const labels = view.geometries[0].labelsContainer.getChildren();\n    return labels.filter((label) => elements.find((ele) => isEqual(ele.getData(), label.get('data'))));\n  }\n\n  protected transfrom(offset: number = 7.5) {\n    const elements = this.getActiveElements();\n    const elementLabels = this.getActiveElementLabels();\n    elements.forEach((element, idx) => {\n      const labelShape = elementLabels[idx];\n      const coordinate = element.geometry.coordinate;\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        const { startAngle, endAngle } = Util.getAngle(element.getModel(), coordinate);\n        const middleAngle = (startAngle + endAngle) / 2;\n        const r = offset;\n        const x = r * Math.cos(middleAngle);\n        const y = r * Math.sin(middleAngle);\n        element.shape.setMatrix(transform([['t', x, y]]));\n        labelShape.setMatrix(transform([['t', x, y]]));\n      }\n    });\n  }\n\n  public active() {\n    this.transfrom();\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.transfrom(0);\n  }\n}\n","import { Action, Types, Util, View } from '@antv/g2';\nimport { each, get } from '@antv/util';\nimport { Annotation } from '../../../../types/annotation';\nimport { renderStatistic } from '../../../../utils/statistic';\nimport { PieOptions } from '../../types';\nimport { getCurrentElement } from '../util';\n\n/**\n * Pie  Action\n */\nexport class StatisticAction extends Action {\n  private initialAnnotation;\n\n  private getAnnotations(_view?: View): object[] {\n    const view = _view || this.context.view;\n    // @ts-ignore\n    return view.getController('annotation').option;\n  }\n\n  private getInitialAnnotation(): Types.ComponentOption[] | null {\n    return this.initialAnnotation;\n  }\n\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n\n    view.on('afterchangesize', () => {\n      const annotations = this.getAnnotations(view);\n      this.initialAnnotation = annotations;\n    });\n  }\n\n  public change(arg?: Pick<PieOptions, 'annotations' | 'statistic'>) {\n    const { view, event } = this.context;\n    if (!this.initialAnnotation) {\n      this.initialAnnotation = this.getAnnotations();\n    }\n\n    let data = get(event, ['data', 'data']);\n    if (event.type.match('legend-item')) {\n      const delegateObject = Util.getDelegationObject(this.context);\n      // @ts-ignore\n      const colorField = view.getGroupedFields()[0];\n      if (delegateObject && colorField) {\n        const { item } = delegateObject;\n        data = view.getData().find((d) => d[colorField] === item.value);\n      }\n    }\n\n    if (data) {\n      const annotations = get(arg, 'annotations', []);\n      const statistic = get(arg, 'statistic', {});\n      // \n      view.getController('annotation').clear(true);\n      //  annotations\n      each(annotations, (annotation: Annotation) => {\n        if (typeof annotation === 'object') {\n          view.annotation()[annotation.type](annotation);\n        }\n      });\n      renderStatistic(view, { statistic, plotType: 'pie' }, data);\n      view.render(true);\n    }\n\n    //  shape \n    const ele = getCurrentElement(this.context);\n    if (ele) {\n      ele.shape.toFront();\n    }\n  }\n\n  public reset() {\n    const { view } = this.context;\n    const annotationController = view.getController('annotation');\n    annotationController.clear(true);\n    const initialStatistic = this.getInitialAnnotation();\n    each(initialStatistic, (a) => {\n      view.annotation()[a.type](a);\n    });\n    view.render(true);\n  }\n}\n","import { Element } from '@antv/g2';\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context): Element | undefined {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n","import { each, every, isString } from '@antv/util';\nimport { Data } from '../../types';\nimport { processIllegalData } from '../../utils';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function getTotalValue(data: Data, field: string) {\n  let total = null;\n  each(data, (item) => {\n    if (typeof item[field] === 'number') {\n      total += item[field];\n    }\n  });\n  return total;\n}\n\n/**\n * pie label offset adaptor\n */\nexport function adaptOffset(type: string, offset?: string | number): string | number {\n  let defaultOffset;\n  switch (type) {\n    case 'inner':\n      defaultOffset = '-30%';\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 > 0 ? defaultOffset : offset;\n      }\n      return offset < 0 ? offset : defaultOffset;\n    case 'outer':\n      defaultOffset = 12;\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 < 0 ? defaultOffset : offset;\n      }\n      return offset > 0 ? offset : defaultOffset;\n    default:\n      return offset;\n  }\n}\n\n/**\n *  0\n * @param data\n * @param angleField\n */\nexport function isAllZero(data: PieOptions['data'], angleField: string): boolean {\n  return every(processIllegalData(data, angleField), (d) => d[angleField] === 0);\n}\n","import { each, get, isArray, isEmpty, isFunction, isNil, isNumber, isString, toString } from '@antv/util';\nimport { animation, annotation, legend, state, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { getMappingFunction } from '../../adaptor/geometries/base';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { getLocale } from '../../core/locale';\nimport { Data, Datum } from '../../types';\nimport { Interaction } from '../../types/interaction';\nimport { deepAssign, flow, processIllegalData, renderStatistic, template, transformLabel } from '../../utils';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { PIE_STATISTIC } from './interactions';\nimport { PieOptions } from './types';\nimport { adaptOffset, getTotalValue, isAllZero } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { data, angleField, colorField, color, pieStyle, shape } = options;\n\n  // \n  let processData = processIllegalData(data, angleField);\n\n  if (isAllZero(processData, angleField)) {\n    //  0  position \n    const percentageField = '$$percentage$$';\n    processData = processData.map((d) => ({ ...d, [percentageField]: 1 / processData.length }));\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: percentageField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          shape,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  } else {\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: angleField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          shape,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { meta, colorField } = options;\n\n  // meta  scale \n  const scales = deepAssign({}, meta);\n  chart.scale(scales, {\n    [colorField]: { type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'theta',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { label, colorField, angleField } = options;\n\n  const geometry = chart.geometries[0];\n  // label  false,   label\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    const labelCfg = transformLabel(cfg);\n\n    //   label content \n    if (labelCfg.content) {\n      const { content } = labelCfg;\n      labelCfg.content = (data: object, dataum: any, index: number) => {\n        const name = data[colorField];\n        const value = data[angleField];\n        // dymatic get scale, scale is ready this time\n        const angleScale = chart.getScaleByField(angleField);\n        const percent = angleScale?.scale(value);\n        return isFunction(content)\n          ? // append percent (number) to data, users can get origin data from `dataum._origin`\n            content({ ...data, percent }, dataum, index)\n          : isString(content)\n          ? template(content as string, {\n              value,\n              name,\n              // percentage (string), default keep 2\n              percentage: isNumber(percent) && !isNil(value) ? `${(percent * 100).toFixed(2)}%` : null,\n            })\n          : content;\n      };\n    }\n\n    const LABEL_LAYOUT_TYPE_MAP = {\n      inner: '',\n      outer: 'pie-outer',\n      spider: 'pie-spider',\n    };\n    const labelLayoutType = labelCfg.type ? LABEL_LAYOUT_TYPE_MAP[labelCfg.type] : 'pie-outer';\n    const labelLayoutCfg = labelCfg.layout ? (!isArray(labelCfg.layout) ? [labelCfg.layout] : labelCfg.layout) : [];\n    labelCfg.layout = (labelLayoutType ? [{ type: labelLayoutType }] : []).concat(labelLayoutCfg);\n\n    geometry.label({\n      // fix: could not create scale, when field is undefinedattributes  fields  scale\n      fields: colorField ? [angleField, colorField] : [angleField],\n      callback,\n      cfg: {\n        ...labelCfg,\n        offset: adaptOffset(labelCfg.type, labelCfg.offset),\n        type: 'pie',\n      },\n    });\n  }\n  return params;\n}\n\n/**\n * statistic options \n * 1.  default options \n * 2.  meta  formatter\n */\nexport function transformStatisticOptions(options: PieOptions): PieOptions {\n  const { innerRadius, statistic, angleField, colorField, meta, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (innerRadius && statistic) {\n    let { title: titleOpt, content: contentOpt } = deepAssign({}, DEFAULT_OPTIONS.statistic, statistic);\n    if (titleOpt !== false) {\n      titleOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum) => {\n            // , datum existed.\n            const text = datum\n              ? datum[colorField]\n              : !isNil(titleOpt.content)\n              ? titleOpt.content\n              : i18n.get(['statistic', 'total']);\n            const metaFormatter = get(meta, [colorField, 'formatter']) || ((v) => v);\n            return metaFormatter(text);\n          },\n        },\n        titleOpt\n      );\n    }\n    if (contentOpt !== false) {\n      contentOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum, data: Data) => {\n            const dataValue = datum ? datum[angleField] : getTotalValue(data, angleField);\n            const metaFormatter = get(meta, [angleField, 'formatter']) || ((v) => v);\n            // \n            if (datum) {\n              return metaFormatter(dataValue);\n            }\n            return !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(dataValue);\n          },\n        },\n        contentOpt\n      );\n    }\n\n    return deepAssign({}, { statistic: { title: titleOpt, content: contentOpt } }, options);\n  }\n  return options;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function pieAnnotation(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic } = transformStatisticOptions(options);\n  // \n  chart.getController('annotation').clear(true);\n\n  //  annotations\n  flow(annotation())(params);\n\n  /**   */\n  if (innerRadius && statistic) {\n    renderStatistic(chart, { statistic, plotType: 'pie' });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * 1.  tooltip.shared  false\n * @param params\n */\nfunction tooltip(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { tooltip, colorField, angleField, data } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(deepAssign({}, tooltip, { shared: false }));\n\n    //  all zero  all zero \n    if (isAllZero(data, angleField)) {\n      let fields = get(tooltip, 'fields');\n      let formatter = get(tooltip, 'formatter');\n\n      if (isEmpty(get(tooltip, 'fields'))) {\n        fields = [colorField, angleField];\n        formatter = formatter || ((datum) => ({ name: datum[colorField], value: toString(datum[angleField]) }));\n      }\n      chart.geometries[0].tooltip(fields.join('*'), getMappingFunction(fields, formatter));\n    }\n  }\n\n  return params;\n}\n\n/**\n * Interaction  ( interaction, \n * @param params\n */\nexport function interaction(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { interactions, statistic, annotations } = transformStatisticOptions(options);\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else if (i.type === 'pie-statistic-active') {\n      //  start \n      let startStages = [];\n      if (!i.cfg?.start) {\n        startStages = [\n          {\n            trigger: 'element:mouseenter',\n            action: `${PIE_STATISTIC}:change`,\n            arg: { statistic, annotations },\n          },\n        ];\n      }\n      each(i.cfg?.start, (stage) => {\n        startStages.push({ ...stage, arg: { statistic, annotations } });\n      });\n      chart.interaction(i.type, deepAssign({}, i.cfg, { start: startStages }));\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<PieOptions>) {\n  // flow  G2 API\n  return flow<Params<PieOptions>>(\n    pattern('pieStyle'),\n    geometry,\n    meta,\n    theme,\n    coordinate,\n    legend,\n    tooltip,\n    label,\n    state,\n    /**   */\n    pieAnnotation,\n    interaction,\n    animation\n  )(params);\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './actions/legend-active';\nimport { StatisticAction } from './actions/statistic-active';\n\nexport const PIE_STATISTIC = 'pie-statistic';\n\nregisterAction(PIE_STATISTIC, StatisticAction);\nregisterInteraction('pie-statistic-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n  end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\n\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n  end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { processIllegalData } from '../../utils';\nimport { adaptor, pieAnnotation } from './adaptor';\nimport { DEFAULT_OPTIONS } from './contants';\nimport './interactions';\nimport { PieOptions } from './types';\nimport { isAllZero } from './utils';\n\nexport type { PieOptions };\n\nexport class Pie extends Plot<PieOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<PieOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'pie';\n\n  /**\n   * \n   * @param data\n   */\n  public changeData(data: PieOptions['data']) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    const prevOptions = this.options;\n    const { angleField } = this.options;\n    const prevData = processIllegalData(prevOptions.data, angleField);\n    const curData = processIllegalData(data, angleField);\n    //  0\n    if (isAllZero(prevData, angleField) || isAllZero(curData, angleField)) {\n      this.update({ data });\n    } else {\n      this.updateOption({ data });\n      this.chart.data(curData);\n      // todo  G2  afterrender  annotations\n      pieAnnotation({ chart: this.chart, options: this.options });\n      this.chart.render(true);\n    }\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<PieOptions> {\n    return Pie.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<PieOptions> {\n    return adaptor;\n  }\n}\n","export const DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  color: DEFAULT_COLOR,\n  animation: {},\n};\n","import { clamp } from '@antv/util';\nimport { isRealNumber } from '../../utils/number';\n\n/**\n * \n */\nexport function getProgressData(percent: number) {\n  const clampPercent = clamp(isRealNumber(percent) ? percent : 0, 0, 1);\n  return [\n    {\n      //  progressStyle \n      current: `${clampPercent}`,\n      type: 'current',\n      percent: clampPercent,\n    },\n    {\n      current: `${clampPercent}`,\n      type: 'target',\n      percent: 1,\n    },\n  ];\n}\n","import { isString } from '@antv/util';\nimport { animation, annotation, scale, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { DEFAULT_COLOR } from './constants';\nimport { ProgressOptions } from './types';\nimport { getProgressData } from './utils';\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart, options } = params;\n  const { percent, progressStyle, color, barWidthRatio } = options;\n\n  chart.data(getProgressData(percent));\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'current',\n      yField: 'percent',\n      seriesField: 'type',\n      widthRatio: barWidthRatio,\n      interval: {\n        style: progressStyle,\n        color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  chart.tooltip(false);\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction coordinate(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart } = params;\n\n  chart.coordinate('rect').transpose();\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ProgressOptions>) {\n  // @ts-ignore\n  return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { ProgressOptions } from './types';\nimport { getProgressData } from './utils';\n\nexport type { ProgressOptions };\n\nexport class Progress extends Plot<ProgressOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.updateOption({ percent });\n    this.chart.changeData(getProgressData(percent));\n  }\n\n  protected getDefaultOptions() {\n    return Progress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ProgressOptions> {\n    return adaptor;\n  }\n}\n","import { get, isNil } from '@antv/util';\nimport { animation, annotation, scale, theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { geometry } from '../progress/adaptor';\nimport { RingProgressOptions } from './types';\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RingProgressOptions>): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius } = options;\n\n  // coordinate\n  chart.coordinate('theta', {\n    innerRadius,\n    radius,\n  });\n\n  return params;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function statistic(params: Params<RingProgressOptions>, updated?: boolean): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  /**   */\n  if (innerRadius && statistic) {\n    const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n    let contentOpt = statistic.content;\n    if (contentOpt) {\n      contentOpt = deepAssign({}, contentOpt, {\n        content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n      });\n    }\n    renderStatistic(\n      chart,\n      { statistic: { ...statistic, content: contentOpt }, plotType: 'ring-progress' },\n      { percent }\n    );\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RingProgressOptions>) {\n  return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  innerRadius: 0.8,\n  radius: 0.98,\n  color: ['#FAAD14', '#E8EDF3'],\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        fontSize: '14px',\n        fontWeight: 300,\n        fill: '#4D4D4D',\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n  },\n  animation: {},\n};\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getProgressData } from '../progress/utils';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { RingProgressOptions } from './types';\n\nexport type { RingProgressOptions };\n\nexport class RingProgress extends Plot<RingProgressOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<RingProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'ring-process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getProgressData(percent));\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return RingProgress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RingProgressOptions> {\n    return adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, isArray, isNumber } from '@antv/util';\nimport {\n  regressionExp,\n  regressionLinear,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\nimport { getSplinePath } from '../../utils';\nimport { ScatterOptions } from './types';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\ntype RenderOptions = {\n  view: View;\n  options: ScatterOptions;\n};\n\ntype D3RegressionResult = {\n  a?: number;\n  b?: number;\n  c?: number;\n  coefficients?: number[];\n  rSquared?: number;\n};\n\n/**\n * \n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline: number, yBaseline: number) {\n  // \n  const textOffset = 10;\n  // \n  const defaultConfig: { [key: string]: any } = {\n    regionStyle: [\n      {\n        position: {\n          start: [xBaseline, 'max'],\n          end: ['max', yBaseline],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', 'max'],\n          end: [xBaseline, yBaseline],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', yBaseline],\n          end: [xBaseline, 'min'],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: [xBaseline, yBaseline],\n          end: ['max', 'min'],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n    ],\n    lineStyle: {\n      stroke: '#9ba29a',\n      lineWidth: 1,\n    },\n    labelStyle: [\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n    ],\n  };\n  return defaultConfig;\n}\n\nconst splinePath = (data: number[][], config: RenderOptions) => {\n  const {\n    view,\n    options: { xField, yField },\n  } = config;\n  const xScaleView = view.getScaleByField(xField);\n  const yScaleView = view.getScaleByField(yField);\n  const pathData = data.map((d: [number, number]) =>\n    view.getCoordinate().convert({ x: xScaleView.scale(d[0]), y: yScaleView.scale(d[1]) })\n  );\n  return getSplinePath(pathData, false);\n};\n\nexport const getPath = (config: RenderOptions) => {\n  const { options } = config;\n  const { xField, yField, data, regressionLine } = options;\n  const { type = 'linear', algorithm, equation: customEquation } = regressionLine;\n  let pathData: Array<[number, number]>;\n  let equation = null;\n  if (algorithm) {\n    pathData = isArray(algorithm) ? algorithm : algorithm(data);\n    equation = customEquation;\n  } else {\n    const reg = REGRESSION_MAP[type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    pathData = reg(data);\n    equation = getRegressionEquation(type, pathData as D3RegressionResult);\n  }\n  return [splinePath(pathData, config), equation];\n};\n\n/**\n *  meta: { min, max }  data.length === 1   y    x \n * @param options\n * @returns\n */\nexport const getMeta = (\n  options: Pick<ScatterOptions, 'meta' | 'xField' | 'yField' | 'data'>\n): ScatterOptions['meta'] => {\n  const { meta = {}, xField, yField, data } = options;\n  const xFieldValue = data[0][xField];\n  const yFieldValue = data[0][yField];\n  const xIsPositiveNumber = xFieldValue > 0;\n  const yIsPositiveNumber = yFieldValue > 0;\n\n  /**\n   *  min max scale \n   */\n  function getMetaMinMax(field: string, axis: 'x' | 'y') {\n    const fieldMeta = get(meta, [field]);\n\n    function getCustomValue(type: 'min' | 'max') {\n      return get(fieldMeta, type);\n    }\n\n    const range = {};\n\n    if (axis === 'x') {\n      if (isNumber(xFieldValue)) {\n        if (!isNumber(getCustomValue('min'))) {\n          range['min'] = xIsPositiveNumber ? 0 : xFieldValue * 2;\n        }\n\n        if (!isNumber(getCustomValue('max'))) {\n          range['max'] = xIsPositiveNumber ? xFieldValue * 2 : 0;\n        }\n      }\n\n      return range;\n    }\n\n    if (isNumber(yFieldValue)) {\n      if (!isNumber(getCustomValue('min'))) {\n        range['min'] = yIsPositiveNumber ? 0 : yFieldValue * 2;\n      }\n\n      if (!isNumber(getCustomValue('max'))) {\n        range['max'] = yIsPositiveNumber ? yFieldValue * 2 : 0;\n      }\n    }\n\n    return range;\n  }\n\n  return {\n    ...meta,\n    [xField]: {\n      ...meta[xField],\n      ...getMetaMinMax(xField, 'x'),\n    },\n    [yField]: {\n      ...meta[yField],\n      ...getMetaMinMax(yField, 'y'),\n    },\n  };\n};\n\n/**\n * \n * @param {string} type - \n * @param {D3RegressionResult} res - \n * @return {string}\n */\nexport function getRegressionEquation(type: string, res: D3RegressionResult) {\n  const roundByPrecision = (n, p = 4) => Math.round(n * Math.pow(10, p)) / Math.pow(10, p);\n  const safeFormat = (value) => (Number.isFinite(value) ? roundByPrecision(value) : '?');\n\n  switch (type) {\n    case 'linear':\n      // y = ax + b\n      return `y = ${safeFormat(res.a)}x + ${safeFormat(res.b)}, R^2 = ${safeFormat(res.rSquared)}`;\n    case 'exp':\n      // y = ae^(bx)\n      return `y = ${safeFormat(res.a)}e^(${safeFormat(res.b)}x), R^2 = ${safeFormat(res.rSquared)}`;\n    case 'log':\n      // y = a  ln(x) + b\n      return `y = ${safeFormat(res.a)}ln(x) + ${safeFormat(res.b)}, R^2 = ${safeFormat(res.rSquared)}`;\n    case 'quad':\n      // y = ax^2 + bx + c\n      return `y = ${safeFormat(res.a)}x^2 + ${safeFormat(res.b)}x + ${safeFormat(res.c)}, R^2 = ${safeFormat(\n        res.rSquared\n      )}`;\n    case 'poly':\n      // y = anx^n + ... + a1x + a0\n      // eslint-disable-next-line no-case-declarations\n      let temp = `y = ${safeFormat(res.coefficients?.[0])} + ${safeFormat(res.coefficients?.[1])}x + ${safeFormat(\n        res.coefficients?.[2]\n      )}x^2`;\n      for (let i = 3; i < res.coefficients.length; ++i) {\n        temp += ` + ${safeFormat(res.coefficients[i])}x^${i}`;\n      }\n      return `${temp}, R^2 = ${safeFormat(res.rSquared)}`;\n    case 'pow':\n      // y = ax^b\n      return `y = ${safeFormat(res.a)}x^${safeFormat(res.b)}, R^2 = ${safeFormat(res.rSquared)}`;\n  }\n  return null;\n}\n","import { isNumber } from '@antv/util';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { animation, annotation, interaction, scale, scrollbar, slider, theme } from '../../adaptor/common';\nimport { point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, pick, transformLabel } from '../../utils';\nimport { ScatterOptions } from './types';\nimport { getMeta, getPath, getQuadrantDefaultConfig } from './util';\n\n/**\n * \n *  data.length === 1   y    x \n * @param params\n * @returns params\n */\nexport function transformOptions(options: ScatterOptions): ScatterOptions {\n  const { data = [], xField, yField } = options;\n\n  if (data.length) {\n    // x y \n    let isOneX = true;\n    let isOneY = true;\n\n    let prev = data[0];\n    let curr;\n\n    for (let i = 1; i < data.length; i++) {\n      curr = data[i];\n\n      if (prev[xField] !== curr[xField]) {\n        isOneX = false;\n      }\n\n      if (prev[yField] !== curr[yField]) {\n        isOneY = false;\n      }\n\n      //  oneValue\n      if (!isOneX && !isOneY) {\n        break;\n      }\n\n      prev = curr;\n    }\n\n    const keys = [];\n    isOneX && keys.push(xField);\n    isOneY && keys.push(yField);\n\n    const meta = pick(getMeta(options), keys);\n\n    return deepAssign({}, options, { meta });\n  }\n\n  return options;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { data, type, color, shape, pointStyle, shapeField, colorField, xField, yField, sizeField } = options;\n  let { size } = options;\n\n  let { tooltip } = options;\n\n  if (sizeField) {\n    if (!size) {\n      size = [2, 8];\n    }\n    if (isNumber(size)) {\n      size = [size, size];\n    }\n  }\n\n  if (tooltip && !tooltip.fields) {\n    tooltip = {\n      ...tooltip,\n      fields: [xField, yField, colorField, sizeField, shapeField],\n    };\n  }\n  // \n  chart.data(data);\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        seriesField: colorField,\n        point: {\n          color,\n          shape,\n          size,\n          style: pointStyle,\n        },\n        tooltip,\n      },\n    })\n  );\n\n  const geometry = findGeometry(chart, 'point');\n\n  // \n  if (type) {\n    geometry.adjust(type);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  const newOptions = transformOptions(options);\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(deepAssign({}, params, { options: newOptions }));\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, shapeField, sizeField, shapeLegend, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  //  shapeLegend,  legend\n  if (shapeField) {\n    if (shapeLegend) {\n      chart.legend(shapeField, shapeLegend);\n    } else {\n      chart.legend(shapeField, shapeLegend === false ? false : legend);\n    }\n  }\n\n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend ? sizeLegend : false);\n  }\n\n  /**  shape  shapeLegend  undefined  */\n  /**  sizeField */\n  if (!showLegend && !shapeLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const scatterGeometry = findGeometry(chart, 'point');\n\n  // label  false,   label\n  if (!label) {\n    scatterGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    scatterGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * annotation \n * -  annotation: quadrant()\n * @param params\n */\nfunction scatterAnnotation(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { quadrant } = options;\n\n  const annotationOptions = [];\n\n  if (quadrant) {\n    const { xBaseline = 0, yBaseline = 0, labels, regionStyle, lineStyle } = quadrant;\n    const defaultConfig = getQuadrantDefaultConfig(xBaseline, yBaseline);\n    // \n    const quadrants = new Array(4).join(',').split(',');\n    quadrants.forEach((_: string, index: number) => {\n      annotationOptions.push(\n        {\n          type: 'region',\n          top: false,\n          ...defaultConfig.regionStyle[index].position,\n          style: deepAssign({}, defaultConfig.regionStyle[index].style, regionStyle?.[index]),\n        },\n        {\n          type: 'text',\n          top: true,\n          ...deepAssign({}, defaultConfig.labelStyle[index], labels?.[index]),\n        }\n      );\n    });\n    // \n    annotationOptions.push(\n      {\n        type: 'line',\n        top: false,\n        start: ['min', yBaseline],\n        end: ['max', yBaseline],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      },\n      {\n        type: 'line',\n        top: false,\n        start: [xBaseline, 'min'],\n        end: [xBaseline, 'max'],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      }\n    );\n  }\n\n  return flow(annotation(annotationOptions))(params);\n}\n\n// \nfunction regressionLine(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options, chart } = params;\n  const { regressionLine } = options;\n  if (regressionLine) {\n    const { style, equationStyle = {}, top = false, showEquation = false } = regressionLine;\n    const defaultStyle = {\n      stroke: '#9ba29a',\n      lineWidth: 2,\n      opacity: 0.5,\n    };\n    const defaulEquationStyle = {\n      x: 20,\n      y: 20,\n      textAlign: 'left' as const,\n      textBaseline: 'middle' as const,\n      fontSize: 14,\n      fillOpacity: 0.5,\n    };\n    chart.annotation().shape({\n      top,\n      render: (container, view) => {\n        const group = container.addGroup({\n          id: `${chart.id}-regression-line`,\n          name: 'regression-line-group',\n        });\n        const [path, equation] = getPath({\n          view,\n          options,\n        });\n        group.addShape('path', {\n          name: 'regression-line',\n          attrs: {\n            path,\n            ...defaultStyle,\n            ...style,\n          },\n        });\n        if (showEquation) {\n          group.addShape('text', {\n            name: 'regression-equation',\n            attrs: {\n              ...defaulEquationStyle,\n              ...equationStyle,\n              text: equation,\n            },\n          });\n        }\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ScatterOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    //  interaction \n    brushInteraction,\n    slider,\n    scrollbar,\n    interaction,\n    scatterAnnotation,\n    animation,\n    theme,\n    regressionLine\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  size: 4,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'xy',\n    },\n  },\n});\n","import { registerInteraction } from '@antv/g2';\n\nregisterInteraction('drag-move', {\n  start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: 'scale-translate:translate',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n","import { BRUSH_FILTER_EVENTS, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor, meta, transformOptions } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\nimport { ScatterOptions } from './types';\n\nexport type { ScatterOptions };\n\nexport class Scatter extends Plot<ScatterOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ScatterOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'scatter';\n\n  constructor(container: string | HTMLElement, options: ScatterOptions) {\n    super(container, options);\n\n    //  brush  meta\n    this.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, (evt) => {\n      //  option\n      const { options, chart } = this;\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.FILTER) {\n        const filteredData = this.chart.filterData(this.chart.getData());\n        meta({ chart, options: { ...options, data: filteredData } });\n      }\n\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.RESET) {\n        meta({ chart, options });\n      }\n    });\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: ScatterOptions['data']) {\n    this.updateOption(transformOptions(deepAssign({}, this.options, { data })));\n    const { options, chart } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ScatterOptions> {\n    return adaptor;\n  }\n\n  protected getDefaultOptions() {\n    return Scatter.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const Y_FIELD = '$$stock-range$$';\n\nexport const TREND_FIELD = 'trend';\nexport const TREND_UP = 'up';\nexport const TREND_DOWN = 'down';\n\n/** tooltip  */\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showMarkers: false,\n  showCrosshairs: true,\n  shared: true,\n  crosshairs: {\n    type: 'xy',\n    follow: true,\n    text: (type, defaultContent, items) => {\n      let textContent;\n      if (type === 'x') {\n        const item = items[0];\n        textContent = item ? item.title : defaultContent;\n      } else {\n        textContent = defaultContent;\n      }\n      return {\n        position: type === 'y' ? 'start' : 'end',\n        content: textContent,\n        style: {\n          fill: '#dfdfdf',\n        },\n      };\n    },\n    //  crosshairs textBackground \n    textBackground: {\n      padding: [2, 4],\n      style: {\n        fill: '#666',\n      },\n    },\n  },\n};\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  tooltips\n  tooltip: DEFAULT_TOOLTIP_OPTIONS,\n  interactions: [{ type: 'tooltip' }],\n  legend: {\n    position: 'top-left',\n  },\n  risingFill: '#ef5350',\n  fallingFill: '#26a69a',\n});\n","import { isArray, map } from '@antv/util';\nimport { TREND_DOWN, TREND_FIELD, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc \n * @param data\n * @param yField\n */\nexport function getStockData(data: Record<string, any>[], yField: [string, string, string, string]) {\n  return map(data, (item) => {\n    const obj = item && { ...item };\n    if (isArray(yField) && obj) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n","import { animation, annotation, interaction, slider, theme } from '../../adaptor/common';\nimport { schema } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { TREND_DOWN, TREND_FIELD, TREND_UP, Y_FIELD } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { yField } = options;\n\n  const { data, risingFill, fallingFill, tooltip, stockStyle } = options;\n\n  chart.data(getStockData(data, yField));\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: yField }, tooltipOptions);\n  }\n\n  schema(\n    deepAssign({}, params, {\n      options: {\n        schema: {\n          shape: 'candle',\n          color: [risingFill, fallingFill],\n          style: stockStyle,\n        },\n        yField: Y_FIELD,\n        seriesField: TREND_FIELD,\n        rawFields: yField,\n        tooltip: tooltipOptions,\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField } = options;\n\n  const baseMeta = {\n    [xField]: {\n      type: 'timeCat',\n      tickCount: 6,\n    },\n    [TREND_FIELD]: {\n      values: [TREND_UP, TREND_DOWN],\n    },\n  };\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [Y_FIELD]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend) {\n    chart.legend(TREND_FIELD, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * K\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<StockOptions>) {\n  // flow  G2 API\n  flow(theme, geometry, meta, axis, tooltip, legend, interaction, animation, annotation(), slider)(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\nexport type { StockOptions };\n\nexport class Stock extends Plot<StockOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<StockOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'stock';\n\n  /**\n   * \n   *  g2/g2plot    -->         -->          -->      \n   */\n  protected getDefaultOptions(): Partial<StockOptions> {\n    return Stock.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<StockOptions> {\n    return adaptor;\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: StockOptions['data']) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n    this.chart.changeData(getStockData(data, yField));\n  }\n}\n","import { map } from '@antv/util';\n\nexport function getTinyData(data: number[]) {\n  return map(data || [], (y: number, x: number) => ({ x: `${x}`, y }));\n}\n","import { get } from '@antv/util';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n  showCrosshairs: true,\n  crosshairs: {\n    type: 'x' as const,\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { animation, annotation, pattern, scale, theme, tooltip } from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyAreaOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { chart, options } = params;\n  const { data, color, areaStyle, point: pointOptions, line: lineOptions } = options;\n  const pointState = pointOptions?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      area: { color, style: areaStyle },\n      line: lineOptions,\n      point: pointOptions,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false } });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(second);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, data } = options;\n  const seriesData = getTinyData(data);\n\n  return flow(\n    scale(\n      {\n        [X_FIELD]: xAxis,\n        [Y_FIELD]: yAxis,\n      },\n      {\n        [X_FIELD]: {\n          type: 'cat',\n        },\n        [Y_FIELD]: adjustYMetaByZero(seriesData, Y_FIELD),\n      }\n    )\n  )(params);\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyAreaOptions>) {\n  return flow(pattern('areaStyle'), geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n","import { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  // \n  color: 'l(90) 0:#E5EDFE 1:#ffffff',\n  areaStyle: {\n    fillOpacity: 0.6,\n  },\n  line: {\n    size: 1,\n    color: '#5B8FF9',\n  },\n  animation: {},\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyAreaOptions } from './types';\n\nexport type { TinyAreaOptions };\n\nexport class TinyArea extends Plot<TinyAreaOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyAreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-area';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyAreaOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyArea.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyAreaOptions> {\n    return adaptor;\n  }\n}\n","import { animation, annotation, pattern, theme, tooltip } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n","import { get } from '@antv/util';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyColumnOptions } from './types';\n\nexport type { TinyColumnOptions };\n\nexport class TinyColumn extends Plot<TinyColumnOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-column';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyColumnOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyColumn.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyColumnOptions> {\n    return adaptor;\n  }\n}\n","import { animation, annotation, theme, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { X_FIELD, Y_FIELD } from './constants';\nimport { TinyLineOptions } from './types';\nimport { getTinyData } from './utils';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyLineOptions } from './types';\nimport { getTinyData } from './utils';\n\nexport type { TinyLineOptions };\n\nexport class TinyLine extends Plot<TinyLineOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyLineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyLineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyLine.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyLineOptions> {\n    return adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Options } from '../../types';\nimport { deepAssign } from '../../utils';\nimport { Area, AreaOptions } from '../area';\nimport { adaptor as areaAdaptor } from '../area/adaptor';\nimport { Bar, BarOptions } from '../bar';\nimport { adaptor as barAdaptor } from '../bar/adaptor';\nimport { Column, ColumnOptions } from '../column';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { Funnel, FunnelOptions } from '../funnel';\nimport { adaptor as funnelAdaptor } from '../funnel/adaptor';\nimport { Gauge, GaugeOptions } from '../gauge';\nimport { adaptor as gaugeAdaptor } from '../gauge/adaptor';\nimport { Histogram, HistogramOptions } from '../histogram';\nimport { adaptor as histogramAdaptor } from '../histogram/adaptor';\nimport { Line, LineOptions } from '../line';\nimport { adaptor as lineAdaptor } from '../line/adaptor';\nimport { Pie, PieOptions } from '../pie';\nimport { adaptor as pieAdaptor } from '../pie/adaptor';\nimport { Progress, ProgressOptions } from '../progress';\nimport { adaptor as progressAdaptor } from '../progress/adaptor';\nimport { RingProgress, RingProgressOptions } from '../ring-progress';\nimport { adaptor as ringProgressAdaptor } from '../ring-progress/adaptor';\nimport { Scatter, ScatterOptions } from '../scatter';\nimport { adaptor as scatterAdaptor } from '../scatter/adaptor';\nimport { Stock, StockOptions } from '../stock';\nimport { adaptor as stockAdaptor } from '../stock/adaptor';\nimport { TinyArea, TinyAreaOptions } from '../tiny-area';\nimport { adaptor as tinyAreaAdaptor } from '../tiny-area/adaptor';\nimport { TinyColumn, TinyColumnOptions } from '../tiny-column';\nimport { adaptor as tinyColumnAdaptor } from '../tiny-column/adaptor';\nimport { TinyLine, TinyLineOptions } from '../tiny-line';\nimport { adaptor as tinyLineAdaptor } from '../tiny-line/adaptor';\n\n/**\n *  options  widthheight ,  options  data \n */\ntype PlotOptions<T> = Omit<T, 'width' | 'height' | 'data'> & Partial<Pick<T extends Options ? T : never, 'data'>>;\n\n/**\n * multi-view  plots  options \n */\nexport type IPlotTypes =\n  | {\n      /**\n       * plot \n       */\n      readonly type: 'line';\n      /**\n       * plot \n       */\n      readonly options: PlotOptions<LineOptions>;\n    }\n  | {\n      readonly type: 'pie';\n      readonly options: PlotOptions<PieOptions>;\n    }\n  | {\n      readonly type: 'bar';\n      readonly options: PlotOptions<BarOptions>;\n    }\n  | {\n      readonly type: 'column';\n      readonly options: PlotOptions<ColumnOptions>;\n    }\n  | {\n      readonly type: 'area';\n      readonly options: PlotOptions<AreaOptions>;\n    }\n  | {\n      readonly type: 'gauge';\n      readonly options: PlotOptions<GaugeOptions>;\n    }\n  | {\n      readonly type: 'tiny-line';\n      readonly options: PlotOptions<TinyLineOptions>;\n    }\n  | {\n      readonly type: 'tiny-area';\n      readonly options: PlotOptions<TinyAreaOptions>;\n    }\n  | {\n      readonly type: 'tiny-column';\n      readonly options: PlotOptions<TinyColumnOptions>;\n    }\n  | {\n      readonly type: 'ring-progress';\n      readonly options: PlotOptions<RingProgressOptions>;\n    }\n  | {\n      readonly type: 'progress';\n      readonly options: PlotOptions<ProgressOptions>;\n    }\n  | {\n      readonly type: 'histogram';\n      readonly options: PlotOptions<HistogramOptions>;\n    }\n  | {\n      readonly type: 'scatter';\n      readonly options: PlotOptions<ScatterOptions>;\n    }\n  | {\n      readonly type: 'funnel';\n      readonly options: PlotOptions<FunnelOptions>;\n    }\n  | {\n      readonly type: 'stock';\n      readonly options: PlotOptions<StockOptions>;\n    };\n\n/**\n *  multi-view  plots\n */\nconst PLOT_ADAPTORS = {\n  line: lineAdaptor,\n  pie: pieAdaptor,\n  column: columnAdaptor,\n  bar: barAdaptor,\n  area: areaAdaptor,\n  gauge: gaugeAdaptor,\n  'tiny-line': tinyLineAdaptor,\n  'tiny-column': tinyColumnAdaptor,\n  'tiny-area': tinyAreaAdaptor,\n  'ring-progress': ringProgressAdaptor,\n  progress: progressAdaptor,\n  scatter: scatterAdaptor,\n  histogram: histogramAdaptor,\n  funnel: funnelAdaptor,\n  stock: stockAdaptor,\n};\n\n/**\n *  plot  class contructor\n * @param {string} plot\n */\nconst PLOT_CONSTRUCTOR = {\n  line: Line,\n  pie: Pie,\n  column: Column,\n  bar: Bar,\n  area: Area,\n  gauge: Gauge,\n  'tiny-line': TinyLine,\n  'tiny-column': TinyColumn,\n  'tiny-area': TinyArea,\n  'ring-progress': RingProgress,\n  progress: Progress,\n  scatter: Scatter,\n  histogram: Histogram,\n  funnel: Funnel,\n  stock: Stock,\n};\n\n/**\n *  mix  facet defaultOptions \n */\nconst DEFAULT_OPTIONS_MAP = {\n  pie: { label: false },\n  column: { tooltip: { showMarkers: false } },\n  bar: { tooltip: { showMarkers: false } },\n};\n\n/**\n *  plot  adaptor,  defaultOptions\n * @param {string} plot\n */\nexport function execPlotAdaptor<T extends IPlotTypes['type']>(\n  plot: T,\n  view: View,\n  options: IPlotTypes['options']\n): void {\n  const cls = PLOT_CONSTRUCTOR[plot];\n  if (!cls) {\n    console.error(`could not find ${plot} plot`);\n    return;\n  }\n  const module = PLOT_ADAPTORS[plot];\n  module({\n    chart: view,\n    options: deepAssign({}, cls.getDefaultOptions(), get(DEFAULT_OPTIONS_MAP, plot, {}), options),\n  });\n}\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { animation, annotation, interaction, theme, tooltip } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { PLOT_CONTAINER_OPTIONS } from '../../core/plot';\nimport { Axis } from '../../types/axis';\nimport { Interaction } from '../../types/interaction';\nimport { Legend } from '../../types/legend';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { IGeometry, IView, MixOptions } from './types';\nimport { execPlotAdaptor } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction multiView(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { views, legend } = options;\n\n  each(views, (v: IView) => {\n    const { region, data, meta, axes, coordinate, interactions, annotations, tooltip, geometries } = v;\n\n    // 1.  view\n    const viewOfG2 = chart.createView({\n      region,\n    });\n\n    // 2. data\n    viewOfG2.data(data);\n\n    // 3. meta\n    let scales: Record<string, any> = {};\n    if (axes) {\n      each(axes, (axis: Axis, field: string) => {\n        scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n      });\n    }\n\n    scales = deepAssign({}, meta, scales);\n    viewOfG2.scale(scales);\n\n    // 4. x y axis\n    if (!axes) {\n      viewOfG2.axis(false);\n    } else {\n      each(axes, (axis: Axis, field: string) => {\n        viewOfG2.axis(field, axis);\n      });\n    }\n\n    // 5. coordinate\n    viewOfG2.coordinate(coordinate);\n\n    // 6. geometry\n    each(geometries, (geometry: IGeometry) => {\n      const { ext } = geometryAdaptor({\n        chart: viewOfG2,\n        options: geometry,\n      });\n\n      // adjust\n      const { adjust } = geometry;\n      if (adjust) {\n        ext.geometry.adjust(adjust);\n      }\n    });\n\n    // 7. interactions\n    each(interactions, (interaction: Interaction) => {\n      if (interaction.enable === false) {\n        viewOfG2.removeInteraction(interaction.type);\n      } else {\n        viewOfG2.interaction(interaction.type, interaction.cfg);\n      }\n    });\n\n    // 8. annotations\n    each(annotations, (annotation) => {\n      viewOfG2.annotation()[annotation.type]({\n        ...annotation,\n      });\n    });\n\n    // 9. animation ()\n    if (typeof v.animation === 'boolean') {\n      viewOfG2.animate(false);\n    } else {\n      viewOfG2.animate(true);\n      // 9.1  Geometry todo \n      each(viewOfG2.geometries, (g: Geometry) => {\n        g.animate(v.animation);\n      });\n    }\n\n    if (tooltip) {\n      // 10. tooltip\n      viewOfG2.interaction('tooltip');\n      viewOfG2.tooltip(tooltip);\n    }\n  });\n\n  // legend\n  if (!legend) {\n    chart.legend(false);\n  } else {\n    each(legend, (l: Legend, field: string) => {\n      chart.legend(field, l);\n    });\n  }\n\n  // tooltip\n  chart.tooltip(options.tooltip);\n  return params;\n}\n\n/**\n *  g2plot \n * @param params\n */\nfunction multiPlot(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { plots, data = [] } = options;\n\n  each(plots, (plot) => {\n    const { type, region, options = {}, top } = plot;\n    const { tooltip } = options;\n\n    if (top) {\n      execPlotAdaptor(type, chart, { ...options, data });\n      return;\n    }\n\n    const viewOfG2 = chart.createView({ region, ...pick(options, PLOT_CONTAINER_OPTIONS) });\n    if (tooltip) {\n      //  tooltip \n      viewOfG2.interaction('tooltip');\n    }\n\n    execPlotAdaptor(type, viewOfG2, { data, ...options });\n  });\n\n  return params;\n}\n\n/**\n *  adaptor (mix)\n * @param params\n */\nexport function slider(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n\n  chart.option('slider', options.slider);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<MixOptions>) {\n  return flow(\n    animation, //  view \n    multiView,\n    multiPlot,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    slider,\n    annotation()\n    // ...  adaptor flow\n  )(params);\n}\n","import { Action, Element, registerAction, registerInteraction, View } from '@antv/g2';\nimport { each, get, isArray, map } from '@antv/util';\nimport { getAllElements, getSiblingViews, getViews } from '../../../utils';\nimport { clearHighlight, getElementValue } from './utils';\n\ntype EventItem = { element: Element; view: View; active: boolean; inactive: boolean };\ntype ActionParams = { linkField?: string; dim?: 'x' | 'y' };\n/**\n *  view view \n *\n *  actionlinkField dim \n * 1. showTooltip\n * 2. active\n * 3. highlight\n * 4. selected\n *\n *  action\n * 1. hidetooltip\n * 2. reset \n */\nclass Association extends Action {\n  /**\n   *  elements\n   *\n   * -  dim  dim  field linkField  return\n   * -  dim  linkField \n   * -  linkField \n   * @returns EventItem[]\n   */\n  private getAssociationItems(views: View[], params?: ActionParams): EventItem[] {\n    const { event } = this.context;\n    const { linkField, dim } = params || {};\n\n    const items = [];\n\n    if (event.data?.data) {\n      const { data } = event.data;\n      each(views, (v: View) => {\n        let field = linkField;\n        if (dim === 'x') {\n          field = v.getXScale().field;\n        } else if (dim === 'y') {\n          field = v.getYScales().find((s) => s.field === field)?.field;\n        } else if (!field) {\n          field = v.getGroupScales()[0]?.field;\n        }\n        if (!field) {\n          return;\n        }\n        const elements = map(getAllElements(v), (ele) => {\n          let active = false;\n          let inactive = false;\n          const dataValue = isArray(data) ? get(data[0], field) : get(data, field);\n          if (getElementValue(ele, field) === dataValue) {\n            active = true;\n          } else {\n            inactive = true;\n          }\n          return { element: ele, view: v, active, inactive };\n        });\n        items.push(...elements);\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   *  tooltip \n   */\n  public showTooltip(params?: ActionParams) {\n    const siblings = getSiblingViews(this.context.view);\n    const elements = this.getAssociationItems(siblings, params);\n\n    each(elements, (ele) => {\n      if (ele.active) {\n        const box = ele.element.shape.getCanvasBBox();\n        ele.view.showTooltip({ x: box.minX + box.width / 2, y: box.minY + box.height / 2 });\n      }\n    });\n  }\n\n  /**\n   *  tooltip\n   */\n  public hideTooltip() {\n    const siblings = getSiblingViews(this.context.view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n\n  /**\n   *  active \n   */\n  public active(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('active', true);\n      }\n    });\n  }\n\n  /**\n   *  selected \n   */\n  public selected(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('selected', true);\n      }\n    });\n  }\n\n  /**\n   *  =>  inactive \n   */\n  public highlight(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { inactive, element } = item;\n      if (inactive) {\n        element.setState('inactive', true);\n      }\n    });\n  }\n\n  public reset() {\n    const views = getViews(this.context.view);\n    each(views, (v) => {\n      clearHighlight(v);\n    });\n  }\n}\n\nregisterAction('association', Association);\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-selected', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  highlight ,  element\n */\nregisterInteraction('association-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  tooltip  groupField  tooltip \n */\nregisterInteraction('association-tooltip', {\n  start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],\n});\n","import { Element, View } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getAllElements(view);\n  each(elements, (el) => {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport './interactions';\nimport { MixOptions } from './types';\n\nexport type { MixOptions };\n\n/**\n *  G2 80% \n * 1. \n *   -  + \n *   - \n *   - ...\n * 2. \n *   - \n *   - \n *   - ...\n */\nexport class Mix extends Plot<MixOptions> {\n  /**  */\n  public type: string = 'mix';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<MixOptions> {\n    return adaptor;\n  }\n}\n","import { Mix } from './plots/mix';\n\n/**  */\nexport enum Stage {\n  DEV = 'DEV',\n  BETA = 'BETA',\n  STABLE = 'STABLE',\n}\n\n/**\n * \n * @param stage\n */\nexport function notice(stage: Stage, plotType: string) {\n  console.warn(\n    stage === Stage.DEV\n      ? `Plot '${plotType}' is in DEV stage, just give us issues.`\n      : stage === Stage.BETA\n      ? `Plot '${plotType}' is in BETA stage, DO NOT use it in production env.`\n      : stage === Stage.STABLE\n      ? `Plot '${plotType}' is in STABLE stage, import it by \"import { ${plotType} } from '@antv/g2plot'\".`\n      : 'invalid Stage type.'\n  );\n}\n\n/**\n * \n */\nexport class Lab {\n  static get MultiView() {\n    notice(Stage.STABLE, 'MultiView');\n    return Mix;\n  }\n}\n","import { Types } from '@antv/g2';\nimport { groupBy } from '@antv/util';\nimport { Datum } from '../../types';\nimport { BidirectionalBarOptions } from './types';\n\ntype TransformData = {\n  [key: string]: string | number;\n}[];\n\n/**\n * bidirectional-bar ,  SERIES_FIELD_KEY \n * @param xField\n * @param yField\n * @param data\n */\nexport function transformData(\n  xField: string,\n  yField: string[],\n  seriesField: string,\n  data: Datum,\n  reverse?: boolean\n): Types.Data[] {\n  const hopeData: TransformData = [];\n  yField.forEach((d: string) => {\n    data.forEach((k: any) => {\n      const obj = {\n        [xField]: k[xField],\n        [seriesField]: d,\n        [d]: k[d],\n      };\n      hopeData.push(obj);\n    });\n  });\n  const groupData = Object.values(groupBy(hopeData, seriesField));\n  const [data1 = [], data2 = []] = groupData;\n  return reverse ? [data1.reverse(), data2.reverse()] : [data1, data2];\n}\n\n/**\n * \n * @param layout\n */\nexport function isHorizontal(layout: BidirectionalBarOptions['layout']) {\n  return layout !== 'vertical';\n}\n\n/**\n *  view  padding \n * @param chart\n * @param views\n * @param p\n */\nexport function syncViewPadding(chart: any, views: any, p: any) {\n  const [v1, v2] = views;\n  const p1 = v1.autoPadding;\n  const p2 = v2.autoPadding;\n  const { layout, position } = chart.__axisPosition;\n  //  layout\n  if (isHorizontal(layout) && position === 'top') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position top  v1  0\n     */\n    v1.autoPadding = p.instance(p1.top, 0, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p1.left, p2.bottom, 0);\n  }\n  if (isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position bottom  v1 v1 right = right / 2  v2 left = right / 2\n     * + 5  \n     */\n    v1.autoPadding = p.instance(p1.top, p1.right / 2 + 5, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p2.right, p2.bottom, p1.right / 2 + 5);\n  }\n  if (!isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 left  left \n     * position bottom  v1 v1 bottom = bottom / 2  v2 top = bottom / 2\n     * + 5  \n     */\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, p1.bottom / 2 + 5, left);\n    v2.autoPadding = p.instance(p1.bottom / 2 + 5, p2.right, p2.bottom, left);\n  }\n  // position  top \n  if (!isHorizontal(layout) && position === 'top') {\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, 0, left);\n    v2.autoPadding = p.instance(0, p2.right, p1.top, left);\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, keys } from '@antv/util';\nimport {\n  animation as commonAnimation,\n  interaction as commonInteraction,\n  limitInPlot as commonLimitInPlot,\n  scale,\n  theme as commonTheme,\n  tooltip,\n} from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, findViewById, flow, transformLabel } from '../../utils';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { BidirectionalBarOptions } from './types';\nimport { isHorizontal, transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, color, barStyle, widthRatio, legend, layout } = options;\n\n  // \n  const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n  //  view  legend\n  if (legend) {\n    chart.legend(SERIES_FIELD_KEY, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n  //  view\n  let firstView: View;\n  let secondView: View;\n  const [firstViewData, secondViewData] = groupData;\n\n  // \n  if (isHorizontal(layout)) {\n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 0.5, y: 1 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n\n    firstView.coordinate().transpose().reflect('x');\n\n    secondView = chart.createView({\n      region: {\n        start: { x: 0.5, y: 0 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().transpose();\n\n    // @: ( transform )\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  } else {\n    // \n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 1, y: 0.5 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n    secondView = chart.createView({\n      region: {\n        start: { x: 0, y: 0.5 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().reflect('y');\n\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  }\n  const left = deepAssign({}, params, {\n    chart: firstView,\n    options: {\n      widthRatio,\n      xField,\n      yField: yField[0],\n      seriesField: SERIES_FIELD_KEY,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n  interval(left);\n\n  const right = deepAssign({}, params, {\n    chart: secondView,\n    options: {\n      xField,\n      yField: yField[1],\n      seriesField: SERIES_FIELD_KEY,\n      widthRatio,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n\n  interval(right);\n\n  return params;\n}\n\n/**\n * meta \n * -  SERIES_FIELD_KEY  yField \n * @param params\n */\nfunction meta(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { options, chart } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n\n  const aliasMap = {};\n  keys(options?.meta || {}).map((metaKey) => {\n    if (get(options?.meta, [metaKey, 'alias'])) {\n      aliasMap[metaKey] = options.meta[metaKey].alias;\n    }\n  });\n\n  chart.scale({\n    [SERIES_FIELD_KEY]: {\n      sync: true,\n      formatter: (v) => {\n        return get(aliasMap, v, v);\n      },\n    },\n  });\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[yField[0]],\n  })(deepAssign({}, params, { chart: firstView }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[yField[1]],\n  })(deepAssign({}, params, { chart: secondView }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  //  view axis ;  bottom  label\n  // @ts-ignore\n  if (xAxis?.position === 'bottom') {\n    // fixme  label: null  tickLine \n    secondView.axis(xField, { ...xAxis, label: { formatter: () => '' } });\n  } else {\n    secondView.axis(xField, false);\n  }\n\n  //  false  firstView \n  if (xAxis === false) {\n    firstView.axis(xField, false);\n  } else {\n    firstView.axis(xField, {\n      //  firstView \n      position: isHorizontal(layout) ? 'top' : 'bottom',\n      ...xAxis,\n    });\n  }\n\n  if (yAxis === false) {\n    firstView.axis(yField[0], false);\n    secondView.axis(yField[1], false);\n  } else {\n    firstView.axis(yField[0], yAxis[yField[0]]);\n    secondView.axis(yField[1], yAxis[yField[1]]);\n  }\n  /**\n   *  syncViewPadding\n   *  TODO  g2 View  setter \n   */\n\n  //@ts-ignore\n  chart.__axisPosition = {\n    position: firstView.getOptions().axes[xField].position,\n    layout,\n  };\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { yField, yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, FIRST_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[0]],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, SECOND_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[1]],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * theme\n * @param params\n */\nexport function theme(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\n/**\n * animation\n * @param params\n */\nexport function animation(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * label  (1.  offset  2. leftView  *= -1)\n * @param params\n */\nfunction label(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { label, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  const leftGeometry = findGeometry(firstView, 'interval');\n  const rightGeometry = findGeometry(secondView, 'interval');\n\n  if (!label) {\n    leftGeometry.label(false);\n    rightGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    /** ----  ---- */\n    // \n    if (!cfg.position) {\n      cfg.position = 'middle';\n    }\n    if (cfg.offset === undefined) {\n      cfg.offset = 2;\n    }\n\n    /** ---- leftView label  ---- */\n    const leftLabelCfg = { ...cfg };\n    if (isHorizontal(layout)) {\n      //  textAlign \n      const textAlign = leftLabelCfg.style?.textAlign || (cfg.position === 'middle' ? 'center' : 'left');\n      cfg.style = deepAssign({}, cfg.style, { textAlign });\n      const textAlignMap = { left: 'right', right: 'left', center: 'center' };\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textAlign: textAlignMap[textAlign] });\n    } else {\n      const positionMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      if (typeof cfg.position === 'string') {\n        cfg.position = positionMap[cfg.position];\n      } else if (typeof cfg.position === 'function') {\n        cfg.position = (...args) => positionMap[(cfg.position as any).apply(this, args)];\n      }\n      //  textBaseline \n      const textBaseline = leftLabelCfg.style?.textBaseline || 'bottom';\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textBaseline });\n      const textBaselineMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      cfg.style = deepAssign({}, cfg.style, { textBaseline: textBaselineMap[textBaseline] });\n    }\n\n    leftGeometry.label({\n      fields: [yField[0]],\n      callback,\n      cfg: transformLabel(leftLabelCfg),\n    });\n    rightGeometry.label({\n      fields: [yField[1]],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BidirectionalBarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, axis, limitInPlot, theme, label, tooltip, interaction, animation)(params);\n}\n","export const FIRST_AXES_VIEW = 'first-axes-view';\nexport const SECOND_AXES_VIEW = 'second-axes-view';\n/**  key  */\nexport const SERIES_FIELD_KEY = 'series-field-key';\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign, findViewById } from '../../utils';\nimport { adaptor } from './adaptor';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { BidirectionalBarOptions } from './types';\nimport { isHorizontal, syncViewPadding, transformData } from './utils';\n\nexport type { BidirectionalBarOptions };\n\nexport class BidirectionalBar extends Plot<BidirectionalBarOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BidirectionalBarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      syncViewPadding,\n    });\n  }\n\n  /**  */\n  static SERIES_FIELD_KEY = SERIES_FIELD_KEY;\n\n  /**  */\n  public type: string = 'bidirectional-bar';\n\n  /**\n   * @override\n   */\n  public changeData(data = []) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    // options\n    this.updateOption({ data });\n    const { xField, yField, layout } = this.options;\n    // \n    const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n    const [firstViewData, secondViewData] = groupData;\n    const firstView = findViewById(this.chart, FIRST_AXES_VIEW);\n    const secondView = findViewById(this.chart, SECOND_AXES_VIEW);\n    // viewdata\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n    // \n    this.chart.render(true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return BidirectionalBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BidirectionalBarOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const BOX_RANGE = '$$range$$';\nexport const BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\n\nexport const BOX_SYNC_NAME = '$$y_outliers$$';\n\nexport const OUTLIERS_VIEW_ID = 'outliers_view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  meta: {\n    [BOX_RANGE]: { min: 0, alias: BOX_RANGE_ALIAS },\n  },\n\n  // \n  interactions: [{ type: 'active-region' }],\n\n  //  tooltips  markers\n  tooltip: {\n    showMarkers: false,\n    shared: true,\n  },\n  boxStyle: {\n    lineWidth: 1,\n  },\n});\n","import { map } from '@antv/util';\nimport { BOX_RANGE } from './constant';\nimport { BoxOptions } from './types';\n\n/**\n * @desc  box ,yField,datadata,data\n * @param data\n * @param yField\n */\nexport const transformData = (data: BoxOptions['data'], yField: BoxOptions['yField']) => {\n  let newData = data;\n  // formate data when `yField` is Array\n  if (Array.isArray(yField)) {\n    const [low, q1, median, q3, high] = yField;\n    newData = map(data, (obj) => {\n      obj[BOX_RANGE] = [obj[low], obj[q1], obj[median], obj[q3], obj[high]];\n      return obj;\n    });\n  }\n\n  return newData;\n};\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { animation, annotation, interaction, theme, tooltip } from '../../adaptor/common';\nimport { point, schema } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { BOX_RANGE, BOX_SYNC_NAME, OUTLIERS_VIEW_ID } from './constant';\nimport { BoxOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, yField, groupField, color, tooltip, boxStyle } = options;\n\n  chart.data(transformData(options.data, yField));\n\n  const yFieldName = isArray(yField) ? BOX_RANGE : yField;\n  const rawFields = yField ? (isArray(yField) ? yField : [yField]) : [];\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: isArray(yField) ? yField : [] }, tooltipOptions);\n  }\n\n  const { ext } = schema(\n    deepAssign({}, params, {\n      options: {\n        xField,\n        yField: yFieldName,\n        seriesField: groupField,\n        tooltip: tooltipOptions,\n        rawFields,\n        //  label\n        label: false,\n        schema: {\n          shape: 'box',\n          color,\n          style: boxStyle,\n        },\n      },\n    })\n  );\n\n  if (groupField) {\n    ext.geometry.adjust('dodge');\n  }\n\n  return params;\n}\n\n/**\n *  view\n */\nfunction outliersPoint(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, data, outliersField, outliersStyle, padding, label } = options;\n\n  if (!outliersField) return params;\n\n  const outliersView = chart.createView({ padding, id: OUTLIERS_VIEW_ID });\n  const outliersViewData = data.reduce((ret, datum) => {\n    const outliersData = datum[outliersField];\n    outliersData.forEach((d) => ret.push({ ...datum, [outliersField]: d }));\n    return ret;\n  }, []) as Types.Datum[];\n\n  outliersView.data(outliersViewData);\n  point({\n    chart: outliersView,\n    options: {\n      xField,\n      yField: outliersField,\n      point: { shape: 'circle', style: outliersStyle },\n      label,\n    },\n  });\n\n  outliersView.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField, yField, outliersField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  let baseMeta = {};\n\n  // make yField and outliersField share y mate\n  if (outliersField) {\n    const syncName = BOX_SYNC_NAME;\n    baseMeta = {\n      [outliersField]: { sync: syncName, nice: true },\n      [yFieldName]: { sync: syncName, nice: true },\n    };\n  }\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [yFieldName]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(BOX_RANGE, false);\n  } else {\n    chart.axis(yFieldName, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { legend, groupField } = options;\n\n  if (groupField) {\n    if (legend) {\n      chart.legend(groupField, legend);\n    } else {\n      // Grouped Box Chart default has legend, and it's position is `bottom`\n      chart.legend(groupField, { position: 'bottom' });\n    }\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<BoxOptions>) {\n  return flow(field, outliersPoint, meta, axis, legend, tooltip, annotation(), interaction, animation, theme)(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, OUTLIERS_VIEW_ID } from './constant';\nimport { BoxOptions } from './types';\nimport { transformData } from './utils';\nexport type { BoxOptions };\n\nexport class Box extends Plot<BoxOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BoxOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'box';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n\n    const outliersView = this.chart.views.find((v) => v.id === OUTLIERS_VIEW_ID);\n    if (outliersView) {\n      outliersView.data(data);\n    }\n\n    this.chart.changeData(transformData(data, yField));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<BoxOptions> {\n    return Box.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BoxOptions> {\n    return adaptor;\n  }\n}\n","import { BulletOptions } from './types';\n\ntype TransformData = {\n  min: number;\n  max: number;\n  ds: any[];\n};\n\n/**\n *  key    key  tooltip \n * @param values \n * @param field \n * @param index \n * @returns string\n */\nfunction getSeriesFieldKey(values: number[], field: string, index: number): string {\n  return values.length > 1 ? `${field}_${index}` : `${field}`;\n}\n\n/**\n * bullet \n * @param options\n */\nexport function transformData(options: BulletOptions): TransformData {\n  const { data, xField, measureField, rangeField, targetField, layout } = options;\n  const ds: any[] = [];\n  const scales: number[] = [];\n  data.forEach((item: any, index: number) => {\n    //  title * range\n    const rangeValues = [item[rangeField]].flat();\n    rangeValues.sort((a: number, b: number) => a - b);\n    rangeValues.forEach((d: number, i: number) => {\n      const range = i === 0 ? d : rangeValues[i] - rangeValues[i - 1];\n      ds.push({\n        rKey: `${rangeField}_${i}`,\n        [xField]: xField ? item[xField] : String(index), // xField\n        [rangeField]: range,\n      });\n    });\n\n    //  title * measure\n    const measureValues = [item[measureField]].flat();\n    measureValues.forEach((d: number, i: number) => {\n      ds.push({\n        mKey: getSeriesFieldKey(measureValues, measureField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [measureField]: d,\n      });\n    });\n\n    //  title * target\n    const targetValues = [item[targetField]].flat();\n    targetValues.forEach((d: number, i: number) => {\n      ds.push({\n        tKey: getSeriesFieldKey(targetValues, targetField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [targetField]: d,\n      });\n    });\n\n    // \n    scales.push(item[rangeField], item[measureField], item[targetField]);\n  });\n  // scales \n  let min = Math.min(...scales.flat(Infinity));\n  const max = Math.max(...scales.flat(Infinity));\n  // min  0  0 \n  min = min > 0 ? 0 : min;\n\n  // \n  if (layout === 'vertical') {\n    ds.reverse();\n  }\n  return { min, max, ds };\n}\n","import { get, isFunction } from '@antv/util';\nimport { animation, interaction, scale, theme, tooltip } from '../../adaptor/common';\nimport { interval, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, flow, transformLabel } from '../../utils';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { bulletStyle, targetField, rangeField, measureField, xField, color, layout, size, label } = options;\n  // \n  const { min, max, ds } = transformData(options);\n  chart.data(ds);\n\n  // rangeGeometry\n  const r = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: rangeField,\n      seriesField: 'rKey',\n      isStack: true,\n      label: get(label, 'range'),\n      interval: {\n        color: get(color, 'range'),\n        style: get(bulletStyle, 'range'),\n        size: get(size, 'range'),\n      },\n    },\n  });\n  interval(r);\n  //  tooltip \n  chart.geometries[0].tooltip(false);\n\n  // measureGeometry\n  const m = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: measureField,\n      seriesField: 'mKey',\n      isStack: true,\n      label: get(label, 'measure'),\n      interval: {\n        color: get(color, 'measure'),\n        style: get(bulletStyle, 'measure'),\n        size: get(size, 'measure'),\n      },\n    },\n  });\n  interval(m);\n\n  // targetGeometry\n  const t = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: targetField,\n      seriesField: 'tKey',\n      label: get(label, 'target'),\n      point: {\n        color: get(color, 'target'),\n        style: get(bulletStyle, 'target'),\n        size: isFunction(get(size, 'target'))\n          ? (data: Datum) => get(size, 'target')(data) / 2\n          : get(size, 'target') / 2,\n        shape: layout === 'horizontal' ? 'line' : 'hyphen',\n      },\n    },\n  });\n  point(t);\n\n  // \n  if (layout === 'horizontal') {\n    chart.coordinate().transpose();\n  }\n\n  return { ...params, ext: { data: { min, max } } };\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { options, ext } = params;\n  const { xAxis, yAxis, targetField, rangeField, measureField, xField } = options;\n\n  const extData = ext.data;\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [measureField]: yAxis,\n      },\n      //  meta\n      {\n        [measureField]: { min: extData?.min, max: extData?.max, sync: true },\n        [targetField]: {\n          sync: `${measureField}`,\n        },\n        [rangeField]: {\n          sync: `${measureField}`,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, measureField, rangeField, targetField } = options;\n\n  chart.axis(`${rangeField}`, false);\n  chart.axis(`${targetField}`, false);\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(`${xField}`, false);\n  } else {\n    chart.axis(`${xField}`, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(`${measureField}`, false);\n  } else {\n    chart.axis(`${measureField}`, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n  chart.removeInteraction('legend-filter');\n  // @TODO  legend\n  chart.legend(legend);\n\n  //  color  legend, legend\n  chart.legend('rKey', false);\n  chart.legend('mKey', false);\n  chart.legend('tKey', false);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { label, measureField, targetField, rangeField } = options;\n  const [rangeGeometry, measureGeometry, targetGeometry] = chart.geometries;\n\n  if (get(label, 'range')) {\n    rangeGeometry.label(`${rangeField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.range),\n    });\n  } else {\n    rangeGeometry.label(false);\n  }\n  if (get(label, 'measure')) {\n    measureGeometry.label(`${measureField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.measure),\n    });\n  } else {\n    measureGeometry.label(false);\n  }\n  if (get(label, 'target')) {\n    targetGeometry.label(`${targetField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.target),\n    });\n  } else {\n    targetGeometry.label(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BulletOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  layout: 'horizontal',\n  size: {\n    range: 30,\n    measure: 20,\n    target: 20,\n  },\n  xAxis: {\n    tickLine: false,\n    line: null,\n  },\n  bulletStyle: {\n    range: {\n      fillOpacity: 0.5,\n    },\n  },\n  label: {\n    measure: {\n      position: 'right',\n    },\n  },\n  tooltip: {\n    // \n    showMarkers: false,\n  },\n});\n","/*\n * for Arc Diagram (edges without weight) / Chord Diagram (edges with source and target weight)\n * graph data required (nodes, edges)\n */\nimport { assign, forIn, isFunction } from '@antv/util';\nimport { NodeLinkData } from '../../types/relation-data';\n\nconst DEFAULT_OPTIONS: ChordLayoutOptions = {\n  y: 0,\n  nodeWidthRatio: 0.05, // width of the node, (0, 1)\n  weight: false,\n  nodePaddingRatio: 0.1, // margin ratio, [0, 1)\n  id: (node) => node.id,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null, // optional, id | weight | frequency | {function}\n};\n\nexport type ChordLayoutOptions = {\n  weight?: boolean;\n  y?: number;\n  nodeWidthRatio?: number; // (0, 1)\n  nodePaddingRatio?: number; // [0, 1)\n  id?(node: any): any;\n  source?(edge: any): any;\n  target?(edge: any): any;\n  sourceWeight?(edge: any): number;\n  targetWeight?(edge: any): number;\n  sortBy?: 'id' | 'weight' | 'frequency' | null | ((a: any, b: any) => number);\n};\n\ntype OutputNode = {\n  readonly id: number;\n  readonly name: string;\n  // readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\ntype ChordLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * valueedges\n * @param nodeById\n * @param edges\n * @param options\n */\nfunction processGraph(nodeById, edges, options) {\n  forIn(nodeById, (node, id) => {\n    // in edges, out edges\n    node.inEdges = edges.filter((edge) => `${options.target(edge)}` === `${id}`);\n    node.outEdges = edges.filter((edge) => `${options.source(edge)}` === `${id}`);\n    // frequency\n    node.edges = node.outEdges.concat(node.inEdges);\n    node.frequency = node.edges.length;\n    // weight\n    node.value = 0;\n    node.inEdges.forEach((edge) => {\n      node.value += options.targetWeight(edge);\n    });\n    node.outEdges.forEach((edge) => {\n      node.value += options.sourceWeight(edge);\n    });\n  });\n}\n\n/**\n * \n * @param nodes\n * @param options\n */\nfunction sortNodes(nodes, options) {\n  const sortMethods = {\n    weight: (a, b) => b.value - a.value,\n    frequency: (a, b) => b.frequency - a.frequency,\n    id: (a, b) => `${options.id(a)}`.localeCompare(`${options.id(b)}`),\n  };\n  let method = sortMethods[options.sortBy];\n  if (!method && isFunction(options.sortBy)) {\n    method = options.sortBy;\n  }\n  if (method) {\n    nodes.sort(method);\n  }\n}\n\nfunction layoutNodes(nodes, options): OutputNode[] {\n  const len = nodes.length;\n  if (!len) {\n    throw new TypeError(\"Invalid nodes: it's empty!\");\n  }\n  if (options.weight) {\n    const nodePaddingRatio = options.nodePaddingRatio;\n    if (nodePaddingRatio < 0 || nodePaddingRatio >= 1) {\n      throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');\n    }\n    const margin = nodePaddingRatio / (2 * len);\n    const nodeWidthRatio = options.nodeWidthRatio;\n    if (nodeWidthRatio <= 0 || nodeWidthRatio >= 1) {\n      throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');\n    }\n    let totalValue = 0;\n    nodes.forEach((node) => {\n      totalValue += node.value;\n    });\n    nodes.forEach((node) => {\n      node.weight = node.value / totalValue;\n      node.width = node.weight * (1 - nodePaddingRatio);\n      node.height = nodeWidthRatio;\n    });\n    nodes.forEach((node, index) => {\n      // x\n      let deltaX = 0;\n      for (let i = index - 1; i >= 0; i--) {\n        deltaX += nodes[i].width + 2 * margin;\n      }\n      const minX = (node.minX = margin + deltaX);\n      const maxX = (node.maxX = node.minX + node.width);\n      const minY = (node.minY = options.y - nodeWidthRatio / 2);\n      const maxY = (node.maxY = minY + nodeWidthRatio);\n      node.x = [minX, maxX, maxX, minX];\n      node.y = [minY, minY, maxY, maxY];\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      // node.x = minX + 0.5 * node.width;\n      // node.y = options.y;\n    });\n  } else {\n    const deltaX = 1 / len;\n    nodes.forEach((node, index) => {\n      node.x = (index + 0.5) * deltaX;\n      node.y = options.y;\n    });\n  }\n  return nodes;\n}\n\nfunction locatingEdges(nodeById, edges, options): OutputLink[] {\n  if (options.weight) {\n    const valueById = {};\n    forIn(nodeById, (node, id) => {\n      valueById[id] = node.value;\n    });\n    edges.forEach((edge) => {\n      const sId = options.source(edge);\n      const tId = options.target(edge);\n      const sNode = nodeById[sId];\n      const tNode = nodeById[tId];\n      if (sNode && tNode) {\n        const sValue = valueById[sId];\n        const currentSValue = options.sourceWeight(edge);\n        const sStart = sNode.minX + ((sNode.value - sValue) / sNode.value) * sNode.width;\n        const sEnd = sStart + (currentSValue / sNode.value) * sNode.width;\n        valueById[sId] -= currentSValue;\n\n        const tValue = valueById[tId];\n        const currentTValue = options.targetWeight(edge);\n        const tStart = tNode.minX + ((tNode.value - tValue) / tNode.value) * tNode.width;\n        const tEnd = tStart + (currentTValue / tNode.value) * tNode.width;\n        valueById[tId] -= currentTValue;\n\n        const y = options.y;\n        edge.x = [sStart, sEnd, tStart, tEnd];\n        edge.y = [y, y, y, y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  } else {\n    edges.forEach((edge) => {\n      const sNode = nodeById[options.source(edge)];\n      const tNode = nodeById[options.target(edge)];\n      if (sNode && tNode) {\n        edge.x = [sNode.x, tNode.x];\n        edge.y = [sNode.y, tNode.y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  }\n  return edges;\n}\n\nexport function getDefaultOptions(options: ChordLayoutOptions): ChordLayoutOptions {\n  return assign({}, DEFAULT_OPTIONS, options);\n}\n\nexport function chordLayout(\n  chordLayoutOptions: ChordLayoutOptions,\n  chordLayoutInputData: NodeLinkData\n): ChordLayoutOutputData {\n  const options = getDefaultOptions(chordLayoutOptions);\n  const nodeById = {};\n  const nodes = chordLayoutInputData.nodes;\n  const links = chordLayoutInputData.links;\n  nodes.forEach((node) => {\n    const id = options.id(node);\n    nodeById[id] = node;\n  });\n  processGraph(nodeById, links, options);\n  sortNodes(nodes, options);\n  const outputNodes = layoutNodes(nodes, options);\n  const outputLinks = locatingEdges(nodeById, links, options);\n  return {\n    nodes: outputNodes,\n    links: outputLinks,\n  };\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\nexport type { BulletOptions };\n\nexport class Bullet extends Plot<BulletOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BulletOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'bullet';\n\n  public changeData(data) {\n    this.updateOption({ data });\n    const { min, max, ds } = transformData(this.options);\n    // scale\n    meta({ options: this.options, ext: { data: { min, max } }, chart: this.chart });\n    this.chart.changeData(ds);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BulletOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bullet.getDefaultOptions();\n  }\n}\n","import { get } from '@antv/util';\nimport { Datum } from '../../types';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const NODE_COLOR_FIELD = 'name';\nexport const EDGE_COLOR_FIELD = 'source';\n\nexport const DEFAULT_OPTIONS = {\n  nodeStyle: {\n    opacity: 1,\n    fillOpacity: 1,\n    lineWidth: 1,\n  },\n  edgeStyle: {\n    opacity: 0.5,\n    lineWidth: 2,\n  },\n  label: {\n    fields: ['x', 'name'],\n    callback: (x: number[], name: string) => {\n      const centerX = (x[0] + x[1]) / 2;\n      const offsetX = centerX > 0.5 ? -4 : 4;\n      return {\n        offsetX,\n        content: name,\n      };\n    },\n    labelEmit: true,\n    style: {\n      fill: '#8c8c8c',\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['source', 'target', 'value', 'isNode'],\n    // node  tooltip ()edge  tooltip\n    showContent: (items) => {\n      return !get(items, [0, 'data', 'isNode']);\n    },\n    formatter: (datum: Datum) => {\n      const { source, target, value } = datum;\n      return {\n        name: `${source} -> ${target}`,\n        value,\n      };\n    },\n  },\n  interactions: [\n    {\n      type: 'element-active',\n    },\n  ],\n  weight: true,\n  nodePaddingRatio: 0.1,\n  nodeWidthRatio: 0.05,\n};\n","import { interaction, state, theme } from '../../adaptor/common';\nimport { edge, polygon } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { addViewAnimation, flow, getAllGeometriesRecursively, pick, transformDataToNodeLinkData } from '../../utils';\nimport { chordLayout } from '../../utils/transform/chord';\nimport { EDGE_COLOR_FIELD, NODE_COLOR_FIELD, X_FIELD, Y_FIELD } from './constant';\nimport { ChordOptions } from './types';\n\nfunction transformData(params: Params<ChordOptions>): Params<ChordOptions> {\n  // extnodeGeometry edgeGeometry\n\n  const { options } = params;\n  const { data, sourceField, targetField, weightField, nodePaddingRatio, nodeWidthRatio, rawFields = [] } = options;\n\n  // node link\n  const chordLayoutInputData = transformDataToNodeLinkData(data, sourceField, targetField, weightField);\n\n  const { nodes, links } = chordLayout({ weight: true, nodePaddingRatio, nodeWidthRatio }, chordLayoutInputData);\n\n  // 1. node\n  const nodesData = nodes.map((node) => {\n    return {\n      ...pick(node, ['id', 'x', 'y', 'name', ...rawFields]),\n      isNode: true,\n    };\n  });\n\n  // 2.  edge  \n  const edgesData = links.map((link) => {\n    return {\n      source: link.source.name,\n      target: link.target.name,\n      name: link.source.name || link.target.name,\n      ...pick(link, ['x', 'y', 'value', ...rawFields]),\n      isNode: false,\n    };\n  });\n\n  return {\n    ...params,\n    ext: {\n      ...params.ext,\n      // chordDataextgeometry\n      chordData: { nodesData, edgesData },\n    },\n  };\n}\n\n/**\n * scale\n * @param params \n */\nfunction scale(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.scale({\n    x: { sync: true, nice: true },\n    y: { sync: true, nice: true, max: 1 },\n    [NODE_COLOR_FIELD]: { sync: 'color' },\n    [EDGE_COLOR_FIELD]: { sync: 'color' },\n  });\n  return params;\n}\n\n/**\n * axis\n * @param params \n */\nfunction axis(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend\n * @param params \n */\nfunction legend(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.legend(false);\n  return params;\n}\n\n/**\n * tooltip\n * @param params \n */\nfunction tooltip(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  chart.tooltip(tooltip);\n  return params;\n}\n\n/**\n * coordinate\n * @param params \n */\nfunction coordinate(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.coordinate('polar').reflect('y');\n  return params;\n}\n\n/**\n * nodeGeometry\n * @param params \n */\nfunction nodeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  // node view\n  const { chart, options } = params;\n  const { nodesData } = params.ext.chordData;\n  const { nodeStyle, label, tooltip } = options;\n\n  const nodeView = chart.createView();\n  nodeView.data(nodesData);\n\n  // \n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: NODE_COLOR_FIELD,\n      polygon: {\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n    },\n  });\n  return params;\n}\n\n/**\n * edgeGeometry\n * @param params \n */\nfunction edgeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { edgesData } = params.ext.chordData;\n  const { edgeStyle, tooltip } = options;\n\n  const edgeView = chart.createView();\n  edgeView.data(edgesData);\n\n  // edge\n  const edgeOptions = {\n    xField: X_FIELD,\n    yField: Y_FIELD,\n    seriesField: EDGE_COLOR_FIELD,\n    edge: {\n      style: edgeStyle,\n      shape: 'arc',\n    },\n    tooltip,\n  };\n  edge({\n    chart: edgeView,\n    options: edgeOptions,\n  });\n  return params;\n}\n\nfunction animation(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  addViewAnimation(chart, animation, getAllGeometriesRecursively(chart));\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ChordOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    transformData,\n    coordinate,\n    scale,\n    axis,\n    legend,\n    tooltip,\n    edgeGeometry,\n    nodeGeometry,\n    interaction,\n    state,\n    animation\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ChordOptions } from './types';\n\nexport type { ChordOptions };\n\n/**\n *   Chord\n */\nexport class Chord extends Plot<ChordOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ChordOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'chord';\n\n  protected getDefaultOptions() {\n    return Chord.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<ChordOptions> {\n    return adaptor;\n  }\n}\n","import { CirclePackingOptions } from './types';\n\n/**  */\nexport const RAW_FIELDS = ['x', 'y', 'r', 'name', 'value', 'path', 'depth'];\n\nexport const DEFAULT_OPTIONS: Partial<CirclePackingOptions> = {\n  //  name \n  colorField: 'name',\n  autoFit: true,\n  pointStyle: {\n    lineWidth: 0,\n    stroke: '#fff',\n  },\n  // \n  legend: false,\n  hierarchyConfig: {\n    size: [1, 1] as [number, number], // width, height\n    padding: 0,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: { enabled: false },\n};\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get, isNil, last, size } from '@antv/util';\nimport { Data } from '../../types';\nimport { DrillDownCfg } from '../../types/drill-down';\nimport { deepAssign } from '../../utils/deep-assign';\n\n// '/'\nconst PADDING = 4;\n// \nconst PADDING_LEFT = 0;\n// \nexport const PADDING_TOP = 5;\n\n/** Group name of breadCrumb:  */\nexport const BREAD_CRUMB_NAME = 'drilldown-bread-crumb';\n\n// \nexport const DEFAULT_BREAD_CRUMB_CONFIG: DrillDownCfg['breadCrumb'] = {\n  /**  */\n  position: 'top-left',\n  dividerText: '/',\n  textStyle: {\n    fontSize: 12,\n    fill: 'rgba(0, 0, 0, 0.65)',\n    cursor: 'pointer',\n  },\n  activeTextStyle: {\n    fill: '#87B5FF',\n  },\n};\n\n/**\n * hierarchy \n */\nexport const HIERARCHY_DATA_TRANSFORM_PARAMS = 'hierarchy-data-transform-params';\n\n/**\n * Hierarchy plot \n */\nexport type HierarchyNode<N = any /**  */> = {\n  /** todo  key  origin */\n  data: { name: string; value?: any; children: { name: string; value?: any }[] };\n  /** ,  transformData  */\n  [HIERARCHY_DATA_TRANSFORM_PARAMS]: object;\n  /** .  unique */\n  depth: number;\n  /** depth + height =  */\n  height: number;\n  parent: N;\n  children: N[];\n};\n\ntype HistoryCache = {\n  name: string;\n  id: string;\n  children: Data;\n}[];\n\n/**\n * @description  action\n * @author liuzhenying\n *\n * hierarchy plot\n */\nexport class DrillDownAction extends Action {\n  /** Action name */\n  public name = 'drill-down';\n\n  // \n  protected historyCache: HistoryCache = [];\n  //  group\n  private breadCrumbGroup: IGroup = null;\n  // \n  private breadCrumbCfg: DrillDownCfg['breadCrumb'] = DEFAULT_BREAD_CRUMB_CONFIG;\n\n  /**\n   * , \n   */\n  public click() {\n    const data = get(this.context, ['event', 'data', 'data']);\n    if (!data) return false;\n\n    this.drill(data);\n    this.drawBreadCrumb();\n  }\n\n  /**\n   *  chart  afterchangesize \n   */\n  public resetPosition() {\n    //  changedata  resetPosition  this.breadCrumbGroup \n    if (!this.breadCrumbGroup) return;\n    const coordinate = this.context.view.getCoordinate();\n    const breadCrumbGroup = this.breadCrumbGroup;\n    const bbox = breadCrumbGroup.getBBox();\n\n    const { position } = this.getButtonCfg();\n\n    // @todo  margin  padding \n    //  polar  coordinate\n    let point = { x: coordinate.start.x, y: coordinate.end.y - (bbox.height + PADDING_TOP * 2) };\n    if (coordinate.isPolar) {\n      // \n      point = { x: 0, y: 0 };\n    }\n    if (position === 'bottom-left') {\n      // \n      point = { x: coordinate.start.x, y: coordinate.start.y };\n    }\n    /** PADDING_LEFT, PADDING_TOP  */\n    const matrix = Util.transform(null, [['t', point.x + PADDING_LEFT, point.y + bbox.height + PADDING_TOP]]);\n    breadCrumbGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public back(): void {\n    if (size(this.historyCache)) {\n      this.backTo(this.historyCache.slice(0, -1));\n    }\n  }\n\n  /**\n   * \n   */\n  public reset(): void {\n    if (this.historyCache[0]) {\n      this.backTo(this.historyCache.slice(0, 1));\n    }\n    // \n    this.historyCache = [];\n    this.hideCrumbGroup();\n  }\n\n  /**\n   *  view \n   * @param nodeInfo \n   */\n  protected drill(nodeInfo: HierarchyNode) {\n    const { view } = this.context;\n    const transformData = get(view, ['interactions', 'drill-down', 'cfg', 'transformData'], (v) => v);\n\n    //  update \n    const drillData = transformData({ data: nodeInfo.data, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] });\n    view.changeData(drillData);\n\n    // \n    const historyCache: HistoryCache = [];\n\n    let node = nodeInfo;\n    while (node) {\n      const nodeData = node.data;\n      historyCache.unshift({\n        id: `${nodeData.name}_${node.height}_${node.depth}`,\n        name: nodeData.name,\n        // children \n        children: transformData({ data: nodeData, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] }),\n      });\n      node = node.parent;\n    }\n\n    this.historyCache = (this.historyCache || []).slice(0, -1).concat(historyCache);\n  }\n\n  /**\n   * \n   * @param historyCache \n   */\n  protected backTo(historyCache: HistoryCache) {\n    if (!historyCache || historyCache.length <= 0) {\n      return;\n    }\n\n    const { view } = this.context;\n    const data = last(historyCache).children; // \n    view.changeData(data);\n\n    if (historyCache.length > 1) {\n      this.historyCache = historyCache;\n      this.drawBreadCrumb();\n    } else {\n      // \n      this.historyCache = [];\n      this.hideCrumbGroup();\n    }\n  }\n\n  /**\n   *  mix \n   */\n  private getButtonCfg() {\n    const { view } = this.context;\n    const drillDownConfig: DrillDownCfg = get(view, ['interactions', 'drill-down', 'cfg', 'drillDownConfig']);\n\n    return deepAssign(this.breadCrumbCfg, drillDownConfig?.breadCrumb, this.cfg);\n  }\n\n  /**\n   * \n   */\n  private drawBreadCrumb() {\n    this.drawBreadCrumbGroup();\n    this.resetPosition();\n    this.breadCrumbGroup.show();\n  }\n\n  /**\n   *  Button  \n   */\n  private drawBreadCrumbGroup() {\n    const config = this.getButtonCfg();\n    const cache = this.historyCache;\n\n    //  group\n    if (!this.breadCrumbGroup) {\n      this.breadCrumbGroup = this.context.view.foregroundGroup.addGroup({\n        name: BREAD_CRUMB_NAME,\n      });\n    } else {\n      this.breadCrumbGroup.clear();\n    }\n\n    // \n    let left = 0;\n    cache.forEach((record, index) => {\n      // \n      const textShape = this.breadCrumbGroup.addShape({\n        type: 'text',\n        id: record.id,\n        name: `${BREAD_CRUMB_NAME}_${record.name}_text`,\n        attrs: {\n          text: index === 0 && !isNil(config.rootText) ? config.rootText : record.name,\n          ...config.textStyle,\n          x: left,\n          y: 0,\n        },\n      });\n\n      const textShapeBox = textShape.getBBox();\n      left += textShapeBox.width + PADDING;\n\n      // \n      textShape.on('click', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          const newHistoryCache = cache.slice(0, cache.findIndex((d) => d.id === targetId) + 1);\n          this.backTo(newHistoryCache);\n        }\n      });\n      // active \n      textShape.on('mouseenter', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          textShape.attr(config.activeTextStyle);\n        } else {\n          textShape.attr({ cursor: 'default' });\n        }\n      });\n      textShape.on('mouseleave', () => {\n        textShape.attr(config.textStyle);\n      });\n\n      if (index < cache.length - 1) {\n        // \n        const dividerShape = this.breadCrumbGroup.addShape({\n          type: 'text',\n          name: `${config.name}_${record.name}_divider`,\n          attrs: {\n            text: config.dividerText,\n            ...config.textStyle,\n            x: left,\n            y: 0,\n          },\n        });\n\n        const dividerBox = dividerShape.getBBox();\n        left += dividerBox.width + PADDING;\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  private hideCrumbGroup() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.hide();\n    }\n  }\n\n  /**\n   * @override\n   * destroy: \n   */\n  public destroy() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.remove();\n    }\n    super.destroy();\n  }\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","import { filter, isArray, isString } from '@antv/util';\n\n/** export  */\n/**  */\nexport const NODE_INDEX_FIELD = 'nodeIndex';\n/** child  */\nexport const CHILD_NODE_COUNT = 'childNodeCount';\n/**  */\nexport const NODE_ANCESTORS_FIELD = 'nodeAncestor';\n\nconst INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\n\ninterface Options {\n  field?: string | string[];\n  fields?: string | string[];\n}\n\nexport function getField(options: Options, defaultField?: string): string {\n  const { field, fields } = options;\n  if (isString(field)) {\n    return field;\n  }\n  if (isArray(field)) {\n    console.warn(INVALID_FIELD_ERR_MSG);\n    return field[0];\n  }\n  console.warn(`${INVALID_FIELD_ERR_MSG} will try to get fields instead.`);\n  if (isString(fields)) {\n    return fields;\n  }\n  if (isArray(fields) && fields.length) {\n    return fields[0];\n  }\n  if (defaultField) {\n    return defaultField;\n  }\n  throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\n\nexport function getAllNodes(root: any) {\n  const nodes: any[] = [];\n  if (root && root.each) {\n    let parent;\n    let index;\n    // d3-hierarchy: Invokes the specified function for node and each descendant in **breadth-first order**\n    root.each((node: any) => {\n      if (node.parent !== parent) {\n        parent = node.parent;\n        index = 0;\n      } else {\n        index += 1;\n      }\n      const ancestors = filter(\n        (node.ancestors?.() || []).map((d: any) => nodes.find((n) => n.name === d.name) || d),\n        ({ depth }) => depth > 0 && depth < node.depth\n      );\n\n      node[NODE_ANCESTORS_FIELD] = ancestors;\n      node[CHILD_NODE_COUNT] = node.children?.length || 0;\n      node[NODE_INDEX_FIELD] = index;\n\n      nodes.push(node);\n    });\n  } else if (root && root.eachNode) {\n    // @antv/hierarchy\n    root.eachNode((node: any) => {\n      nodes.push(node);\n    });\n  }\n  return nodes;\n}\n","import { assign, isArray } from '@antv/util';\nimport * as d3Hierarchy from 'd3-hierarchy';\nimport { HierarchyOption } from './types';\nimport { getAllNodes, getField } from './util';\n\ntype Options = Omit<HierarchyOption, 'as'> & { as?: [string, string, string] };\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  as: ['x', 'y', 'r'],\n  // \n  sort: (a, b) => b.value - a.value,\n};\n\nexport function pack(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 3) {\n    throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ \"x\", \"y\", \"r\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const packLayout = (data) =>\n    d3Hierarchy.pack().size(options.size).padding(options.padding)(\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => d[field])\n        .sort(options.sort)\n    );\n\n  const root = packLayout(data);\n\n  const x = as[0];\n  const y = as[1];\n  const r = as[2];\n  root.each((node) => {\n    node[x] = node.x;\n    node[y] = node.y;\n    node[r] = node.r;\n  });\n\n  return getAllNodes(root);\n}\n","import { Types } from '@antv/g2';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { deepAssign, pick } from '../../utils';\nimport { pack } from '../../utils/hierarchy/pack';\nimport { resolveAllPadding } from '../../utils/padding';\nimport { CirclePackingOptions } from './types';\n\ninterface TransformDataOptions {\n  data: CirclePackingOptions['data'];\n  rawFields: CirclePackingOptions['rawFields'];\n  enableDrillDown: boolean;\n  hierarchyConfig: CirclePackingOptions['hierarchyConfig'];\n}\n\n/**\n * circle-packing \n * @param options\n */\nexport function transformData(options: TransformDataOptions) {\n  const { data, hierarchyConfig, rawFields = [], enableDrillDown } = options;\n\n  const nodes = pack(data, {\n    ...hierarchyConfig,\n    field: 'value',\n    as: ['x', 'y', 'r'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    //  depth <= 2  ()\n    if (enableDrillDown && node.depth > 2) {\n      return null;\n    }\n\n    const nodeInfo = deepAssign({}, node.data, {\n      ...pick(node.data, rawFields),\n      path,\n      // : x, y, r, name, depth, height\n      ...node,\n    });\n\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, rawFields, enableDrillDown };\n\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n\n/**\n *  padding     finalPadding  finalSize\n * @param params\n */\nexport function resolvePaddingForCircle(\n  padding: Types.ViewPadding,\n  appendPadding: Types.ViewAppendPadding,\n  containerSize: { width: number; height: number }\n) {\n  const tempPadding = resolveAllPadding([padding, appendPadding]);\n  const [top, right, bottom, left] = tempPadding; //  [0, 0, 0, 0]\n  const { width, height } = containerSize;\n\n  //  tempPadding coordinate minSize = circle-packing\n  const wSize = width - (left + right);\n  const hSize = height - (top + bottom);\n  const minSize = Math.min(wSize, hSize); // circle-packing\n\n  //  padding\n  const restWidthPadding = (wSize - minSize) / 2;\n  const restHeightPadding = (hSize - minSize) / 2;\n\n  const finalTop = top + restHeightPadding;\n  const finalRight = right + restWidthPadding;\n  const finalBottom = bottom + restHeightPadding;\n  const finalLeft = left + restWidthPadding;\n\n  const finalPadding = [finalTop, finalRight, finalBottom, finalLeft];\n  const finalSize = minSize < 0 ? 0 : minSize; // \n\n  return { finalPadding, finalSize };\n}\n","import { Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction as baseInteraction,\n  legend,\n  pattern,\n  scale,\n  theme,\n} from '../../adaptor/common';\nimport { point } from '../../adaptor/geometries/point';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { getAdjustAppendPadding, resolveAllPadding } from '../../utils/padding';\nimport { RAW_FIELDS } from './constant';\nimport { CirclePackingOptions } from './types';\nimport { resolvePaddingForCircle, transformData } from './utils';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  const diameter = Math.min(chart.viewBBox.width, chart.viewBBox.height);\n\n  return deepAssign(\n    {\n      options: {\n        size: ({ r }) => r * diameter, // autofitfalse\n      },\n    },\n    params\n  );\n}\n\n/**\n * padding \n * @param params\n */\nfunction padding(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { options, chart } = params;\n  //  padding coordinate \n  const containerSize = chart.viewBBox;\n  const { padding, appendPadding, drilldown } = options;\n\n  let tempAppendPadding = appendPadding;\n  if (drilldown?.enabled) {\n    const appendPaddingByDrilldown = getAdjustAppendPadding(\n      chart.appendPadding,\n      get(drilldown, ['breadCrumb', 'position'])\n    );\n    tempAppendPadding = resolveAllPadding([appendPaddingByDrilldown, appendPadding]);\n  }\n\n  const { finalPadding } = resolvePaddingForCircle(padding, tempAppendPadding, containerSize);\n  chart.padding = finalPadding;\n  chart.appendPadding = 0;\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { padding, appendPadding } = chart;\n  const { color, colorField, pointStyle, hierarchyConfig, sizeField, rawFields = [], drilldown } = options;\n\n  const data = transformData({\n    data: options.data,\n    hierarchyConfig,\n    enableDrillDown: drilldown?.enabled,\n    rawFields,\n  });\n  chart.data(data);\n\n  const containerSize = chart.viewBBox;\n  const { finalSize } = resolvePaddingForCircle(padding, appendPadding, containerSize);\n  // sizeField value  size \n  let circleSize = ({ r }) => r * finalSize; // \n\n  if (sizeField) {\n    circleSize = (d) => d[sizeField] * finalSize; //  r \n  }\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        sizeField,\n        rawFields: [...RAW_FIELDS, ...rawFields],\n        point: {\n          color,\n          style: pointStyle,\n          shape: 'circle',\n          size: circleSize,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  return flow(\n    scale(\n      {},\n      {\n        //  nice\n        x: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n        y: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nfunction tooltip(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const nameFormatter = get(scales, ['name', 'formatter'], (v) => v);\n              const valueFormatter = get(scales, ['value', 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: nameFormatter(item.data.name),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * , \n * @param params\n */\nfunction axis(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: CirclePackingOptions): CirclePackingOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData, enableDrillDown: true },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<CirclePackingOptions>) {\n  return flow(\n    pattern('pointStyle'),\n    defaultOptions,\n    padding,\n    theme,\n    meta,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { DrillDownAction } from './actions/drill-down';\n\n/**\n * \n */\nexport function isParentNode(context) {\n  const data = get(context, ['event', 'data', 'data'], {});\n  return isArray(data.children) && data.children.length > 0;\n}\n\n/**\n * \n */\nfunction inCenter(context) {\n  const coordinate = context.view.getCoordinate();\n  const { innerRadius } = coordinate;\n  if (innerRadius) {\n    const { x, y } = context.event;\n    const { x: centerX, y: centerY } = coordinate.center;\n    const r = coordinate.getRadius() * innerRadius;\n    const distance = Math.sqrt((centerX - x) ** 2 + (centerY - y) ** 2);\n    return distance < r;\n  }\n  return false;\n}\n\nregisterAction('drill-down-action', DrillDownAction);\nregisterInteraction('drill-down', {\n  showEnable: [\n    { trigger: 'element:mouseenter', action: 'cursor:pointer', isEnable: isParentNode },\n    { trigger: 'element:mouseleave', action: 'cursor:default' },\n    //  element:mouseleave \n    { trigger: 'element:mouseleave', action: 'cursor:pointer', isEnable: inCenter },\n  ],\n  start: [\n    {\n      trigger: 'element:click',\n      isEnable: isParentNode,\n      action: ['drill-down-action:click'],\n    },\n    {\n      trigger: 'afterchangesize',\n      action: ['drill-down-action:resetPosition'],\n    },\n    {\n      // \n      trigger: 'click',\n      isEnable: inCenter,\n      action: ['drill-down-action:back'],\n    },\n  ],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\nimport { CirclePackingOptions } from './types';\n\nexport type { CirclePackingOptions };\n\n/**\n *  CirclePacking\n * @usage hierarchy, proportions\n */\nexport class CirclePacking extends Plot<CirclePackingOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<CirclePackingOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'circle-packing';\n\n  protected getDefaultOptions() {\n    return CirclePacking.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<CirclePackingOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // padding\n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Options, ShapeAttr, SizeAttr, StyleAttr } from '../../types';\nimport { ColumnOptions } from '../column/types';\nimport { LineOptions } from '../line/types';\n\nexport enum AxisType {\n  Left = 'Left',\n  Right = 'Right',\n}\n\nexport enum DualAxesGeometry {\n  Line = 'line',\n  Column = 'column',\n}\n\nexport interface PointConfig {\n  readonly shape?: ShapeAttr;\n  readonly size?: SizeAttr;\n  readonly style?: StyleAttr;\n}\n\ntype CommonGeometryOption = {\n  /**\n   * @title \n   */\n  readonly geometry?: string;\n  /**\n   * @title \n   */\n  readonly label?: Options['label'];\n  /**\n   * @title legend\n   */\n  readonly legend?: Options['legend'];\n  /**\n   * @title \n   */\n  readonly color?: Options['color'];\n  /**\n   * @title \n   * @default false\n   */\n  readonly isGroup?: boolean;\n  /**\n   * @title \n   * @description  seriesField\n   */\n  readonly groupField?: string;\n};\n\n// ,  LineOption \nexport type GeometryLineOption = Pick<\n  LineOptions,\n  'seriesField' | 'smooth' | 'connectNulls' | 'lineStyle' | 'point' | 'isStack' | 'stepType'\n> &\n  CommonGeometryOption;\n\n// \nexport type GeometryColumnOption = Pick<\n  ColumnOptions,\n  | 'seriesField'\n  | 'isGroup'\n  | 'isStack'\n  | 'isRange'\n  | 'isPercent'\n  | 'columnWidthRatio'\n  | 'marginRatio'\n  | 'columnStyle'\n  | 'pattern'\n> &\n  CommonGeometryOption;\n\nexport type GeometryOption = GeometryColumnOption | GeometryLineOption;\n\nexport type DualAxesOptions = Omit<Options, 'data' | 'yAxis' | 'color' | 'annotations'> & {\n  /**\n   * @title \n   * @description \n   */\n  readonly data: Array<Record<string, any>[]>;\n  /**\n   * @title  x \n   * @description x \n   */\n  readonly xField: string;\n  /**\n   * @title  y \n   * @description \n   */\n  readonly yField: string[];\n  /**\n   * @title  yAxis \n   * @description  object key  y \n   */\n  readonly yAxis?: Options['yAxis'][] | Record<string, Options['yAxis']>;\n  /**\n   * @title \n   */\n  readonly geometryOptions?: GeometryOption[];\n  /**\n   * @title  annotation \n   * @description object  field \n   */\n  readonly annotations?: Options['annotations'][] | Record<string, Options['annotations']>;\n};\n","export const LEFT_AXES_VIEW = 'left-axes-view';\nexport const RIGHT_AXES_VIEW = 'right-axes-view';\n\nexport const DEFAULT_YAXIS_CONFIG = {\n  nice: true,\n  label: {\n    autoHide: true,\n    autoRotate: false,\n  },\n};\n\nexport const DEFAULT_LEFT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'left',\n};\n\nexport const DEFAULT_RIGHT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'right',\n  grid: null,\n};\n","import { get, isArray } from '@antv/util';\nimport { Axis } from '../../../types/axis';\nimport { deepAssign } from '../../../utils';\nimport { DEFAULT_LEFT_YAXIS_CONFIG, DEFAULT_RIGHT_YAXIS_CONFIG } from '../constant';\nimport {\n  AxisType,\n  DualAxesGeometry,\n  DualAxesOptions,\n  GeometryColumnOption,\n  GeometryLineOption,\n  GeometryOption,\n} from '../types';\n\n/**\n *  GeometryOption  geometry  line\n */\nexport function isLine(geometryOption: GeometryOption): geometryOption is GeometryLineOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n\n/**\n *  GeometryOption  geometry  Column\n */\nexport function isColumn(geometryOption: GeometryOption): geometryOption is GeometryColumnOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n\n/**\n *  GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(xField: string, yField: string, geometryOption: GeometryOption): GeometryOption {\n  // \n  return isColumn(geometryOption)\n    ? deepAssign(\n        {},\n        {\n          geometry: DualAxesGeometry.Column,\n          label:\n            geometryOption.label && geometryOption.isRange\n              ? {\n                  content: (item: object) => {\n                    return item[yField]?.join('-');\n                  },\n                }\n              : undefined,\n        },\n        geometryOption\n      )\n    : {\n        geometry: DualAxesGeometry.Line,\n        ...geometryOption,\n      };\n}\n\n/**\n *   arr  obj   yAxisannotations\n *  yField  object \n * @param yField\n * @param transformAttribute\n */\nexport function transformObjectToArray(\n  yField: DualAxesOptions['yField'],\n  transformAttribute: Record<string, any> | any[]\n): any[] {\n  const [y1, y2] = yField;\n\n  if (isArray(transformAttribute)) {\n    // \n    const [a1, a2] = transformAttribute;\n    return [a1, a2];\n  }\n  const a1 = get(transformAttribute, y1);\n  const a2 = get(transformAttribute, y2);\n  return [a1, a2];\n}\n\n/**\n * \n * @param yAxis\n * @param axisType\n */\nexport function getYAxisWithDefault(yAxis: Axis, axisType: AxisType): Axis {\n  if (axisType === AxisType.Left) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_LEFT_YAXIS_CONFIG, yAxis);\n  } else if (axisType === AxisType.Right) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_RIGHT_YAXIS_CONFIG, yAxis);\n  }\n  return yAxis;\n}\n","import { Util, View } from '@antv/g2';\nimport { get, isEmpty, isFunction, reduce } from '@antv/util';\nimport { Legend } from '../../../types/legend';\nimport { deepAssign, findGeometry } from '../../../utils';\nimport { GeometryOption } from '../types';\nimport { isLine } from './option';\n\n/**\n *  view  legendItem seriesField \n * @param params\n */\nexport function getViewLegendItems(params: {\n  view: View;\n  yField: string;\n  geometryOption: GeometryOption;\n  legend: Legend;\n}) {\n  const { view, geometryOption, yField, legend } = params;\n  const userMarker = get(legend, 'marker');\n\n  const geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n  if (!geometryOption.seriesField) {\n    const legendItemName = get(view, `options.scales.${yField}.alias`) || yField;\n    //  g2 \n    const colorAttribute = geometry.getAttribute('color');\n    let color = view.getTheme().defaultColor;\n    if (colorAttribute) {\n      color = Util.getMappingValue(colorAttribute, legendItemName, get(colorAttribute, ['values', 0], color));\n    }\n\n    const marker =\n      (isFunction(userMarker)\n        ? userMarker\n        : !isEmpty(userMarker) &&\n          deepAssign(\n            {},\n            {\n              style: {\n                stroke: color,\n                fill: color,\n              },\n            },\n            userMarker\n          )) ||\n      (isLine(geometryOption)\n        ? {\n            symbol: (x: number, y: number, r: number) => {\n              return [\n                ['M', x - r, y],\n                ['L', x + r, y],\n              ];\n            },\n            style: {\n              lineWidth: 2,\n              r: 6,\n              stroke: color,\n            },\n          }\n        : {\n            symbol: 'square',\n            style: {\n              fill: color,\n            },\n          });\n    return [\n      {\n        value: yField,\n        name: legendItemName,\n        marker,\n        isGeometry: true,\n        viewId: view.id,\n      },\n    ];\n  }\n\n  const attributes = geometry.getGroupAttributes();\n  return reduce(\n    attributes,\n    (items, attr) => {\n      const attrItems = Util.getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n      return items.concat(attrItems);\n    },\n    []\n  );\n}\n","import { View } from '@antv/g2';\nimport { size, valuesOfKey } from '@antv/util';\nimport { isBetween } from '../../../utils';\n\n/**\n *  View  slider \n *  View ,  Slider  change  View\n * @param { View } view \n * @param { number[] } sliderValue \n * @returns void\n */\nexport const doSliderFilter = (view: View, sliderValue: [number, number]) => {\n  const [min, max] = sliderValue;\n  const data = view.getOptions().data;\n  const xScale = view.getXScale();\n  const dataSize = size(data);\n  if (!xScale || !dataSize) {\n    return;\n  }\n  const isHorizontal = true;\n  const values = valuesOfKey(data, xScale.field);\n  const xValues = isHorizontal ? values : values.reverse();\n  const xTickCount = size(xValues);\n  const minIndex = Math.floor(min * (xTickCount - 1));\n  const maxIndex = Math.floor(max * (xTickCount - 1));\n\n  //  x \n  view.filter(xScale.field, (value: any) => {\n    const idx: number = xValues.indexOf(value);\n    return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n  });\n  view.getRootView().render(true);\n};\n","import { Event, Scale, Types } from '@antv/g2';\nimport { each, every, find, findIndex, get, isBoolean, isEqual, isObject } from '@antv/util';\nimport {\n  animation as commonAnimation,\n  annotation as commonAnnotation,\n  interaction as commonInteraction,\n  limitInPlot as commonLimitInPlot,\n  scale,\n  theme as commonTheme,\n} from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, flow } from '../../utils';\nimport { percent } from '../../utils/transform/percent';\nimport { findViewById } from '../../utils/view';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\nimport { AxisType, DualAxesGeometry, DualAxesOptions } from './types';\nimport { drawSingleGeometry } from './util/geometry';\nimport { getViewLegendItems } from './util/legend';\nimport { getGeometryOption, getYAxisWithDefault, isColumn, transformObjectToArray } from './util/option';\nimport { doSliderFilter } from './util/render-sider';\n\n/**\n * transformOptions\n * 1. get index getOptions:  appendPaddingsyncView \n * 2. get adpator transformOption: deepAssign \n *    2.1 defaultoption tooltiplegend\n *    2.2  options\n *    2.3  options  options yaxisGeometryOption deepAssign  assign \n *\n * @param params\n */\nexport function transformOptions(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { options } = params;\n  const { geometryOptions = [], xField, yField } = options;\n  const allLine = every(\n    geometryOptions,\n    ({ geometry }) => geometry === DualAxesGeometry.Line || geometry === undefined\n  );\n  return deepAssign(\n    {},\n    {\n      options: {\n        geometryOptions: [],\n        meta: {\n          [xField]: {\n            //  cat \n            type: 'cat',\n            // x  scale \n            sync: true,\n            // \n            range: allLine ? [0, 1] : undefined,\n          },\n        },\n        tooltip: {\n          showMarkers: allLine,\n          //  crosshairs\n          showCrosshairs: allLine,\n          shared: true,\n          crosshairs: {\n            type: 'x',\n          },\n        },\n        interactions: !allLine\n          ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n          : [{ type: 'legend-visible-filter' }],\n        legend: {\n          position: 'top-left',\n        },\n      },\n    },\n    params,\n    {\n      options: {\n        // yAxis\n        yAxis: transformObjectToArray(yField, options.yAxis),\n        // geometryOptions\n        geometryOptions: [\n          getGeometryOption(xField, yField[0], geometryOptions[0]),\n          getGeometryOption(xField, yField[1], geometryOptions[1]),\n        ],\n        // annotations\n        annotations: transformObjectToArray(yField, options.annotations),\n      },\n    }\n  );\n}\n\n/**\n *    view theme \n * @param params\n */\nfunction createViews(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n\n  const SORT_MAP = { line: 0, column: 1 };\n\n  // id\n  const geometries = [\n    { type: geometryOptions[0]?.geometry, id: LEFT_AXES_VIEW },\n    { type: geometryOptions[1]?.geometry, id: RIGHT_AXES_VIEW },\n  ];\n\n  //  view \n  geometries.sort((a, b) => -SORT_MAP[a.type] + SORT_MAP[b.type]).forEach((g) => chart.createView({ id: g.id }));\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xField, yField, geometryOptions, data, tooltip } = options;\n\n  // id\n  const geometries = [\n    { ...geometryOptions[0], id: LEFT_AXES_VIEW, data: data[0], yField: yField[0] },\n    { ...geometryOptions[1], id: RIGHT_AXES_VIEW, data: data[1], yField: yField[1] },\n  ];\n\n  geometries.forEach((geometry) => {\n    const { id, data, yField } = geometry;\n    // \n    const isPercent = isColumn(geometry) && geometry.isPercent;\n    const formatData = isPercent ? percent(data, yField, xField, yField) : data;\n    const view = findViewById(chart, id).data(formatData);\n\n    const tooltipOptions = isPercent\n      ? {\n          formatter: (datum: Datum) => ({\n            name: datum[geometry.seriesField] || yField,\n            value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n          }),\n          ...tooltip,\n        }\n      : tooltip;\n\n    // \n    drawSingleGeometry({\n      chart: view,\n      options: {\n        xField,\n        yField,\n        tooltip: tooltipOptions,\n        geometryOption: geometry,\n      },\n    });\n  });\n  return params;\n}\n\nexport function color(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n  const themeColor = chart.getTheme()?.colors10 || [];\n\n  let start = 0;\n  /*  geometry  color\n   * 1.  geometryOptions  color drawGeometry \n   * 2.   color Geometry group scales theme color 10 \n   * 3.  group  view  N   concat  themeColor\n   * 4.  Geometry group scales color\n   * 5.  view  g2\n   */\n  chart.once('beforepaint', () => {\n    each(geometryOptions, (geometryOption, index) => {\n      const view = findViewById(chart, index === 0 ? LEFT_AXES_VIEW : RIGHT_AXES_VIEW);\n      if (geometryOption.color) return;\n      const groupScale = view.getGroupScales();\n      const count = get(groupScale, [0, 'values', 'length'], 1);\n      const color = themeColor.slice(start, start + count).concat(index === 0 ? [] : themeColor);\n      view.geometries.forEach((geometry) => {\n        if (geometryOption.seriesField) {\n          geometry.color(geometryOption.seriesField, color);\n        } else {\n          geometry.color(color[0]);\n        }\n      });\n      start += count;\n    });\n    chart.render(true);\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[0],\n  })(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[1],\n  })(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  const { xField, yField, xAxis, yAxis } = options;\n\n  chart.axis(xField, false);\n  chart.axis(yField[0], false);\n  chart.axis(yField[1], false);\n\n  //  View\n  leftView.axis(xField, xAxis);\n  leftView.axis(yField[0], getYAxisWithDefault(yAxis[0], AxisType.Left));\n\n  //  Y \n  rightView.axis(xField, false);\n  rightView.axis(yField[1], getYAxisWithDefault(yAxis[1], AxisType.Right));\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  // tooltip  getDefaultOption  undefined\n  chart.tooltip(tooltip);\n  //  view  tooltip shared  interaction active-region \n  // view  chart  shared\n  leftView.tooltip({\n    shared: true,\n  });\n  rightView.tooltip({\n    shared: true,\n  });\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { annotations } = options;\n\n  const a1 = get(annotations, [0]);\n  const a2 = get(annotations, [1]);\n\n  commonAnnotation(a1)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        annotations: a1,\n      },\n    })\n  );\n  commonAnnotation(a2)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        annotations: a2,\n      },\n    })\n  );\n  return params;\n}\n\nexport function theme(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  /*\n   *  view  axisline chart  legend)\n   *  chart   view  theme G2 theme geometry > view > chart \n   */\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\nexport function animation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[0],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[1],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * legend \n *  custom-\n * @param params\n */\nexport function legend(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { legend, geometryOptions, yField, data } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (isObject(legend) && legend.custom === true) {\n    chart.legend(legend);\n  } else {\n    const leftLegend = get(geometryOptions, [0, 'legend'], legend);\n    const rightLegend = get(geometryOptions, [1, 'legend'], legend);\n    // \n    chart.once('beforepaint', () => {\n      const leftItems = data[0].length\n        ? getViewLegendItems({\n            view: leftView,\n            geometryOption: geometryOptions[0],\n            yField: yField[0],\n            legend: leftLegend,\n          })\n        : [];\n\n      const rightItems = data[1].length\n        ? getViewLegendItems({\n            view: rightView,\n            geometryOption: geometryOptions[1],\n            yField: yField[1],\n            legend: rightLegend,\n          })\n        : [];\n\n      chart.legend(\n        deepAssign({}, legend, {\n          custom: true,\n          // todo \n          // @ts-ignore\n          items: leftItems.concat(rightItems),\n        })\n      );\n    });\n\n    if (geometryOptions[0].seriesField) {\n      leftView.legend(geometryOptions[0].seriesField, leftLegend);\n    }\n    if (geometryOptions[1].seriesField) {\n      rightView.legend(geometryOptions[1].seriesField, rightLegend);\n    }\n\n    // \n    chart.on('legend-item:click', (evt) => {\n      const delegateObject = get(evt, 'gEvent.delegateObject', {});\n      if (delegateObject && delegateObject.item) {\n        const { value: field, isGeometry, viewId } = delegateObject.item;\n        // geometry  view.changeVisible\n        if (isGeometry) {\n          const idx = findIndex(yField, (yF: string) => yF === field);\n          if (idx > -1) {\n            const geometries = get(findViewById(chart, viewId), 'geometries');\n            each(geometries, (g) => {\n              g.changeVisible(!delegateObject.item.unchecked);\n            });\n          }\n        } else {\n          const legendItem = get(chart.getController('legend'), 'option.items', []);\n          // \n          each(chart.views, (view) => {\n            // \n            const groupScale = view.getGroupScales();\n            each(groupScale, (scale: Scale) => {\n              if (scale.values && scale.values.indexOf(field) > -1) {\n                view.filter(scale.field, (value) => {\n                  const curLegendItem: Types.LegendItem = find(\n                    legendItem,\n                    (item: Types.LegendItem) => item.value === value\n                  );\n                  //  legend  unchecked \n                  return !curLegendItem.unchecked;\n                });\n              }\n            });\n            chart.render(true);\n          });\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n *  slider \n * @param params\n */\nexport function slider(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { slider } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  if (slider) {\n    //  View\n    leftView.option('slider', slider);\n    //  slider   View \n    leftView.on('slider:valuechanged', (evt: Event) => {\n      const {\n        event: { value, originValue },\n      } = evt;\n      if (isEqual(value, originValue)) {\n        return;\n      }\n      doSliderFilter(rightView, value);\n    });\n    chart.once('afterpaint', () => {\n      // \n      if (!isBoolean(slider)) {\n        const { start, end } = slider;\n        if (start || end) {\n          doSliderFilter(rightView, [start, end]);\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  // transformOptions color legend  beforepaint\n  return flow(\n    transformOptions,\n    createViews,\n    // \n    theme,\n    geometry,\n    meta,\n    axis,\n    limitInPlot,\n    tooltip,\n    interaction,\n    annotation,\n    animation,\n    color,\n    legend,\n    slider\n  )(params);\n}\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { line, point } from '../../../adaptor/geometries';\nimport { Params } from '../../../core/adaptor';\nimport { deepAssign, pick } from '../../../utils';\nimport { adaptor as columnAdaptor } from '../../column/adaptor';\nimport { GeometryOption } from '../types';\nimport { isColumn, isLine } from './option';\n\n/**\n * \n * @param params\n */\nexport function drawSingleGeometry<O extends { xField: string; yField: string; geometryOption: GeometryOption }>(\n  params: Params<O>\n): Params<O> {\n  const { options, chart } = params;\n  const { geometryOption } = options;\n  const { isStack, color, seriesField, groupField, isGroup } = geometryOption;\n\n  const FIELD_KEY = ['xField', 'yField'];\n  if (isLine(geometryOption)) {\n    // \n    line(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          line: {\n            color: geometryOption.color,\n            style: geometryOption.lineStyle,\n          },\n        },\n      })\n    );\n    // \n    point(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          point: geometryOption.point && {\n            color,\n            shape: 'circle',\n            ...geometryOption.point,\n          },\n        },\n      })\n    );\n    // adjust\n    const adjust = [];\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        customOffset: 0,\n      });\n    }\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n      });\n    }\n    if (adjust.length) {\n      each(chart.geometries, (g: Geometry) => {\n        g.adjust(adjust);\n      });\n    }\n  }\n\n  if (isColumn(geometryOption)) {\n    columnAdaptor(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          widthRatio: geometryOption.columnWidthRatio,\n          interval: {\n            ...pick(geometryOption, ['color']),\n            style: geometryOption.columnStyle,\n          },\n        },\n      })\n    );\n  }\n\n  return params;\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor } from './adaptor';\nimport { DualAxesOptions } from './types';\n\nexport type { DualAxesOptions };\n\nexport class DualAxes extends Plot<DualAxesOptions> {\n  /** :  */\n  public type: string = 'dual-axes';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<DualAxesOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      yAxis: [],\n      syncViewPadding: true,\n    });\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<DualAxesOptions> {\n    return adaptor;\n  }\n}\n","import { each, omit } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { Axis, Interaction } from '../../types';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { execPlotAdaptor } from '../mix/utils';\nimport { FacetOptions, IPlot, IView } from './types';\nimport { execViewAdaptor } from './utils';\n\nfunction facetAdaptor(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { type: facetType, data, fields, eachView } = options;\n\n  const restFacetCfg = omit(options as any, [\n    'type',\n    'data',\n    'fields',\n    'eachView',\n    'axes',\n    'meta',\n    'tooltip',\n    'coordinate',\n    'theme',\n    'legend',\n    'interactions',\n    'annotations',\n  ]);\n\n  // 1. data\n  chart.data(data);\n\n  // 2. facet\n  chart.facet(facetType, {\n    ...restFacetCfg,\n    fields,\n    eachView: (viewOfG2, facet) => {\n      const viewOptions = eachView(viewOfG2, facet);\n      if ((viewOptions as IView).geometries) {\n        execViewAdaptor(viewOfG2, viewOptions as IView);\n      } else {\n        const plot = viewOptions as IPlot;\n        const plotOptions = plot.options;\n        // @ts-ignore  tooltip\n        if (plotOptions.tooltip) {\n          //  tooltip \n          viewOfG2.interaction('tooltip');\n        }\n        execPlotAdaptor(plot.type, viewOfG2, plotOptions);\n      }\n    },\n  });\n\n  return params;\n}\n\nfunction component(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { axes, meta, tooltip, coordinate, theme, legend, interactions, annotations } = options;\n\n  // 3. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  chart.scale(scales);\n\n  // 4. coordinate \n  chart.coordinate(coordinate);\n\n  // 5. axis  ()\n  if (!axes) {\n    chart.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      chart.axis(field, axis);\n    });\n  }\n\n  // 6. tooltip \n  if (tooltip) {\n    chart.interaction('tooltip');\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.removeInteraction('tooltip');\n  }\n\n  // 7. legend \n  chart.legend(legend);\n\n  // theme \n  if (theme) {\n    chart.theme(theme);\n  }\n\n  // 8. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      chart.removeInteraction(interaction.type);\n    } else {\n      chart.interaction(interaction.type, interaction.cfg);\n    }\n  });\n\n  // 9. annotations\n  each(annotations, (annotation) => {\n    chart.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FacetOptions>) {\n  // flow  G2 API\n  return flow(theme, facetAdaptor, component)(params);\n}\n","import { View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Axis, Interaction, Options } from '../../types';\nimport { addViewAnimation, deepAssign, pick } from '../../utils';\nimport { IView } from './types';\n\n/**\n *\n * @param params  \n * @returns facet eachView  view \n */\nexport function execViewAdaptor(viewOfG2: View, options: IView): void {\n  const { data, coordinate, interactions, annotations, animation, tooltip, axes, meta, geometries } = options;\n\n  // 1. data, optional\n  if (data) {\n    viewOfG2.data(data);\n  }\n\n  // 2. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  viewOfG2.scale(scales);\n\n  // 3. coordinate  ()\n  if (coordinate) {\n    viewOfG2.coordinate(coordinate);\n  }\n\n  // 4. axis  ( false )\n  if (axes === false) {\n    viewOfG2.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      viewOfG2.axis(field, axis);\n    });\n  }\n\n  each(geometries, (geometry) => {\n    // Geometry\n    const { ext } = geometryAdaptor({\n      chart: viewOfG2,\n      options: geometry,\n    });\n\n    // Geometry adjust\n    const { adjust } = geometry;\n    if (adjust) {\n      ext.geometry.adjust(adjust);\n    }\n  });\n\n  // 5. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      viewOfG2.removeInteraction(interaction.type);\n    } else {\n      viewOfG2.interaction(interaction.type, interaction.cfg);\n    }\n  });\n  // 6. annotations\n  each(annotations, (annotation) => {\n    viewOfG2.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  // 7. animation ()\n  addViewAnimation(viewOfG2, animation as Options['animation']);\n\n  if (tooltip) {\n    // 8. tooltip\n    viewOfG2.interaction('tooltip');\n    viewOfG2.tooltip(tooltip);\n  } else if (tooltip === false) {\n    viewOfG2.removeInteraction('tooltip');\n  }\n}\n","/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  title: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  rowTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  columnTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { FacetOptions } from './types';\n\nexport type { FacetOptions };\n\nexport class Facet extends Plot<FacetOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<FacetOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Facet.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FacetOptions> {\n    return adaptor;\n  }\n}\n","import { get, isNumber } from '@antv/util';\nimport { animation, annotation, interaction, pattern, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { HeatmapOptions } from './types';\n\nfunction geometry(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { data, type, xField, yField, colorField, sizeField, sizeRatio, shape, color, tooltip, heatmapStyle, meta } =\n    options;\n\n  chart.data(data);\n  let geometryType = 'polygon';\n  if (type === 'density') {\n    geometryType = 'heatmap';\n  }\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, colorField]);\n\n  /**\n   * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n   *\n   * If the `sizeRatio` attribute is undefined or it exceeds the range,\n   * `checkedSizeRatio` would be set to 1 as default.\n   */\n  let checkedSizeRatio = 1;\n  if (sizeRatio || sizeRatio === 0) {\n    if (!shape && !sizeField) {\n      console.warn('sizeRatio is not in effect: Must define shape or sizeField first');\n    } else if (sizeRatio < 0 || sizeRatio > 1) {\n      console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n    } else {\n      checkedSizeRatio = sizeRatio;\n    }\n  }\n\n  geometryAdaptor(\n    deepAssign({}, params, {\n      options: {\n        type: geometryType,\n        colorField,\n        tooltipFields: fields,\n        shapeField: sizeField || '',\n        label: undefined,\n        mapping: {\n          tooltip: formatter,\n          shape:\n            shape &&\n            (sizeField\n              ? (dautm) => {\n                  const field = data.map((row) => row[sizeField]);\n                  let { min, max } = meta?.[sizeField] || {};\n                  min = isNumber(min) ? min : Math.min(...field);\n                  max = isNumber(max) ? max : Math.max(...field);\n                  return [shape, (get(dautm, sizeField) - min) / (max - min), checkedSizeRatio];\n                }\n              : () => [shape, 1, checkedSizeRatio]),\n          color: color || (colorField && chart.getTheme().sequenceColors.join('-')),\n          style: heatmapStyle,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, sizeField, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  // :  sizeField  sizeLegend.  legend \n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend === undefined ? legend : sizeLegend);\n  }\n\n  /**  sizeField */\n  if (!showLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * fixme \n * \n * @param params\n */\nfunction label(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { label, colorField, type } = options;\n\n  const geometry = findGeometry(chart, type === 'density' ? 'heatmap' : 'polygon');\n\n  if (!label) {\n    geometry.label(false);\n  } else if (colorField) {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [colorField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction coordinate(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { coordinate, reflect } = options;\n\n  const coordinateOption = deepAssign({ actions: [] }, coordinate ?? { type: 'rect' });\n\n  if (reflect) {\n    coordinateOption.actions?.push?.(['reflect', reflect]);\n  }\n\n  chart.coordinate(coordinateOption);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HeatmapOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('heatmapStyle'),\n    meta,\n    coordinate,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    label,\n    annotation(),\n    interaction,\n    animation,\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  type: 'polygon',\n  legend: false,\n  coordinate: {\n    type: 'rect',\n  },\n  xAxis: {\n    tickLine: null,\n    line: null,\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n  yAxis: {\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n});\n","import { IGroup, registerShape, Types } from '@antv/g2';\n\nregisterShape('polygon', 'circle', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxRadius = Math.min(width, height) / 2;\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const radiusRatio = Math.sqrt(sizeRatio);\n    const radius = maxRadius * radiusRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('circle', {\n      attrs: {\n        x: cx,\n        y: cy,\n        r: radius,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { IGroup, registerShape, Types } from '@antv/g2';\n\nregisterShape('polygon', 'square', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxSideLength = Math.min(width, height);\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const lenRatio = Math.sqrt(sizeRatio);\n    const sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('rect', {\n      attrs: {\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\nimport { HeatmapOptions } from './types';\n\nexport type { HeatmapOptions };\n\nexport class Heatmap extends Plot<HeatmapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<HeatmapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'heatmap';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HeatmapOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Heatmap.getDefaultOptions();\n  }\n}\n","const CAT_VALUE = 'liquid';\n\n/**\n * \n */\nexport function getLiquidData(percent: number) {\n  return [{ percent, type: CAT_VALUE }];\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isNil } from '@antv/util';\nimport { animation, interaction, pattern, scale, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { CustomInfo, LiquidOptions } from './types';\nimport { getLiquidData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LiquidOptions>): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { percent, liquidStyle, radius, outline, wave, shape, shapeStyle, animation } = options;\n\n  chart.scale({\n    percent: {\n      min: 0,\n      max: 1,\n    },\n  });\n\n  chart.data(getLiquidData(percent));\n\n  const color = options.color || chart.getTheme().defaultColor;\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'type',\n      yField: 'percent',\n      // radius  columnWidthRatio \n      //   radius \n      widthRatio: radius,\n      interval: {\n        color,\n        style: liquidStyle,\n        shape: 'liquid-fill-gauge',\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n  const { background } = chart.getTheme();\n  const customInfo: CustomInfo = {\n    percent,\n    radius,\n    outline,\n    wave,\n    shape,\n    shapeStyle,\n    background,\n    animation,\n  };\n\n  //  radius  shape \n  geometry.customInfo(customInfo);\n\n  // \n  chart.legend(false);\n  chart.axis(false);\n  chart.tooltip(false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function statistic(params: Params<LiquidOptions>, updated?: boolean): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n  let contentOpt = statistic.content;\n  if (contentOpt) {\n    contentOpt = deepAssign({}, contentOpt, {\n      content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n    });\n  }\n\n  renderStatistic(chart, { statistic: { ...statistic, content: contentOpt }, plotType: 'liquid' }, { percent });\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LiquidOptions>) {\n  // flow  G2 API ()\n  return flow(theme, pattern('liquidStyle'), geometry, statistic, scale({}), animation, interaction)(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  radius: 0.9,\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        opacity: 0.75,\n        fontSize: '30px',\n        lineHeight: '30px',\n        textAlign: 'center',\n      },\n    },\n  },\n  outline: {\n    border: 2,\n    distance: 0,\n  },\n  wave: {\n    count: 3,\n    length: 192,\n  },\n  shape: 'circle',\n};\n","import { IGroup, IShape } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { isNumber, mix, reduce } from '@antv/util';\nimport { Point, ShapeStyle } from '../../../types';\nimport { transform } from '../../../utils/matrix';\nimport { CustomInfo, LiquidOptions } from '../types';\n\nconst DURATION = 5000;\n\n/**\n * \n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min: number, max: number, factor: number) {\n  return min + (max - min) * factor;\n}\n\n/**\n *  attrs\n * @param cfg\n */\nfunction getFillAttrs(cfg: ShapeStyle) {\n  const attrs = { opacity: 1, ...cfg.style };\n\n  if (cfg.color && !attrs.fill) {\n    attrs.fill = cfg.color;\n  }\n\n  return attrs;\n}\n\n/**\n * shape  attrs\n * @param cfg\n */\nfunction getLineAttrs(cfg: ShapeStyle) {\n  const defaultAttrs = {\n    fill: '#fff',\n    fillOpacity: 0,\n    lineWidth: 4,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = cfg.color;\n  }\n  if (isNumber(cfg.opacity)) {\n    attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n  }\n\n  return attrs;\n}\n\n/**\n * \n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param x          x position of the left-most point (a)\n * @param stage      0-3, stating which part of the wave it is\n * @param waveLength wave length of the sine wave\n * @param amplitude  wave amplitude\n * @return \n */\nfunction getWaterWavePositions(x: number, stage: number, waveLength: number, amplitude: number) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * \n * @param radius          \n * @param waterLevel      \n * @param waveLength      \n * @param phase           \n * @param amplitude       \n * @param cx              x\n * @param cy              y\n * @return path            \n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(\n  radius: number,\n  waterLevel: number,\n  waveLength: number,\n  phase: number,\n  amplitude: number,\n  cx: number,\n  cy: number\n) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['Z']);\n  // path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * \n * @param x           x\n * @param y           y\n * @param level        01\n * @param waveCount   \n * @param waveAttrs      \n * @param group       \n * @param clip        \n * @param radius      \n * @param waveLength  \n */\nexport function addWaterWave(\n  x: number,\n  y: number,\n  level: number,\n  waveCount: number,\n  waveAttrs: ShapeStyle,\n  group: IGroup,\n  clip: IShape,\n  radius: number,\n  waveLength: number,\n  animation: LiquidOptions['animation']\n) {\n  //   \n  const { fill, opacity } = waveAttrs;\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n\n  //  waveCount \n  for (let idx = 0; idx < waveCount; idx++) {\n    const factor = waveCount <= 1 ? 1 : idx / (waveCount - 1);\n\n    // \n    const wave = group.addShape('path', {\n      name: `waterwave-path`,\n      attrs: {\n        // \n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          waveLength,\n          0,\n          width / 32, // \n          x,\n          y\n        ),\n        fill,\n        opacity: lerp(0.2, 0.9, factor) * opacity,\n      },\n    });\n\n    try {\n      //  underfind \n      if (animation === false) return;\n      const matrix = transform([['t', waveLength, 0]]);\n\n      wave.stopAnimate();\n      wave.animate(\n        { matrix },\n        {\n          duration: lerp(0.5 * DURATION, DURATION, factor),\n          repeat: true,\n        }\n      );\n    } catch (e) {\n      // TODO off-screen canvas  canvas\n      console.warn('off-screen group animate error!');\n    }\n  }\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction pin(x: number, y: number, width: number, height: number) {\n  const w = (width * 2) / 3;\n  const h = Math.max(w, height);\n  const r = w / 2;\n\n  // attrs of the upper circle\n  const cx = x;\n  const cy = r + y - h / 2;\n  const theta = Math.asin(r / ((h - r) * 0.85));\n  const dy = Math.sin(theta) * r;\n  const dx = Math.cos(theta) * r;\n\n  // the start point of the path\n  const x0 = cx - dx;\n  const y0 = cy + dy;\n\n  // control point\n  const cpX = x;\n  const cpY = cy + r / Math.sin(theta);\n\n  return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction circle(x: number, y: number, width: number, height: number) {\n  const rx = width / 2;\n  const ry = height / 2;\n  return `\n      M ${x} ${y - ry} \n      a ${rx} ${ry} 0 1 0 0 ${ry * 2}\n      a ${rx} ${ry} 0 1 0 0 ${-ry * 2}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction diamond(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y}\n      L ${x} ${y + h}\n      L ${x - w} ${y}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction triangle(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction rect(x: number, y: number, width: number, height: number) {\n  const GOLDEN_SECTION_RATIO = 0.618;\n  const h = height / 2;\n  const w = (width / 2) * GOLDEN_SECTION_RATIO;\n  return `\n      M ${x - w} ${y - h}\n      L ${x + w} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\nconst builtInShapeByName = {\n  pin,\n  circle,\n  diamond,\n  triangle,\n  rect,\n};\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container: IGroup) {\n    const cx = 0.5;\n    const cy = 0.5;\n\n    const { customInfo } = cfg;\n    const { percent, radius: radio, shape, shapeStyle, background, animation } = customInfo as CustomInfo;\n    const outline: LiquidOptions['outline'] = customInfo.outline;\n    const wave: LiquidOptions['wave'] = customInfo.wave;\n    const { border, distance } = outline;\n    const { count: waveCount, length: waveLength } = wave;\n\n    //  minX\n    const minX = reduce(\n      cfg.points as Point[],\n      (r: number, p: Point) => {\n        return Math.min(r, p.x);\n      },\n      Infinity\n    );\n\n    const center = this.parsePoint({ x: cx, y: cy });\n    const minXPoint = this.parsePoint({ x: minX, y: cy });\n    const halfWidth = center.x - minXPoint.x;\n\n    //   radius \n    const radius = Math.min(halfWidth, minXPoint.y * radio);\n    const waveAttrs = getFillAttrs(cfg);\n    const outlineAttrs = getLineAttrs(mix({}, cfg, outline));\n    const innerRadius = radius - border / 2;\n\n    const buildPath = typeof shape === 'function' ? shape : builtInShapeByName[shape] || builtInShapeByName['circle'];\n    const shapePath = buildPath(center.x, center.y, innerRadius * 2, innerRadius * 2);\n\n    // 1.  shapeStyle \n    if (shapeStyle) {\n      container.addShape('path', {\n        name: 'shape',\n        attrs: {\n          path: shapePath,\n          ...shapeStyle,\n        },\n      });\n    }\n\n    //  0 \n    if (percent > 0) {\n      // 2. \n      const waves = container.addGroup({\n        name: 'waves',\n      });\n\n      // 3.  clip \n      const clipPath = waves.setClip({\n        type: 'path',\n        attrs: {\n          path: shapePath,\n        },\n      });\n\n      // 4. \n      addWaterWave(\n        center.x,\n        center.y,\n        1 - (cfg.points[1] as Point).y,\n        waveCount,\n        waveAttrs,\n        waves,\n        clipPath,\n        radius * 2,\n        waveLength,\n        animation\n      );\n    }\n\n    // 5.  distance  border\n    container.addShape('path', {\n      name: 'distance',\n      attrs: {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border + distance * 2,\n        stroke: background === 'transparent' ? '#fff' : background,\n      },\n    });\n\n    // 6.  border  border\n    container.addShape('path', {\n      name: 'wrap',\n      attrs: mix(outlineAttrs, {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border,\n      }),\n    });\n\n    return container;\n  },\n});\n","import { Event, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n// register liquid shape\nimport './shapes/liquid';\nimport { LiquidOptions } from './types';\nimport { getLiquidData } from './utils';\n\nexport { addWaterWave } from './shapes/liquid';\nexport type { LiquidOptions };\n\n/**\n * \n */\nexport class Liquid extends Plot<LiquidOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LiquidOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'liquid';\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<LiquidOptions> {\n    return Liquid.getDefaultOptions();\n  }\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getLiquidData(percent));\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<LiquidOptions> {\n    return adaptor;\n  }\n}\n","import { animation, annotation, interaction, legend, scale, theme, tooltip } from '../../adaptor/common';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { RadarOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { data, lineStyle, color, point: pointOptions, area: areaOptions } = options;\n\n  chart.data(data);\n\n  //   geometry\n  const primary = deepAssign({}, params, {\n    options: {\n      line: {\n        style: lineStyle,\n        color,\n      },\n      point: pointOptions\n        ? {\n            color,\n            ...pointOptions,\n          }\n        : pointOptions,\n      area: areaOptions\n        ? {\n            color,\n            ...areaOptions,\n          }\n        : areaOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  //  Geometry\n  const second = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n    },\n  });\n  //  point.state,  state \n  const pointState = pointOptions?.state || options.state;\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n  area(second);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * coord \n * @param params\n */\nfunction coord(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { radius, startAngle, endAngle } = options;\n\n  chart.coordinate('polar', {\n    radius,\n    startAngle,\n    endAngle,\n  });\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis, yField, yAxis } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const geometry = findGeometry(chart, 'line');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n","import { Action, registerComponentController, TooltipController, Util } from '@antv/g2';\nimport { isNil } from '@antv/util';\nimport { Point } from '../../../types';\n\nexport class RadarTooltipController extends TooltipController {\n  public get name(): string {\n    return 'radar-tooltip';\n  }\n\n  public getTooltipItems(point: Point) {\n    const { shared, title: cfgTitle } = this.getTooltipCfg();\n    const hintItems = super.getTooltipItems(point);\n\n    if (hintItems.length > 0) {\n      const geometry = this.view.geometries[0];\n      const dataArray = geometry.dataArray;\n      const title = hintItems[0].name;\n      const result = [];\n      dataArray.forEach((mappingData) => {\n        mappingData.forEach((d) => {\n          const items = Util.getTooltipItems(d, geometry);\n          const item = items[0];\n          if (!shared && item && item.name === title) {\n            const displayTitle = isNil(cfgTitle) ? title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          } else if (shared && item) {\n            const displayTitle = isNil(cfgTitle) ? item.name || title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          }\n        });\n      });\n\n      return result;\n    }\n    return [];\n  }\n}\nregisterComponentController('radar-tooltip', RadarTooltipController);\n\n/**\n *  tooltip  action\n */\nexport class RadarTooltipAction extends Action {\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n  }\n\n  public show() {\n    const { event } = this.context;\n    const controller = this.getTooltipController();\n    controller.showTooltip({ x: event.x, y: event.y });\n  }\n\n  public hide() {\n    const controller = this.getTooltipController();\n    controller.hideTooltip();\n  }\n\n  private getTooltipController() {\n    const { view } = this.context;\n    return view.getController('radar-tooltip') as TooltipController;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\n\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor } from './adaptor';\nimport './interactions';\nimport { RadarOptions } from './types';\n\nexport type { RadarOptions };\n\nexport class Radar extends Plot<RadarOptions> {\n  /**  */\n  public type: string = 'radar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<RadarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      xAxis: {\n        label: {\n          offset: 15,\n        },\n        grid: {\n          line: {\n            type: 'line',\n          },\n        },\n      },\n      yAxis: {\n        grid: {\n          line: {\n            type: 'circle',\n          },\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      tooltip: {\n        shared: true,\n        showCrosshairs: true,\n        showMarkers: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#565656',\n              lineDash: [4],\n            },\n          },\n          follow: true,\n        },\n      },\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RadarOptions> {\n    return adaptor;\n  }\n}\n","import { Data } from '../../types';\n\nexport function getScaleMax(maxAngle: number, yField: string, data: Data): number {\n  const yData = data.map((item) => item[yField]).filter((v) => v !== undefined);\n  const maxValue = yData.length > 0 ? Math.max(...yData) : 0;\n  const formatRadian = Math.abs(maxAngle) % 360;\n  if (!formatRadian) {\n    return maxValue;\n  }\n  return (maxValue * 360) / formatRadian;\n}\n\n/**\n * \n */\nexport function getStackedData(data: Data, xField: string, yField: string) {\n  const stackedData: Data = [];\n  data.forEach((item) => {\n    const valueItem = stackedData.find((v) => v[xField] === item[xField]);\n    if (valueItem) {\n      valueItem[yField] += item[yField] || null;\n    } else {\n      stackedData.push({ ...item });\n    }\n  });\n  return stackedData;\n}\n","import { animation, annotation, interaction, legend, scale, theme, tooltip } from '../../adaptor/common';\nimport { interval, point } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, processIllegalData, transformLabel } from '../../utils';\nimport { RadialBarOptions } from './types';\nimport { getScaleMax, getStackedData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { barStyle: style, color, tooltip, colorField, type, xField, yField, data, shape } = options;\n\n  // \n  const processData = processIllegalData(data, yField);\n  chart.data(processData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      tooltip,\n      seriesField: colorField,\n      interval: {\n        style,\n        color,\n        shape: shape || (type === 'line' ? 'line' : 'intervel'),\n      },\n      // \n      minColumnWidth: options.minBarWidth,\n      maxColumnWidth: options.maxBarWidth,\n      columnBackground: options.barBackground,\n    },\n  });\n  interval(p);\n  if (type === 'line') {\n    point({\n      chart,\n      options: { xField, yField, seriesField: colorField, point: { shape: 'circle', color } },\n    });\n  }\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { options } = params;\n  const { yField, xField, data, isStack, isGroup, colorField, maxAngle } = options;\n\n  const actualData = isStack && !isGroup && colorField ? getStackedData(data, xField, yField) : data;\n  const processData = processIllegalData(actualData, yField);\n  return flow(\n    scale({\n      [yField]: {\n        min: 0,\n        max: getScaleMax(maxAngle, yField, processData),\n      },\n    })\n  )(params);\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart\n    .coordinate({\n      type: 'polar',\n      cfg: {\n        radius,\n        innerRadius,\n        startAngle,\n        endAngle,\n      },\n    })\n    .transpose();\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis } = options;\n  chart.axis(xField, xAxis);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const intervalGeometry = findGeometry(chart, 'interval');\n\n  // label  false,   label\n  if (!label) {\n    intervalGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    intervalGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        ...transformLabel(cfg),\n        type: 'polar',\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadialBarOptions>) {\n  return flow(\n    pattern('barStyle'),\n    geometry,\n    meta,\n    axis,\n    coordinate,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    legend,\n    annotation(),\n    label\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  interactions: [{ type: 'element-active' }],\n  legend: false,\n  tooltip: {\n    showMarkers: false,\n  },\n  xAxis: {\n    grid: null,\n    tickLine: null,\n    line: null,\n  },\n  maxAngle: 240,\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { RadialBarOptions } from './types';\n\nexport type { RadialBarOptions };\n\n/**\n * \n */\nexport class RadialBar extends Plot<RadialBarOptions> {\n  static getDefaultOptions(): Partial<RadialBarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'radial-bar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    //  scale\n    meta({ chart: this.chart, options: this.options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions(): Partial<RadialBarOptions> {\n    return RadialBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<RadialBarOptions> {\n    return adaptor;\n  }\n}\n","import { filter, isArray, isObject } from '@antv/util';\nimport { animation, annotation, interaction, pattern, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry, flow, LEVEL, log, transformLabel } from '../../utils';\nimport { RoseOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { data, sectorStyle, shape, color } = options;\n\n  // \n  chart.data(data);\n\n  flow(interval)(\n    deepAssign({}, params, {\n      options: {\n        marginRatio: 1,\n        interval: {\n          style: sectorStyle,\n          color,\n          shape: shape,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { label, xField } = options;\n  const geometry = findGeometry(chart, 'interval');\n\n  // label  false  label\n  if (label === false) {\n    geometry.label(false);\n  } else if (isObject(label)) {\n    const { callback, fields, ...cfg } = label;\n    const { offset } = cfg;\n    let layout = cfg.layout;\n\n    //  label  shape  'limit-in-shape' \n    //  label \n    if (offset === undefined || offset >= 0) {\n      layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n      cfg.layout = filter(layout, (v) => v.type !== 'limit-in-shape');\n      cfg.layout.length || delete cfg.layout;\n    }\n\n    geometry.label({\n      fields: fields || [xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  } else {\n    log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n    geometry.label({ fields: [xField] });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (seriesField) {\n    chart.legend(seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'polar',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  falsy \n  if (!xAxis) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (!yAxis) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RoseOptions>) {\n  // flow  G2 API\n  flow(\n    pattern('sectorStyle'),\n    geometry,\n    meta,\n    label,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    theme,\n    annotation(),\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  xAxis: false,\n  yAxis: false,\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  sectorStyle: {\n    stroke: '#fff',\n    lineWidth: 1,\n  },\n  label: {\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { RoseOptions } from './types';\n\nexport type { RoseOptions };\n\nexport class Rose extends Plot<RoseOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<RoseOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'rose';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<RoseOptions> {\n    return Rose.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RoseOptions> {\n    return adaptor;\n  }\n}\n","import { isArray } from '@antv/util';\nimport { Data } from '../../types';\n\n/**\n *  edges  node \n */\nexport function getNodes(edges: Data, sourceField: string, targetField: string): string[] {\n  const nodes = [];\n  edges.forEach((e) => {\n    const source = e[sourceField] as string;\n    const target = e[targetField] as string;\n    if (!nodes.includes(source)) {\n      nodes.push(source);\n    }\n    if (!nodes.includes(target)) {\n      nodes.push(target);\n    }\n  });\n  return nodes;\n}\n\n/**\n *  edges  dfs \n */\nexport function getMatrix(\n  edges: Data,\n  nodes: string[],\n  sourceField: string,\n  targetField: string\n): Record<string, Record<string, number>> {\n  const graphMatrix = {};\n\n  nodes.forEach((pre) => {\n    graphMatrix[pre] = {};\n    nodes.forEach((next) => {\n      graphMatrix[pre][next] = 0;\n    });\n  });\n\n  edges.forEach((edge) => {\n    graphMatrix[edge[sourceField]][edge[targetField]] = 1;\n  });\n\n  return graphMatrix;\n}\n\n/**\n *  DFS \n * @param data\n * @param sourceField\n * @param targetField\n */\nexport function cutoffCircle(edges: Data, sourceField: string, targetField: string): Data {\n  if (!isArray(edges)) return [];\n\n  // \n  const removedData = [];\n\n  // \n  const nodes = getNodes(edges, sourceField, targetField);\n  // \n  const graphMatrix = getMatrix(edges, nodes, sourceField, targetField);\n\n  // visited, 0,1, -1\n  const visited = {};\n  // visited\n  nodes.forEach((node) => {\n    visited[node] = 0;\n  });\n\n  // \n  function DFS(dfsNode) {\n    // \n    visited[dfsNode] = 1;\n    nodes.forEach((node) => {\n      if (graphMatrix[dfsNode][node] != 0) {\n        //  removeData\n        if (visited[node] == 1) {\n          // \n          removedData.push(`${dfsNode}_${node}`);\n        } else if (visited[node] == -1) {\n          // \n          return;\n        } else {\n          DFS(node); // \n        }\n      }\n    });\n    //-1\n    visited[dfsNode] = -1;\n  }\n\n  //  dfs \n  nodes.forEach((node) => {\n    //\n    if (visited[node] == -1) {\n      return;\n    }\n    DFS(node);\n  });\n\n  if (removedData.length !== 0) {\n    console.warn(`sankey data contains circle, ${removedData.length} records removed.`, removedData);\n  }\n\n  //  remove \n  return edges.filter((edge) => removedData.findIndex((i) => i === `${edge[sourceField]}_${edge[targetField]}`) < 0);\n}\n","import { minBy } from '@antv/util';\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? minBy(node.sourceLinks, targetDepth) - 1 : 0;\n}\n","export function constant(x: any) {\n  return function () {\n    return x;\n  };\n}\n\nexport function sumBy(arr, func) {\n  let r = 0;\n  for (let i = 0; i < arr.length; i++) {\n    r += func(arr[i]);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function maxValueBy(arr, func): number {\n  let r = -Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.max(func(arr[i]), r);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function minValueBy(arr, func): number {\n  let r = Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.min(func(arr[i]), r);\n  }\n\n  return r;\n}\n","import { justify } from './align';\nimport { constant, maxValueBy, minValueBy, sumBy } from './helper';\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error('missing: ' + id);\n  return node;\n}\n\nfunction computeLinkBreadths({ nodes }) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport function Sankey() {\n  let x0 = 0,\n    y0 = 0,\n    x1 = 1,\n    y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8,\n    py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let depth;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey(arg) {\n    const graph = {\n      nodes: nodes(arg),\n      links: links(arg),\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey) : align;\n  };\n\n  sankey.nodeDepth = function (_) {\n    return arguments.length ? ((depth = typeof _ === 'function' ? _ : _), sankey) : depth;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? ((sort = _), sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? ((dx = +_), sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? ((dy = py = +_), sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? ((linkSort = _), sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length\n      ? ((x0 = +_[0][0]), (x1 = +_[1][0]), (y0 = +_[0][1]), (y1 = +_[1][1]), sankey)\n      : [\n          [x0, y0],\n          [x1, y1],\n        ];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? ((iterations = +_), sankey) : iterations;\n  };\n\n  function computeNodeLinks({ nodes, links }) {\n    nodes.forEach((node, idx) => {\n      node.index = idx;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n\n    const nodeById = new Map(nodes.map((d) => [id(d), d]));\n\n    links.forEach((link, idx) => {\n      link.index = idx;\n      let { source, target } = link;\n      if (typeof source !== 'object') source = link.source = find(nodeById, source);\n      if (typeof target !== 'object') target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n\n    if (linkSort != null) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({ nodes }) {\n    for (const node of nodes) {\n      node.value =\n        node.fixedValue === undefined\n          ? Math.max(sumBy(node.sourceLinks, value), sumBy(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.depth = x;\n        for (const { target } of node.sourceLinks) {\n          next.add(target);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n\n    //  depth depth\n    if (depth) {\n      const maxDepth = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n\n      let node;\n      for (let i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.depth = depth.call(null, node, maxDepth);\n      }\n    }\n  }\n\n  function computeNodeHeights({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.height = x;\n        for (const { source } of node.targetLinks) {\n          next.add(source);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers({ nodes }) {\n    const x = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x).fill(0).map(() => []);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort)\n      for (const column of columns) {\n        column.sort(sort);\n      }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = minValueBy(columns, (c: any[]) => (y1 - y0 - (c.length - 1) * py) / sumBy(c, value)) as any as number;\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / ((maxValueBy(columns, (c: any[]) => c.length) as any as number) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const { source, value } of target.targetLinks) {\n          const v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const { target, value } of source.sourceLinks) {\n          const v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) (node.y0 += dy), (node.y1 += dy);\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) (node.y0 -= dy), (node.y1 -= dy);\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({ sourceLinks, targetLinks }) {\n    if (linkSort === undefined) {\n      for (const {\n        source: { sourceLinks },\n      } of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {\n        target: { targetLinks },\n      } of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","import { assign, isFunction, isString } from '@antv/util';\nimport { Datum } from '../../types';\nimport { center, justify, left, right, sankey } from './sankey';\n\nconst ALIGN_METHOD = {\n  left,\n  right,\n  center,\n  justify,\n};\n\ntype InputNode = {\n  readonly name: string;\n};\n\ntype InputLink = {\n  readonly source: number;\n  readonly target: number;\n  readonly value: number;\n};\n\ntype OutputNode = {\n  readonly name: string;\n  readonly x0: number;\n  readonly x1: number;\n  readonly y0: number;\n  readonly y1: number;\n  readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n  readonly width: number;\n  readonly y0: number;\n  readonly y1: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\n/**\n * \n */\nexport type SankeyLayoutInputData = {\n  readonly nodes: InputNode[];\n  readonly links: InputLink[];\n};\n\ntype SankeyLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * \n */\nexport type NodeAlign = keyof typeof ALIGN_METHOD | ((...args: any[]) => any);\n\n/**\n *  depth \n */\nexport type NodeDepth = (datum: Datum, maxDepth: number) => number;\n\n/**\n * \n */\nexport type NodeSort = (a: Datum, b: Datum) => number;\n\n/**\n * \n */\nexport type SankeyLayoutOptions = {\n  readonly nodeId?: (node: Datum) => any;\n  // readonly value?: (node: Datum) => any;\n  // readonly source?: (edge: Datum) => any;\n  // readonly target?: (edge: Datum) => any;\n  // sankey.nodeSort(undefined) is the default and resorts by ascending breadth during each iteration.\n  // sankey.nodeSort(null) specifies the input order of nodes and never sorts.\n  // sankey.nodeSort(function) specifies the given order as a comparator function and sorts once on initialization.\n  readonly nodeSort?: (a: any, b: any) => number;\n  readonly nodeAlign?: NodeAlign;\n  readonly nodeWidth?: number;\n  readonly nodePadding?: number;\n  readonly nodeDepth?: NodeDepth;\n};\n\n/**\n * \n */\nconst DEFAULT_OPTIONS: Partial<SankeyLayoutOptions> = {\n  nodeId: (node: Datum) => node.index,\n  nodeAlign: 'justify',\n  nodeWidth: 0.008,\n  nodePadding: 0.03,\n  nodeSort: undefined,\n};\n\n/**\n *  align function\n * @param nodeAlign\n * @param nodeDepth\n */\nexport function getNodeAlignFunction(nodeAlign: NodeAlign) {\n  const func = isString(nodeAlign) ? ALIGN_METHOD[nodeAlign] : isFunction(nodeAlign) ? nodeAlign : null;\n\n  return func || justify;\n}\n\nexport function getDefaultOptions(sankeyLayoutOptions: SankeyLayoutOptions) {\n  return assign({}, DEFAULT_OPTIONS, sankeyLayoutOptions);\n}\n\n/**\n * 0 - 1 \n *  data \n * @param sankeyLayoutOptions\n * @param data\n */\nexport function sankeyLayout(\n  sankeyLayoutOptions: SankeyLayoutOptions,\n  data: SankeyLayoutInputData\n): SankeyLayoutOutputData {\n  const options = getDefaultOptions(sankeyLayoutOptions);\n\n  const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth } = options;\n\n  const sankeyProcessor = sankey()\n    // .links((d: any) => d.links)\n    // .nodes((d: any) => d.nodes)\n    .nodeSort(nodeSort)\n    .nodeWidth(nodeWidth)\n    .nodePadding(nodePadding)\n    .nodeDepth(nodeDepth)\n    .nodeAlign(getNodeAlignFunction(nodeAlign))\n    .extent([\n      [0, 0],\n      [1, 1],\n    ])\n    .nodeId(nodeId);\n\n  // \n  const layoutData: SankeyLayoutOutputData = sankeyProcessor(data);\n\n  // post process (x, y), etc.\n  const nodes = layoutData.nodes\n    .map((node) => {\n      const { x0, x1, y0, y1 } = node;\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      node.x = [x0, x1, x1, x0];\n      node.y = [y0, y0, y1, y1];\n\n      return node;\n    })\n    .filter((node) => {\n      return node.name !== null;\n    });\n\n  const links = layoutData.links\n    .map((edge) => {\n      const { source, target } = edge;\n      const sx = source.x1;\n      const tx = target.x0;\n      edge.x = [sx, sx, tx, tx];\n      const offset = edge.width / 2;\n      edge.y = [edge.y0 + offset, edge.y0 - offset, edge.y1 + offset, edge.y1 - offset];\n\n      return edge;\n    })\n    .filter((edge) => {\n      const { source, target } = edge;\n      return source.name !== null && target.name !== null;\n    });\n\n  return { nodes, links };\n}\n","import { Data } from '../../types';\nimport { isRealNumber, pick } from '../../utils';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { cutoffCircle } from './circle';\nimport { sankeyLayout, SankeyLayoutInputData } from './layout';\nimport { SankeyOptions } from './types';\n\n/**\n *  node-link \n * @param dataTyp\n * @returns\n */\nfunction isNodeLink(dataType: string) {\n  return dataType === 'node-link';\n}\n\nexport function getNodeWidthRatio(nodeWidth: number, nodeWidthRatio: number, width: number) {\n  return isRealNumber(nodeWidth) ? nodeWidth / width : nodeWidthRatio;\n}\n\nexport function getNodePaddingRatio(nodePadding: number, nodePaddingRatio: number, height: number) {\n  return isRealNumber(nodePadding) ? nodePadding / height : nodePaddingRatio;\n}\n\n/**\n *  layout view \n * @param options\n * @param width\n * @param height\n */\nexport function transformToViewsData(options: SankeyOptions, width: number, height: number) {\n  const {\n    dataType,\n    data,\n    sourceField,\n    targetField,\n    weightField,\n    nodeAlign,\n    nodeSort,\n    nodePadding,\n    nodePaddingRatio,\n    nodeWidth,\n    nodeWidthRatio,\n    nodeDepth,\n    rawFields = [],\n  } = options;\n\n  let sankeyLayoutInputData: unknown;\n\n  if (!isNodeLink(dataType)) {\n    sankeyLayoutInputData = transformDataToNodeLinkData(\n      cutoffCircle(data as Data, sourceField, targetField),\n      sourceField,\n      targetField,\n      weightField,\n      rawFields\n    );\n  } else {\n    sankeyLayoutInputData = data;\n  }\n\n  // 3. layout \n  const { nodes, links } = sankeyLayout(\n    {\n      nodeAlign,\n      nodePadding: getNodePaddingRatio(nodePadding, nodePaddingRatio, height),\n      nodeWidth: getNodeWidthRatio(nodeWidth, nodeWidthRatio, width),\n      nodeSort,\n      nodeDepth,\n    },\n    sankeyLayoutInputData as SankeyLayoutInputData\n  );\n\n  // 4. \n  return {\n    nodes: nodes.map((node) => {\n      return {\n        ...pick(node, ['x', 'y', 'name', ...rawFields]),\n        isNode: true,\n      };\n    }),\n    edges: links.map((link) => {\n      return {\n        source: link.source.name,\n        target: link.target.name,\n        name: link.source.name || link.target.name,\n        ...pick(link, ['x', 'y', 'value', ...rawFields]),\n        isNode: false,\n      };\n    }),\n  };\n}\n","import { uniq } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { edge, polygon } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow } from '../../utils';\nimport { addViewAnimation } from '../../utils/view';\nimport { COLOR_FIELD, EDGES_VIEW_ID, NODES_VIEW_ID, X_FIELD, Y_FIELD } from './constant';\nimport { transformToViewsData } from './helper';\nimport { SankeyOptions } from './types';\n\n/**\n *  \n * @param params\n */\nfunction defaultOptions(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { options } = params;\n  const { rawFields = [] } = options;\n\n  return deepAssign(\n    {},\n    {\n      options: {\n        tooltip: {\n          fields: uniq(['name', 'source', 'target', 'value', 'isNode', ...rawFields]),\n        },\n        label: {\n          fields: uniq(['x', 'name', ...rawFields]),\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { color, nodeStyle, edgeStyle, label, tooltip, nodeState, edgeState, rawFields = [] } = options;\n\n  // 1.  view \n  chart.legend(false);\n  chart.tooltip(tooltip);\n  chart.axis(false);\n  // y \n  chart.coordinate().reflect('y');\n\n  // 2. node edge views\n  // @ts-ignore\n  const { nodes, edges } = transformToViewsData(options, chart.width, chart.height);\n\n  // edge view\n  const edgeView = chart.createView({ id: EDGES_VIEW_ID });\n  edgeView.data(edges);\n\n  edge({\n    chart: edgeView,\n    // @ts-ignore\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      rawFields: ['source', 'target', ...rawFields],\n      edge: {\n        color,\n        style: edgeStyle,\n        shape: 'arc',\n      },\n      tooltip,\n      state: edgeState,\n    },\n  });\n\n  const nodeView = chart.createView({ id: NODES_VIEW_ID });\n  nodeView.data(nodes);\n\n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      polygon: {\n        color,\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n      state: nodeState,\n    },\n  });\n\n  chart.interaction('element-active');\n\n  // scale\n  chart.scale({\n    x: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    y: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    name: { sync: 'color', type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  const geometries = [...chart.views[0].geometries, ...chart.views[1].geometries];\n\n  addViewAnimation(chart, animation, geometries);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function nodeDraggable(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { nodeDraggable } = options;\n\n  const DRAG_INTERACTION = 'sankey-node-draggable';\n\n  if (nodeDraggable) {\n    chart.interaction(DRAG_INTERACTION);\n  } else {\n    chart.removeInteraction(DRAG_INTERACTION);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nfunction interaction(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { interactions = [] } = options;\n\n  const nodeInteractions = [].concat(interactions, options.nodeInteractions || []);\n  const edgeInteractions = [].concat(interactions, options.edgeInteractions || []);\n\n  const nodeView = findViewById(chart, NODES_VIEW_ID);\n  const edgeView = findViewById(chart, EDGES_VIEW_ID);\n\n  nodeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      nodeView.removeInteraction(i.type);\n    } else {\n      nodeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  edgeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      edgeView.removeInteraction(i.type);\n    } else {\n      edgeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SankeyOptions>) {\n  // flow  G2 API\n  return flow(\n    defaultOptions,\n    geometry,\n    interaction,\n    nodeDraggable,\n    animation,\n    theme\n    // ...  adaptor flow\n  )(params);\n}\n","export const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const COLOR_FIELD = 'name';\nexport const NODES_VIEW_ID = 'nodes';\nexport const EDGES_VIEW_ID = 'edges';\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { SankeyNodeDragAction } from './actions/node-drag';\n\nregisterAction('sankey-node-drag', SankeyNodeDragAction);\n\nregisterInteraction('sankey-node-draggable', {\n  showEnable: [\n    { trigger: 'polygon:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'polygon:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'polygon:mousedown', action: 'sankey-node-drag:start' }],\n  processing: [\n    { trigger: 'plot:mousemove', action: 'sankey-node-drag:translate' },\n    { isEnable: (context) => context.isDragging, trigger: 'plot:mousemove', action: 'cursor:move' },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'sankey-node-drag:end' }],\n});\n","import { Action, Element } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum, Point } from '../../../../types';\nimport { findViewById } from '../../../../utils';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from '../../constant';\n\nexport class SankeyNodeDragAction extends Action {\n  /**\n   * \n   */\n  private isDragging = false;\n\n  /**\n   * \n   */\n  private prevPoint: Point;\n  /**\n   * \n   */\n  private prevNodeAnimateCfg: any;\n  /**\n   * \n   */\n  private prevEdgeAnimateCfg: any;\n  /**\n   *  element \n   */\n  private currentElementIdx: number;\n\n  /**\n   *  element\n   */\n  private isNodeElement() {\n    const shape = get(this.context, 'event.target');\n    if (shape) {\n      const element = shape.get('element');\n      return element && element.getModel().data.isNode;\n    }\n    return false;\n  }\n\n  private getNodeView() {\n    return findViewById(this.context.view, NODES_VIEW_ID);\n  }\n\n  private getEdgeView() {\n    return findViewById(this.context.view, EDGES_VIEW_ID);\n  }\n\n  /**\n   *  index\n   * @param element\n   */\n  private getCurrentDatumIdx(element: Element) {\n    return this.getNodeView().geometries[0].elements.indexOf(element);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    // \n    if (this.isNodeElement()) {\n      this.prevPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const element = this.context.event.target.get('element');\n      const idx = this.getCurrentDatumIdx(element);\n\n      if (idx === -1) {\n        return;\n      }\n\n      this.currentElementIdx = idx;\n      this.context.isDragging = true;\n      this.isDragging = true;\n\n      // \n      this.prevNodeAnimateCfg = this.getNodeView().getOptions().animate;\n      this.prevEdgeAnimateCfg = this.getEdgeView().getOptions().animate;\n      this.getNodeView().animate(false);\n      this.getEdgeView().animate(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (this.isDragging) {\n      const chart = this.context.view;\n\n      const currentPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const x = currentPoint.x - this.prevPoint.x;\n      const y = currentPoint.y - this.prevPoint.y;\n\n      const nodeView = this.getNodeView();\n      const element = nodeView.geometries[0].elements[this.currentElementIdx];\n\n      // \n      if (element && element.getModel()) {\n        const prevDatum: Datum = element.getModel().data;\n        const data = nodeView.getOptions().data;\n        const coordinate = nodeView.getCoordinate();\n\n        const datumGap = {\n          x: x / coordinate.getWidth(),\n          y: y / coordinate.getHeight(),\n        };\n\n        const nextDatum = {\n          ...prevDatum,\n          x: prevDatum.x.map((x: number) => (x += datumGap.x)),\n          y: prevDatum.y.map((y: number) => (y += datumGap.y)),\n        };\n        //  [0, 1] \n\n        // 1.  node \n        const newData = [...data];\n        newData[this.currentElementIdx] = nextDatum;\n        nodeView.data(newData);\n\n        // 2.  edge \n        const name = prevDatum.name;\n        const edgeView = this.getEdgeView();\n        const edgeData = edgeView.getOptions().data;\n\n        edgeData.forEach((datum) => {\n          // 2.1  node  source  [x0, x1, x2, x3]  x0, x1\n          if (datum.source === name) {\n            datum.x[0] += datumGap.x;\n            datum.x[1] += datumGap.x;\n            datum.y[0] += datumGap.y;\n            datum.y[1] += datumGap.y;\n          }\n\n          // 2.2  node  target  [x0, x1, x2, x3]  x2, x3\n          if (datum.target === name) {\n            datum.x[2] += datumGap.x;\n            datum.x[3] += datumGap.x;\n            datum.y[2] += datumGap.y;\n            datum.y[3] += datumGap.y;\n          }\n        });\n        edgeView.data(edgeData);\n\n        // 3. \n        this.prevPoint = currentPoint;\n\n        // node edge  render\n        chart.render(true);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isDragging = false;\n    this.context.isDragging = false;\n    this.prevPoint = null;\n    this.currentElementIdx = null;\n\n    // \n    this.getNodeView().animate(this.prevNodeAnimateCfg);\n    this.getEdgeView().animate(this.prevEdgeAnimateCfg);\n  }\n}\n","import { get } from '@antv/util';\nimport { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { Data, Datum } from '../../types';\nimport { findViewById } from '../../utils';\nimport { adaptor } from './adaptor';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\nimport { transformToViewsData } from './helper';\n// \nimport './interactions';\nimport { SankeyOptions } from './types';\n\nexport type { SankeyOptions };\n\n/**\n *   Sankey\n */\nexport class Sankey extends Plot<SankeyOptions> {\n  /**  */\n  public type: string = 'sankey';\n\n  static getDefaultOptions(): Partial<SankeyOptions> {\n    return {\n      appendPadding: 8,\n      syncViewPadding: true,\n      nodeStyle: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n      },\n      edgeStyle: {\n        opacity: 0.3,\n        lineWidth: 0,\n      },\n      edgeState: {\n        active: {\n          style: {\n            opacity: 0.8,\n            lineWidth: 0,\n          },\n        },\n      },\n      label: {\n        formatter: ({ name }) => name,\n        callback: (x: number[]) => {\n          const isLast = x[1] === 1; // \n          return {\n            style: {\n              fill: '#545454',\n              textAlign: isLast ? 'end' : 'start',\n            },\n            offsetX: isLast ? -8 : 8,\n          };\n        },\n        layout: [\n          {\n            type: 'hide-overlap',\n          },\n        ],\n      },\n      tooltip: {\n        showTitle: false,\n        showMarkers: false,\n        shared: false,\n        // node  tooltipedge  tooltip\n        showContent: (items) => {\n          return !get(items, [0, 'data', 'isNode']);\n        },\n        formatter: (datum: Datum) => {\n          const { source, target, value } = datum;\n          return {\n            name: source + ' -> ' + target,\n            value,\n          };\n        },\n      },\n      nodeWidthRatio: 0.008,\n      nodePaddingRatio: 0.01,\n      animation: {\n        appear: {\n          animation: 'wave-in',\n        },\n        enter: {\n          animation: 'wave-in',\n        },\n      },\n    };\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: Data) {\n    this.updateOption({ data });\n\n    const { nodes, edges } = transformToViewsData(this.options, this.chart.width, this.chart.height);\n\n    const nodesView = findViewById(this.chart, NODES_VIEW_ID);\n    const edgesView = findViewById(this.chart, EDGES_VIEW_ID);\n\n    nodesView.changeData(nodes);\n    edgesView.changeData(edges);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SankeyOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sankey.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { CHILD_NODE_COUNT, NODE_ANCESTORS_FIELD, NODE_INDEX_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\n\n/**\n *  root \n */\nexport const SUNBURST_ANCESTOR_FIELD = 'ancestor-node';\nexport const SUNBURST_Y_FIELD = 'value';\nexport const SUNBURST_PATH_FIELD = 'path';\n\n/**  */\nexport const RAW_FIELDS = [\n  SUNBURST_PATH_FIELD,\n  NODE_INDEX_FIELD,\n  NODE_ANCESTORS_FIELD,\n  CHILD_NODE_COUNT,\n  'name',\n  'depth',\n  'height',\n];\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<SunburstOptions> = deepAssign({}, Plot.getDefaultOptions(), {\n  innerRadius: 0,\n  radius: 0.85,\n\n  // \n  hierarchyConfig: {\n    //  value\n    field: 'value',\n  },\n\n  // \n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n    showTitle: false,\n  },\n  legend: false,\n\n  // \n  sunburstStyle: {\n    lineWidth: 0.5,\n    stroke: '#FFF',\n  },\n\n  // \n  drilldown: { enabled: true },\n});\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import { assign, isArray, reduce, size } from '@antv/util';\nimport * as d3Hierarchy from 'd3-hierarchy';\nimport { getAllNodes, getField } from './util';\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  size: [1, 1], // width, height\n  round: false,\n  padding: 0,\n  // \n  sort: (a, b) => b.value - a.value,\n  as: ['x', 'y'],\n  //  parentValue,  true \n  ignoreParentValue: true,\n};\n\nexport interface Options {\n  field: string;\n  size?: [number, number];\n  round?: boolean;\n  ratio?: number;\n  padding?: number;\n  sort?: (a: any, b: any) => any; // Function;\n  as?: [string, string];\n\n  ignoreParentValue?: boolean;\n}\n\nexport function partition(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const partition = (data) =>\n    d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) =>\n          size(d.children)\n            ? options.ignoreParentValue\n              ? 0\n              : d[field] - reduce(d.children, (a, b) => a + b[field], 0)\n            : d[field]\n        )\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    //  \n    node.name = node.name || node.data?.name || node.data?.label;\n    node.data.name = node.name;\n\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","import { assign, isArray } from '@antv/util';\nimport * as d3Hierarchy from 'd3-hierarchy';\nimport { HierarchyOption } from './types';\nimport { getAllNodes, getField } from './util';\n\nconst DEFAULT_OPTIONS: HierarchyOption = {\n  field: 'value',\n  tile: 'treemapSquarify', // treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify\n  size: [1, 1], // width, height\n  round: false,\n  ignoreParentValue: true,\n  padding: 0,\n  paddingInner: 0,\n  paddingOuter: 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  as: ['x', 'y'],\n  // \n  sort: (a, b) => b.value - a.value,\n  // , treemapSquarify \n  ratio: 0.5 * (1 + Math.sqrt(5)),\n};\n\nexport function getTileMethod(tile: string, ratio: number) {\n  return tile === 'treemapSquarify' ? d3Hierarchy[tile].ratio(ratio) : d3Hierarchy[tile];\n}\n\nexport function treemap(data: any, options: HierarchyOption): any[] {\n  options = assign({} as HierarchyOption, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const tileMethod = getTileMethod(options.tile, options.ratio);\n\n  const partition = (data) =>\n    d3Hierarchy\n      .treemap()\n      .tile(tileMethod)\n      .size(options.size)\n      .round(options.round)\n      .padding(options.padding)\n      .paddingInner(options.paddingInner)\n      .paddingOuter(options.paddingOuter)\n      .paddingTop(options.paddingTop)\n      .paddingRight(options.paddingRight)\n      .paddingBottom(options.paddingBottom)\n      .paddingLeft(options.paddingLeft)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * ignoreParentValue  true()  0 + 5 + 5 = 10\n       * ignoreParentValue  false   10 + 5 + 5 = 20\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => (options.ignoreParentValue && d.children ? 0 : d[field]))\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","import { omit } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { pick } from '../../utils';\nimport { partition } from '../../utils/hierarchy/partition';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport { SunburstOptions } from './types';\n\n/**\n * sunburst \n * @param options\n */\nexport function transformData(options: Pick<SunburstOptions, 'data' | 'colorField' | 'rawFields' | 'hierarchyConfig'>) {\n  const { data, colorField, rawFields, hierarchyConfig = {} } = options;\n  const { activeDepth } = hierarchyConfig;\n  const transform = {\n    partition: partition,\n    treemap: treemap,\n  };\n  // @ts-ignore  seriesField  hierarchyConfig.field\n  const seriesField = options.seriesField;\n  // @ts-ignore \n  const type = options.type || 'partition';\n\n  const nodes = transform[type](data, {\n    field: seriesField || 'value',\n    ...omit(hierarchyConfig, ['activeDepth']),\n    // @ts-ignore\n    type: `hierarchy.${type}`,\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n    if (activeDepth > 0 && node.depth > activeDepth) {\n      return null;\n    }\n\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    const nodeInfo = {\n      ...pick(node.data, [...(rawFields || []), hierarchyConfig.field]),\n      [SUNBURST_PATH_FIELD]: path,\n      [SUNBURST_ANCESTOR_FIELD]: ancestorNode.data.name,\n      ...node,\n    };\n    // note: \n    if (seriesField) {\n      nodeInfo[seriesField] = node.data[seriesField] || node.parent?.data?.[seriesField];\n    }\n    if (colorField) {\n      nodeInfo[colorField] = node.data[colorField] || node.parent?.data?.[colorField];\n    }\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, rawFields };\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n","import { Types } from '@antv/g2';\nimport { get, isFunction, uniq } from '@antv/util';\nimport {\n  animation,\n  annotation,\n  interaction as baseInteraction,\n  legend,\n  pattern,\n  scale,\n  theme,\n} from '../../adaptor/common';\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { RAW_FIELDS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD, SUNBURST_Y_FIELD } from './constant';\nimport { SunburstOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { color, colorField = SUNBURST_ANCESTOR_FIELD, sunburstStyle, rawFields = [], shape } = options;\n  const data = transformData(options);\n  chart.data(data);\n\n  //  fillOpacity \n  let style;\n  if (sunburstStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        {\n          fillOpacity: 0.85 ** datum.depth,\n        },\n        isFunction(sunburstStyle) ? sunburstStyle(datum) : sunburstStyle\n      );\n    };\n  }\n\n  // geometry\n  polygonAdaptor(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: uniq([...RAW_FIELDS, ...rawFields]),\n        polygon: {\n          color,\n          style,\n          shape,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'polygon');\n\n  // undefined \n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { fields = ['name'], callback, ...cfg } = label;\n    geometry.label({\n      fields,\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius, reflect } = options;\n\n  const coord = chart.coordinate({\n    type: 'polar',\n    cfg: {\n      innerRadius,\n      radius,\n    },\n  });\n  if (reflect) {\n    coord.reflect(reflect);\n  }\n\n  return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { options } = params;\n  const { hierarchyConfig, meta } = options;\n\n  return flow(\n    scale(\n      {},\n      {\n        [SUNBURST_Y_FIELD]: get(meta, get(hierarchyConfig, ['field'], 'value')),\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const pathFormatter = get(scales, [SUNBURST_PATH_FIELD, 'formatter'], (v) => v);\n              const valueFormatter = get(scales, [SUNBURST_Y_FIELD, 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: pathFormatter(item.data[SUNBURST_PATH_FIELD]),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\nfunction adaptorInteraction(options: SunburstOptions): SunburstOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n\n  const { drilldown } = options;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  // \n  if (drilldown?.enabled) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SunburstOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('sunburstStyle'),\n    geometry,\n    axis,\n    meta,\n    legend,\n    coordinate,\n    tooltip,\n    label,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { NODE_ANCESTORS_FIELD } from '../../utils/hierarchy/util';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport './interactions';\nimport { SunburstOptions } from './types';\n\nexport type { SunburstOptions };\n\nexport class Sunburst extends Plot<SunburstOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<SunburstOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**   */\n  static SUNBURST_ANCESTOR_FIELD = SUNBURST_ANCESTOR_FIELD;\n  /**   */\n  static SUNBURST_PATH_FIELD = SUNBURST_PATH_FIELD;\n  /**  */\n  static NODE_ANCESTORS_FIELD = NODE_ANCESTORS_FIELD;\n\n  /**  */\n  public type: string = 'sunburst';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sunburst.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SunburstOptions> {\n    return adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { Interaction } from '../../types/interaction';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { TreemapOptions } from './types';\n\nexport function findInteraction(\n  interactions: TreemapOptions['interactions'],\n  interactionType: string\n): undefined | Interaction {\n  if (!isArray(interactions)) return undefined;\n  return interactions.find((i) => i.type === interactionType);\n}\n\nexport function enableInteraction(interactions: TreemapOptions['interactions'], interactionType: string): boolean {\n  const interaction = findInteraction(interactions, interactionType);\n  return interaction && interaction.enable !== false;\n}\n\n/**\n * \n * @param interactions\n * @param interactionType\n * @returns\n */\nexport function enableDrillInteraction(options: TreemapOptions): boolean {\n  const { interactions, drilldown } = options;\n  // , treemap-drill-down\n  return get(drilldown, 'enabled') || enableInteraction(interactions, 'treemap-drill-down');\n}\n\nexport function resetDrillDown(chart: View) {\n  const drillDownInteraction = chart.interactions['drill-down'];\n\n  if (!drillDownInteraction) return;\n\n  // @ts-ignore\n  const drillDownAction = drillDownInteraction.context.actions.find((i) => i.name === 'drill-down-action');\n\n  drillDownAction.reset();\n}\n\ninterface TransformDataOptions {\n  data: TreemapOptions['data'];\n  colorField: TreemapOptions['colorField'];\n  enableDrillDown: boolean;\n  hierarchyConfig: TreemapOptions['hierarchyConfig'];\n}\n\nexport function transformData(options: TransformDataOptions) {\n  const { data, colorField, enableDrillDown, hierarchyConfig } = options;\n\n  const nodes = treemap(data, {\n    ...hierarchyConfig,\n    // @ts-ignore\n    type: 'hierarchy.treemap',\n    field: 'value',\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n\n    //  depth === 1 \n    if (enableDrillDown && node.depth !== 1) {\n      return null;\n    }\n\n    // \n    if (!enableDrillDown && node.children) {\n      return null;\n    }\n\n    // path (x, y), ( depth)\n    const curPath = node.ancestors().map((n) => ({\n      data: n.data,\n      height: n.height,\n      value: n.value,\n    }));\n    // data.path) \n    const path = enableDrillDown && isArray(data.path) ? curPath.concat(data.path.slice(1)) : curPath;\n\n    const nodeInfo = Object.assign({}, node.data, {\n      x: node.x,\n      y: node.y,\n      depth: node.depth,\n      value: node.value,\n      path,\n      ...node,\n    });\n    if (!node.data[colorField] && node.parent) {\n      const ancestorNode = node.ancestors().find((n) => n.data[colorField]);\n      nodeInfo[colorField] = ancestorNode?.data[colorField];\n    } else {\n      nodeInfo[colorField] = node.data[colorField];\n    }\n\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, enableDrillDown };\n    result.push(nodeInfo);\n  });\n  return result;\n}\n","import { get } from '@antv/util';\nimport { animation, annotation, interaction as commonInteraction, legend, theme, tooltip } from '../../adaptor/common';\nimport { polygon as basePolygon } from '../../adaptor/geometries/polygon';\nimport { pattern } from '../../adaptor/pattern';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { TreemapOptions } from './types';\nimport { enableDrillInteraction, findInteraction, transformData } from './utils';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { options } = params;\n  const { colorField } = options;\n\n  return deepAssign(\n    {\n      options: {\n        rawFields: ['value'],\n        tooltip: {\n          fields: ['name', 'value', colorField, 'path'],\n          formatter: (data) => {\n            return {\n              name: data.name,\n              value: data.value,\n            };\n          },\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { color, colorField, rectStyle, hierarchyConfig, rawFields } = options;\n\n  const data = transformData({\n    data: options.data,\n    colorField: options.colorField,\n    enableDrillDown: enableDrillInteraction(options),\n    hierarchyConfig,\n  });\n\n  chart.data(data);\n\n  // geometry\n  basePolygon(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: rawFields,\n        polygon: {\n          color,\n          style: rectStyle,\n        },\n      },\n    })\n  );\n\n  // \n  chart.coordinate().reflect('y');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: TreemapOptions): TreemapOptions {\n  const { drilldown, interactions = [] } = options;\n\n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          //   API\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { interactions, drilldown } = options;\n\n  commonInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  //  view-zoom\n  const viewZoomInteraction = findInteraction(interactions, 'view-zoom');\n\n  if (viewZoomInteraction) {\n    //  interaction \n    if (viewZoomInteraction.enable !== false) {\n      chart.getCanvas().on('mousewheel', (ev) => {\n        ev.preventDefault();\n      });\n    } else {\n      //  viewZoomInteraction \n      chart.getCanvas().off('mousewheel');\n    }\n  }\n\n  // \n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TreemapOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    pattern('rectStyle'),\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","export const DEFAULT_OPTIONS = {\n  //  name \n  colorField: 'name',\n  rectStyle: {\n    lineWidth: 1,\n    stroke: '#fff',\n  },\n  hierarchyConfig: {\n    tile: 'treemapSquarify' as const,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: {\n    enabled: false,\n    breadCrumb: {\n      position: 'bottom-left' as const,\n      rootText: '',\n      dividerText: '/',\n      textStyle: {\n        fontSize: 12,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        cursor: 'pointer',\n      },\n      activeTextStyle: {\n        fill: '#87B5FF',\n      },\n    },\n  },\n};\n","import { VennOptions } from './types';\n\n// \nexport const ID_FIELD = 'id';\nexport const PATH_FIELD = 'path';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<VennOptions> = {\n  appendPadding: [10, 0, 20, 0],\n  blendMode: 'multiply',\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['id', 'size'],\n    formatter: (datum) => {\n      return { name: datum.id, value: datum.size };\n    },\n  },\n  legend: { position: 'top-left' },\n  label: {\n    style: {\n      textAlign: 'center',\n      fill: '#fff',\n    },\n  },\n  //  \n  interactions: [{ type: 'legend-filter', enable: false }],\n  state: {\n    active: {\n      style: {\n        stroke: '#000',\n      },\n    },\n    selected: {\n      style: {\n        stroke: '#000',\n        lineWidth: 2,\n      },\n    },\n    inactive: {\n      style: {\n        fillOpacity: 0.3,\n        strokeOpacity: 0.3,\n      },\n    },\n  },\n  // \n  defaultInteractions: ['tooltip', 'venn-legend-active'],\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\nimport { TreemapOptions } from './types';\nimport { enableInteraction, resetDrillDown, transformData } from './utils';\n\nexport type { TreemapOptions };\n\nexport class Treemap extends Plot<TreemapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<TreemapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'treemap';\n\n  /**\n   * changeData\n   */\n  public changeData(data) {\n    const { colorField, interactions, hierarchyConfig } = this.options;\n    this.updateOption({ data });\n    const transData = transformData({\n      data,\n      colorField,\n      enableDrillDown: enableInteraction(interactions, 'treemap-drill-down'),\n      hierarchyConfig,\n    });\n    this.chart.changeData(transData);\n\n    resetDrillDown(this.chart);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Treemap.getDefaultOptions();\n  }\n\n  protected getSchemaAdaptor(): Adaptor<TreemapOptions> {\n    return adaptor;\n  }\n}\n","import { View } from '@antv/g2';\n\n/** tofront:   */\nexport function placeElementsOrdered(view: View) {\n  if (!view) {\n    return;\n  }\n  const elements = view.geometries[0].elements;\n  elements.forEach((elem) => {\n    elem.shape.toFront();\n  });\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementActiveAction: any = getActionClass('element-active');\n\nexport class VennElementActive extends ElementActiveAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public active() {\n    super.active();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementHighlightAction: any = getActionClass('element-highlight');\n\nexport class VennElementHighlight extends ElementHighlightAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public highlight() {\n    super.highlight();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public clear() {\n    super.clear();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementSelectedAction: any = getActionClass('element-selected');\nconst ElementSingleSelectedAction: any = getActionClass('element-single-selected');\n\n/**\n *  \n */\nexport class VennElementSelected extends ElementSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n\n/**\n *  \n */\nexport class VennElementSingleSelected extends ElementSingleSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { VennElementActive } from './actions/active';\nimport { VennElementHighlight } from './actions/highlight';\nimport { VennElementSelected, VennElementSingleSelected } from './actions/selected';\n\n/** ==================  aciton ================== */\n\nregisterAction('venn-element-active', VennElementActive as any);\nregisterAction('venn-element-highlight', VennElementHighlight as any);\nregisterAction('venn-element-selected', VennElementSelected as any);\nregisterAction('venn-element-single-selected', VennElementSingleSelected as any);\n\n/** ==================  ================== */\n\n// ========= Active  =========\nregisterInteraction('venn-element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-active:reset' }],\n});\n\n// =========   =========\nregisterInteraction('venn-element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-highlight:reset' }],\n});\n\n// ========= Selected  =========\n//  venn element \nregisterInteraction('venn-element-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-selected:reset'] }],\n});\n//  venn element \nregisterInteraction('venn-element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-single-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-single-selected:reset'] }],\n});\n\n// =========  =========\n// legend hoverelement active\nregisterInteraction('venn-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'venn-element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'venn-element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('venn-legend-highlight', {\n  start: [\n    {\n      trigger: 'legend-item:mouseenter',\n      action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],\n    },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'] }],\n});\n","import { GeometryLabel, registerGeometryLabel } from '@antv/g2';\n\n// Step 1\n//  Label \n//  GeometryLabel \nclass VennLabel extends GeometryLabel {\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg, mappingData, index: number) {\n    const { x, y } = labelCfg.data;\n    const { offsetX, offsetY } = labelCfg.customLabelInfo;\n    return {\n      content: labelCfg.content[index],\n      x: x + offsetX,\n      y: y + offsetY,\n    };\n  }\n}\n\n// Step 2:  CustomLabel\nregisterGeometryLabel('venn', VennLabel);\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { Datum, Point } from '../../types';\nimport { deepAssign } from '../../utils';\nimport { PATH_FIELD } from './constant';\nimport { CustomInfo } from './types';\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill \n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n","import colorUtil from '@antv/color-util';\n/*\n * interpolates between a set of colors uzing a bezier spline\n * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n */\n\nconst each =\n  (f) =>\n  (c0: number[], c1: number[]): number[] => {\n    const out = [];\n    out[0] = f(c0[0], c1[0]);\n    out[1] = f(c0[1], c1[1]);\n    out[2] = f(c0[2], c1[2]);\n    return out;\n  };\n\n/**\n * \n */\nconst blendObject = {\n  normal: (a: number) => a,\n  multiply: (a: number, b: number) => (a * b) / 255,\n  screen: (a: number, b: number) => 255 * (1 - (1 - a / 255) * (1 - b / 255)),\n  overlay: (a: number, b: number) => (b < 128 ? (2 * a * b) / 255 : 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255))),\n  darken: (a: number, b: number) => (a > b ? b : a),\n  lighten: (a: number, b: number) => (a > b ? a : b),\n  dodge: (a: number, b: number) => {\n    if (a === 255) return 255;\n    a = (255 * (b / 255)) / (1 - a / 255);\n    return a > 255 ? 255 : a;\n  },\n  burn: (a: number, b: number) => {\n    //  w3c  0 \n    if (b === 255) return 255;\n    else if (a === 0) return 0;\n    else return 255 * (1 - Math.min(1, (1 - b / 255) / (a / 255)));\n  },\n};\n\n/**\n * \n */\nexport const innerBlend = (mode: string) => {\n  if (!blendObject[mode]) {\n    throw new Error('unknown blend mode ' + mode);\n  }\n  return blendObject[mode];\n};\n\n/**\n * \n * https://www.w3.org/TR/compositing/#blending\n * @param c0\n * @param c1\n * @param mode \n * @return rbga\n */\nexport function blend(c0: string, c1: string, mode = 'normal') {\n  // blendRgbArr:  blend color: [r, g, b]\n  const blendRgbArr = each(innerBlend(mode))(colorToArr(c0), colorToArr(c1));\n\n  const [r0, g0, b0, a0] = colorToArr(c0);\n  const [r1, g1, b1, a1] = colorToArr(c1);\n\n  const a = Number((a0 + a1 * (1 - a0)).toFixed(2));\n\n  const r = Math.round(\n    ((a0 * (1 - a1) * (r0 / 255) + a0 * a1 * (blendRgbArr[0] / 255) + (1 - a0) * a1 * (r1 / 255)) / a) * 255\n  );\n  const g = Math.round(\n    ((a0 * (1 - a1) * (g0 / 255) + a0 * a1 * (blendRgbArr[1] / 255) + (1 - a0) * a1 * (g1 / 255)) / a) * 255\n  );\n  const b = Math.round(\n    ((a0 * (1 - a1) * (b0 / 255) + a0 * a1 * (blendRgbArr[2] / 255) + (1 - a0) * a1 * (b1 / 255)) / a) * 255\n  );\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n *  [r, g, b, a]\n * https://www.w3.org/TR/compositing/#blending\n * @param c color\n * @return [r, g, b, a]\n */\nexport function colorToArr(c: string): number[] {\n  const color = c.replace('/s+/g', ''); // \n  let rgbaArr: any[];\n\n  // 'red' -> [r, g, b, 1]\n  if (typeof color === 'string' && !color.startsWith('rgba') && !color.startsWith('#')) {\n    return (rgbaArr = colorUtil.rgb2arr(colorUtil.toRGB(color)).concat([1]));\n  }\n\n  // rgba(255, 200, 125, 0.5) -> [r, g, b, a]\n  if (color.startsWith('rgba')) rgbaArr = color.replace('rgba(', '').replace(')', '').split(',');\n\n  // '#fff000' -> [r, g, b, 1]\n  if (color.startsWith('#')) rgbaArr = colorUtil.rgb2arr(color).concat([1]); //  16 6  1\n\n  // [r, g, b, a] \n  return rgbaArr.map((item, index) => (index === 3 ? Number(item) : item | 0));\n}\n","const SMALL = 1e-10;\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nexport function intersectionArea(circles, stats?: any) {\n  // get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0,\n    polygonArea = 0,\n    i;\n  const arcs = [];\n  // if we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]],\n            a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n            a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = distance(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a),\n          });\n\n          // clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // no intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (i = 0; i < circles.length; ++i) {\n      if (distance(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2,\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nexport function containedInCircles(point, circles) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p: any = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n  return r * r * Math.acos(1 - width / r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** euclidean distance between two points */\nexport function distance(p1, p2) {\n  return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n  const d = distance(p1, p2),\n    r1 = p1.radius,\n    r2 = p2.radius;\n\n  // if to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n    h = Math.sqrt(r1 * r1 - a * a),\n    x0 = p1.x + (a * (p2.x - p1.x)) / d,\n    y0 = p1.y + (a * (p2.y - p1.y)) / d,\n    rx = -(p2.y - p1.y) * (h / d),\n    ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry },\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n","import { nelderMead } from 'fmin';\nimport { distance, getCenter, intersectionArea } from './circleintersection';\n\nfunction circleMargin(current, interior, exterior) {\n  let margin = interior[0].radius - distance(interior[0], current),\n    i,\n    m;\n  for (i = 1; i < interior.length; ++i) {\n    m = interior[i].radius - distance(interior[i], current);\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    m = distance(exterior[i], current) - exterior[i].radius;\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n  return margin;\n}\n\n// compute the center of some circles by maximizing the margin of\n// the center point relative to the circles (interior) after subtracting\n// nearby circles (exterior)\nexport function computeTextCentre(interior, exterior) {\n  // get an initial estimate by sampling around the interior circles\n  // and taking the point with the biggest margin\n  const points = [];\n  let i;\n  for (i = 0; i < interior.length; ++i) {\n    const c = interior[i];\n    points.push({ x: c.x, y: c.y });\n    points.push({ x: c.x + c.radius / 2, y: c.y });\n    points.push({ x: c.x - c.radius / 2, y: c.y });\n    points.push({ x: c.x, y: c.y + c.radius / 2 });\n    points.push({ x: c.x, y: c.y - c.radius / 2 });\n  }\n  let initial = points[0],\n    margin = circleMargin(points[0], interior, exterior);\n  for (i = 1; i < points.length; ++i) {\n    const m = circleMargin(points[i], interior, exterior);\n    if (m >= margin) {\n      initial = points[i];\n      margin = m;\n    }\n  }\n\n  // maximize the margin numerically\n  const solution = nelderMead(\n    function (p) {\n      return -1 * circleMargin({ x: p[0], y: p[1] }, interior, exterior);\n    },\n    [initial.x, initial.y],\n    { maxIterations: 500, minErrorDelta: 1e-10 }\n  ).x;\n  let ret: any = { x: solution[0], y: solution[1] };\n\n  // check solution, fallback as needed (happens if fully overlapped\n  // etc)\n  let valid = true;\n  for (i = 0; i < interior.length; ++i) {\n    if (distance(ret, interior[i]) > interior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    if (distance(ret, exterior[i]) < exterior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  if (!valid) {\n    if (interior.length == 1) {\n      ret = { x: interior[0].x, y: interior[0].y };\n    } else {\n      const areaStats: any = {};\n      intersectionArea(interior, areaStats);\n\n      if (areaStats.arcs.length === 0) {\n        ret = { x: 0, y: -1000, disjoint: true };\n      } else if (areaStats.arcs.length == 1) {\n        ret = { x: areaStats.arcs[0].circle.x, y: areaStats.arcs[0].circle.y };\n      } else if (exterior.length) {\n        // try again without other circles\n        ret = computeTextCentre(interior, []);\n      } else {\n        // take average of all the points in the intersection\n        // polygon. this should basically never happen\n        // and has some issues:\n        // https://github.com/benfred/venn.js/issues/48#issuecomment-146069777\n        ret = getCenter(\n          areaStats.arcs.map(function (a) {\n            return a.p1;\n          })\n        );\n      }\n    }\n  }\n\n  return ret;\n}\n\n// given a dictionary of {setid : circle}, returns\n// a dictionary of setid to list of circles that completely overlap it\nfunction getOverlappingCircles(circles) {\n  const ret = {},\n    circleids = [];\n  for (const circleid in circles) {\n    circleids.push(circleid);\n    ret[circleid] = [];\n  }\n  for (let i = 0; i < circleids.length; i++) {\n    const a = circles[circleids[i]];\n    for (let j = i + 1; j < circleids.length; ++j) {\n      const b = circles[circleids[j]],\n        d = distance(a, b);\n\n      if (d + b.radius <= a.radius + 1e-10) {\n        ret[circleids[j]].push(circleids[i]);\n      } else if (d + a.radius <= b.radius + 1e-10) {\n        ret[circleids[i]].push(circleids[j]);\n      }\n    }\n  }\n  return ret;\n}\n\nexport function computeTextCentres(circles, areas) {\n  const ret = {},\n    overlapped = getOverlappingCircles(circles);\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i].sets,\n      areaids = {},\n      exclude = {};\n    for (let j = 0; j < area.length; ++j) {\n      areaids[area[j]] = true;\n      const overlaps = overlapped[area[j]];\n      // keep track of any circles that overlap this area,\n      // and don't consider for purposes of computing the text\n      // centre\n      for (let k = 0; k < overlaps.length; ++k) {\n        exclude[overlaps[k]] = true;\n      }\n    }\n\n    const interior = [],\n      exterior = [];\n    for (const setid in circles) {\n      if (setid in areaids) {\n        interior.push(circles[setid]);\n      } else if (!(setid in exclude)) {\n        exterior.push(circles[setid]);\n      }\n    }\n    const centre = computeTextCentre(interior, exterior);\n    ret[area] = centre;\n    if (centre.disjoint && areas[i].size > 0) {\n      console.log('WARNING: area ' + area + ' not represented on screen');\n    }\n  }\n  return ret;\n}\n\n/**\n * (x, y)  r  path\n * @param x  x\n * @param y  y\n * @param r \n * @returns  path\n */\nexport function circlePath(x, y, r) {\n  const ret = [];\n  // ret.push('\\nM', x, y);\n  // ret.push('\\nm', -r, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n  const x0 = x - r;\n  const y0 = y;\n  ret.push('M', x0, y0);\n  ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n  ret.push('A', r, r, 0, 1, 0, x0, y0);\n\n  return ret.join(' ');\n}\n\n// inverse of the circlePath function, returns a circle object from an svg path\nexport function circleFromPath(path) {\n  const tokens = path.split(' ');\n  return { x: parseFloat(tokens[1]), y: parseFloat(tokens[2]), radius: -parseFloat(tokens[4]) };\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n  const stats: any = {};\n  intersectionArea(circles, stats);\n  const arcs = stats.arcs;\n\n  if (arcs.length === 0) {\n    return 'M 0 0';\n  } else if (arcs.length == 1) {\n    const circle = arcs[0].circle;\n    return circlePath(circle.x, circle.y, circle.radius);\n  } else {\n    // draw path around arcs\n    const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n    for (let i = 0; i < arcs.length; ++i) {\n      const arc = arcs[i],\n        r = arc.circle.radius,\n        wide = arc.width > r;\n      ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n    }\n    return ret.join(' ');\n  }\n}\n","import { bisect, conjugateGradient, nelderMead, norm2, scale, zeros, zerosM } from 'fmin';\nimport { circleCircleIntersection, circleOverlap, distance, intersectionArea } from './circleintersection';\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters?: any) {\n  parameters = parameters || {};\n  parameters.maxIterations = parameters.maxIterations || 500;\n  const initialLayout = parameters.initialLayout || bestInitialLayout;\n  const loss = parameters.lossFunction || lossFunction;\n\n  // add in missing pairwise areas as having 0 size\n  areas = addMissingAreas(areas);\n\n  // initial layout is done greedily\n  const circles = initialLayout(areas, parameters);\n\n  // transform x/y coordinates to a vector to optimize\n  const initial = [],\n    setids = [];\n  let setid;\n  for (setid in circles) {\n    // eslint-disable-next-line\n    if (circles.hasOwnProperty(setid)) {\n      initial.push(circles[setid].x);\n      initial.push(circles[setid].y);\n      setids.push(setid);\n    }\n  }\n\n  // optimize initial layout from our loss function\n  const solution = nelderMead(\n    function (values) {\n      const current = {};\n      for (let i = 0; i < setids.length; ++i) {\n        const setid = setids[i];\n        current[setid] = {\n          x: values[2 * i],\n          y: values[2 * i + 1],\n          radius: circles[setid].radius,\n          // size : circles[setid].size\n        };\n      }\n      return loss(current, areas);\n    },\n    initial,\n    parameters\n  );\n\n  // transform solution vector back to x/y points\n  const positions = solution.x;\n  for (let i = 0; i < setids.length; ++i) {\n    setid = setids[i];\n    circles[setid].x = positions[2 * i];\n    circles[setid].y = positions[2 * i + 1];\n  }\n\n  return circles;\n}\n\nconst SMALL = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n  // handle complete overlapped circles\n  if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n    return Math.abs(r1 - r2);\n  }\n\n  return bisect(\n    function (distance) {\n      return circleOverlap(r1, r2, distance) - overlap;\n    },\n    0,\n    r1 + r2\n  );\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n  areas = areas.slice();\n\n  // two circle intersections that aren't defined\n  const ids: number[] = [],\n    pairs: any = {};\n  let i, j, a, b;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      ids.push(area.sets[0]);\n    } else if (area.sets.length == 2) {\n      a = area.sets[0];\n      b = area.sets[1];\n      // @ts-ignore\n      pairs[[a, b]] = true;\n      // @ts-ignore\n      pairs[[b, a]] = true;\n    }\n  }\n  ids.sort((a, b) => {\n    return a > b ? 1 : -1;\n  });\n\n  for (i = 0; i < ids.length; ++i) {\n    a = ids[i];\n    for (j = i + 1; j < ids.length; ++j) {\n      b = ids[j];\n      // @ts-ignore\n      if (!([a, b] in pairs)) {\n        areas.push({ sets: [a, b], size: 0 });\n      }\n    }\n  }\n  return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n  // initialize an empty distance matrix between all the points\n  const distances = zerosM(sets.length, sets.length),\n    constraints = zerosM(sets.length, sets.length);\n\n  // compute required distances between all the sets such that\n  // the areas match\n  areas\n    .filter(function (x) {\n      return x.sets.length == 2;\n    })\n    .map(function (current) {\n      const left = setids[current.sets[0]],\n        right = setids[current.sets[1]],\n        r1 = Math.sqrt(sets[left].size / Math.PI),\n        r2 = Math.sqrt(sets[right].size / Math.PI),\n        distance = distanceFromIntersectArea(r1, r2, current.size);\n\n      distances[left][right] = distances[right][left] = distance;\n\n      // also update constraints to indicate if its a subset or disjoint\n      // relationship\n      let c = 0;\n      if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n        c = 1;\n      } else if (current.size <= 1e-10) {\n        c = -1;\n      }\n      constraints[left][right] = constraints[right][left] = c;\n    });\n\n  return { distances: distances, constraints: constraints };\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n  let loss = 0,\n    i;\n  for (i = 0; i < fxprime.length; ++i) {\n    fxprime[i] = 0;\n  }\n\n  for (i = 0; i < distances.length; ++i) {\n    const xi = x[2 * i],\n      yi = x[2 * i + 1];\n    for (let j = i + 1; j < distances.length; ++j) {\n      const xj = x[2 * j],\n        yj = x[2 * j + 1],\n        dij = distances[i][j],\n        constraint = constraints[i][j];\n\n      const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n        distance = Math.sqrt(squaredDistance),\n        delta = squaredDistance - dij * dij;\n\n      if ((constraint > 0 && distance <= dij) || (constraint < 0 && distance >= dij)) {\n        continue;\n      }\n\n      loss += 2 * delta * delta;\n\n      fxprime[2 * i] += 4 * delta * (xi - xj);\n      fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n\n      fxprime[2 * j] += 4 * delta * (xj - xi);\n      fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n    }\n  }\n  return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n  let initial = greedyLayout(areas, params);\n  const loss = params.lossFunction || lossFunction;\n\n  // greedylayout is sufficient for all 2/3 circle cases. try out\n  // constrained MDS for higher order problems, take its output\n  // if it outperforms. (greedy is aesthetically better on 2/3 circles\n  // since it axis aligns)\n  if (areas.length >= 8) {\n    const constrained = constrainedMDSLayout(areas, params),\n      constrainedLoss = loss(constrained, areas),\n      greedyLoss = loss(initial, areas);\n\n    if (constrainedLoss + 1e-8 < greedyLoss) {\n      initial = constrained;\n    }\n  }\n  return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n  params = params || {};\n  const restarts = params.restarts || 10;\n\n  // bidirectionally map sets to a rowid  (so we can create a matrix)\n  const sets = [],\n    setids = {};\n  let i;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      setids[area.sets[0]] = sets.length;\n      sets.push(area);\n    }\n  }\n\n  const matrices = getDistanceMatrices(areas, sets, setids);\n  let distances = matrices.distances;\n  const constraints = matrices.constraints;\n\n  // keep distances bounded, things get messed up otherwise.\n  // TODO: proper preconditioner?\n  const norm = norm2(distances.map(norm2)) / distances.length;\n  distances = distances.map(function (row) {\n    return row.map(function (value) {\n      return value / norm;\n    });\n  });\n\n  const obj = function (x, fxprime) {\n    return constrainedMDSGradient(x, fxprime, distances, constraints);\n  };\n\n  let best, current;\n  for (i = 0; i < restarts; ++i) {\n    const initial = zeros(distances.length * 2).map(Math.random);\n\n    current = conjugateGradient(obj, initial, params);\n    if (!best || current.fx < best.fx) {\n      best = current;\n    }\n  }\n  const positions = best.x;\n\n  // translate rows back to (x,y,radius) coordinates\n  const circles = {};\n  for (i = 0; i < sets.length; ++i) {\n    const set = sets[i];\n    circles[set.sets[0]] = {\n      x: positions[2 * i] * norm,\n      y: positions[2 * i + 1] * norm,\n      radius: Math.sqrt(set.size / Math.PI),\n    };\n  }\n\n  if (params.history) {\n    for (i = 0; i < params.history.length; ++i) {\n      scale(params.history[i].x, norm);\n    }\n  }\n  return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n  const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n  // define a circle for each set\n  const circles = {},\n    setOverlaps = {};\n  let set;\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      set = area.sets[0];\n      circles[set] = {\n        x: 1e10,\n        y: 1e10,\n        // rowid: circles.length, // fix to ->\n        rowid: Object.keys(circles).length,\n        size: area.size,\n        radius: Math.sqrt(area.size / Math.PI),\n      };\n      setOverlaps[set] = [];\n    }\n  }\n  areas = areas.filter(function (a) {\n    return a.sets.length == 2;\n  });\n\n  // map each set to a list of all the other sets that overlap it\n  for (let i = 0; i < areas.length; ++i) {\n    const current = areas[i];\n    // eslint-disable-next-line\n    let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n    const left = current.sets[0],\n      right = current.sets[1];\n\n    // completely overlapped circles shouldn't be positioned early here\n    if (current.size + SMALL >= Math.min(circles[left].size, circles[right].size)) {\n      weight = 0;\n    }\n\n    setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n    setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n  }\n\n  // get list of most overlapped sets\n  const mostOverlapped = [];\n  for (set in setOverlaps) {\n    // eslint-disable-next-line\n    if (setOverlaps.hasOwnProperty(set)) {\n      let size = 0;\n      for (let i = 0; i < setOverlaps[set].length; ++i) {\n        size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n      }\n\n      mostOverlapped.push({ set: set, size: size });\n    }\n  }\n\n  // sort by size desc\n  function sortOrder(a, b) {\n    return b.size - a.size;\n  }\n  mostOverlapped.sort(sortOrder);\n\n  // keep track of what sets have been laid out\n  const positioned = {};\n  function isPositioned(element) {\n    return element.set in positioned;\n  }\n\n  // adds a point to the output\n  function positionSet(point, index) {\n    circles[index].x = point.x;\n    circles[index].y = point.y;\n    positioned[index] = true;\n  }\n\n  // add most overlapped set at (0,0)\n  positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n\n  // get distances between all points. TODO, necessary?\n  // answer: probably not\n  // var distances = venn.getDistanceMatrices(circles, areas).distances;\n  for (let i = 1; i < mostOverlapped.length; ++i) {\n    const setIndex = mostOverlapped[i].set,\n      overlap = setOverlaps[setIndex].filter(isPositioned);\n    set = circles[setIndex];\n    overlap.sort(sortOrder);\n\n    if (overlap.length === 0) {\n      // this shouldn't happen anymore with addMissingAreas\n      throw 'ERROR: missing pairwise overlap information';\n    }\n\n    const points = [];\n    for (let j = 0; j < overlap.length; ++j) {\n      // get appropriate distance from most overlapped already added set\n      const p1 = circles[overlap[j].set],\n        d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n\n      // sample positions at 90 degrees for maximum aesthetics\n      points.push({ x: p1.x + d1, y: p1.y });\n      points.push({ x: p1.x - d1, y: p1.y });\n      points.push({ y: p1.y + d1, x: p1.x });\n      points.push({ y: p1.y - d1, x: p1.x });\n\n      // if we have at least 2 overlaps, then figure out where the\n      // set should be positioned analytically and try those too\n      for (let k = j + 1; k < overlap.length; ++k) {\n        const p2 = circles[overlap[k].set],\n          d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n\n        const extraPoints = circleCircleIntersection(\n          { x: p1.x, y: p1.y, radius: d1 },\n          { x: p2.x, y: p2.y, radius: d2 }\n        );\n\n        for (let l = 0; l < extraPoints.length; ++l) {\n          points.push(extraPoints[l]);\n        }\n      }\n    }\n\n    // we have some candidate positions for the set, examine loss\n    // at each position to figure out where to put it at\n    let bestLoss = 1e50,\n      bestPoint = points[0];\n    for (let j = 0; j < points.length; ++j) {\n      circles[setIndex].x = points[j].x;\n      circles[setIndex].y = points[j].y;\n      const localLoss = loss(circles, areas);\n      if (localLoss < bestLoss) {\n        bestLoss = localLoss;\n        bestPoint = points[j];\n      }\n    }\n\n    positionSet(bestPoint, setIndex);\n  }\n\n  return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n  let output = 0;\n\n  function getCircles(indices) {\n    return indices.map(function (i) {\n      return sets[i];\n    });\n  }\n\n  for (let i = 0; i < overlaps.length; ++i) {\n    const area = overlaps[i];\n    let overlap;\n    if (area.sets.length == 1) {\n      continue;\n    } else if (area.sets.length == 2) {\n      const left = sets[area.sets[0]],\n        right = sets[area.sets[1]];\n      overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n    } else {\n      overlap = intersectionArea(getCircles(area.sets));\n    }\n\n    // eslint-disable-next-line\n    const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n    output += weight * (overlap - area.size) * (overlap - area.size);\n  }\n\n  return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n  if (orientationOrder === null) {\n    circles.sort(function (a, b) {\n      return b.radius - a.radius;\n    });\n  } else {\n    circles.sort(orientationOrder);\n  }\n\n  let i;\n  // shift circles so largest circle is at (0, 0)\n  if (circles.length > 0) {\n    const largestX = circles[0].x,\n      largestY = circles[0].y;\n\n    for (i = 0; i < circles.length; ++i) {\n      circles[i].x -= largestX;\n      circles[i].y -= largestY;\n    }\n  }\n\n  if (circles.length == 2) {\n    // if the second circle is a subset of the first, arrange so that\n    // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n    const dist = distance(circles[0], circles[1]);\n    if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n      circles[1].x = circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n      circles[1].y = circles[0].y;\n    }\n  }\n\n  // rotate circles so that second largest is at an angle of 'orientation'\n  // from largest\n  if (circles.length > 1) {\n    const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n    let x, y;\n    const c = Math.cos(rotation),\n      s = Math.sin(rotation);\n    for (i = 0; i < circles.length; ++i) {\n      x = circles[i].x;\n      y = circles[i].y;\n      circles[i].x = c * x - s * y;\n      circles[i].y = s * x + c * y;\n    }\n  }\n\n  // mirror solution if third solution is above plane specified by\n  // first two circles\n  if (circles.length > 2) {\n    let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    if (angle > Math.PI) {\n      const slope = circles[1].y / (1e-10 + circles[1].x);\n      for (i = 0; i < circles.length; ++i) {\n        const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n        circles[i].x = 2 * d - circles[i].x;\n        circles[i].y = 2 * d * slope - circles[i].y;\n      }\n    }\n  }\n}\n\nexport function disjointCluster(circles) {\n  // union-find clustering to get disjoint sets\n  circles.map(function (circle) {\n    circle.parent = circle;\n  });\n\n  // path compression step in union find\n  function find(circle) {\n    if (circle.parent !== circle) {\n      circle.parent = find(circle.parent);\n    }\n    return circle.parent;\n  }\n\n  function union(x, y) {\n    const xRoot = find(x),\n      yRoot = find(y);\n    xRoot.parent = yRoot;\n  }\n\n  // get the union of all overlapping sets\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const maxDistance = circles[i].radius + circles[j].radius;\n      if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n        union(circles[j], circles[i]);\n      }\n    }\n  }\n\n  // find all the disjoint clusters and group them together\n  const disjointClusters = {};\n  let setid;\n  for (let i = 0; i < circles.length; ++i) {\n    setid = find(circles[i]).parent.setid;\n    if (!(setid in disjointClusters)) {\n      disjointClusters[setid] = [];\n    }\n    disjointClusters[setid].push(circles[i]);\n  }\n\n  // cleanup bookkeeping\n  circles.map(function (circle) {\n    delete circle.parent;\n  });\n\n  // return in more usable form\n  const ret = [];\n  for (setid in disjointClusters) {\n    // eslint-disable-next-line\n    if (disjointClusters.hasOwnProperty(setid)) {\n      ret.push(disjointClusters[setid]);\n    }\n  }\n  return ret;\n}\n\nfunction getBoundingBox(circles) {\n  const minMax = function (d) {\n    const hi = Math.max.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] + c.radius;\n        })\n      ),\n      lo = Math.min.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] - c.radius;\n        })\n      );\n    return { max: hi, min: lo };\n  };\n\n  return { xRange: minMax('x'), yRange: minMax('y') };\n}\n\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n  if (orientation === null) {\n    orientation = Math.PI / 2;\n  }\n\n  // work with a list instead of a dictionary, and take a copy so we\n  // don't mutate input\n  let circles = [],\n    i,\n    setid;\n  for (setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      const previous = solution[setid];\n      circles.push({ x: previous.x, y: previous.y, radius: previous.radius, setid: setid });\n    }\n  }\n\n  // get all the disjoint clusters\n  const clusters = disjointCluster(circles);\n\n  // orientate all disjoint sets, get sizes\n  for (i = 0; i < clusters.length; ++i) {\n    orientateCircles(clusters[i], orientation, orientationOrder);\n    const bounds = getBoundingBox(clusters[i]);\n    clusters[i].size = (bounds.xRange.max - bounds.xRange.min) * (bounds.yRange.max - bounds.yRange.min);\n    clusters[i].bounds = bounds;\n  }\n  clusters.sort(function (a, b) {\n    return b.size - a.size;\n  });\n\n  // orientate the largest at 0,0, and get the bounds\n  circles = clusters[0];\n  // @ts-ignore fixme \n  let returnBounds = circles.bounds;\n\n  const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n\n  function addCluster(cluster, right, bottom) {\n    if (!cluster) return;\n\n    const bounds = cluster.bounds;\n    let xOffset, yOffset, centreing;\n\n    if (right) {\n      xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n    } else {\n      xOffset = returnBounds.xRange.max - bounds.xRange.max;\n      centreing = (bounds.xRange.max - bounds.xRange.min) / 2 - (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n      if (centreing < 0) xOffset += centreing;\n    }\n\n    if (bottom) {\n      yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n    } else {\n      yOffset = returnBounds.yRange.max - bounds.yRange.max;\n      centreing = (bounds.yRange.max - bounds.yRange.min) / 2 - (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n      if (centreing < 0) yOffset += centreing;\n    }\n\n    for (let j = 0; j < cluster.length; ++j) {\n      cluster[j].x += xOffset;\n      cluster[j].y += yOffset;\n      circles.push(cluster[j]);\n    }\n  }\n\n  let index = 1;\n  while (index < clusters.length) {\n    addCluster(clusters[index], true, false);\n    addCluster(clusters[index + 1], false, true);\n    addCluster(clusters[index + 2], true, true);\n    index += 3;\n\n    // have one cluster (in top left). lay out next three relative\n    // to it in a grid\n    returnBounds = getBoundingBox(circles);\n  }\n\n  // convert back to solution form\n  const ret = {};\n  for (i = 0; i < circles.length; ++i) {\n    ret[circles[i].setid] = circles[i];\n  }\n  return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n  const circles = [],\n    setids = [];\n  for (const setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      setids.push(setid);\n      circles.push(solution[setid]);\n    }\n  }\n\n  width -= 2 * padding;\n  height -= 2 * padding;\n\n  const bounds = getBoundingBox(circles),\n    xRange = bounds.xRange,\n    yRange = bounds.yRange;\n\n  if (xRange.max == xRange.min || yRange.max == yRange.min) {\n    console.log('not scaling solution: zero size detected');\n    return solution;\n  }\n\n  const xScaling = width / (xRange.max - xRange.min),\n    yScaling = height / (yRange.max - yRange.min),\n    scaling = Math.min(yScaling, xScaling),\n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2,\n    yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n  const scaled = {};\n  for (let i = 0; i < circles.length; ++i) {\n    const circle = circles[i];\n    scaled[setids[i]] = {\n      radius: scaling * circle.radius,\n      x: padding + xOffset + (circle.x - xRange.min) * scaling,\n      y: padding + yOffset + (circle.y - yRange.min) * scaling,\n    };\n  }\n\n  return scaled;\n}\n","import { assign, memoize } from '@antv/util';\nimport { LEVEL, log } from '../../utils';\nimport { blend } from '../../utils/color/blend';\nimport { ID_FIELD, PATH_FIELD } from './constant';\nimport { computeTextCentres, intersectionAreaPath } from './layout/diagram';\nimport { scaleSolution, venn } from './layout/layout';\nimport { VennData, VennOptions } from './types';\n\ntype ColorMapFunction = (\n  colorPalette: string[],\n  data: VennData,\n  blendMode: VennOptions['blendMode'],\n  setsField: VennOptions['setsField']\n) => Map<string, string>;\n\n/**\n *  \n * @usage colorMap.get(id) => color\n *\n * @returns Map<string, string>\n */\nexport const getColorMap = memoize(\n  ((colorPalette, data, blendMode, setsField) => {\n    const colorMap = new Map<string /** id */, string /** color */>();\n    const colorPaletteLen = colorPalette.length;\n    data.forEach((d, idx) => {\n      if (d[setsField].length === 1) {\n        colorMap.set(d[ID_FIELD], colorPalette[(idx + colorPaletteLen) % colorPaletteLen]);\n      } else {\n        /**   */\n        const colorArr = d[setsField].map((id) => colorMap.get(id));\n        colorMap.set(\n          d[ID_FIELD],\n          colorArr.slice(1).reduce((a, b) => blend(a, b, blendMode), colorArr[0])\n        );\n      }\n    });\n\n    return colorMap;\n  }) as ColorMapFunction,\n  (...params) => JSON.stringify(params)\n) as ColorMapFunction;\n\n/**\n * \n *\n * @param data\n * @param width\n * @param height\n * @param padding\n * @returns \n */\nexport function layoutVennData(options: VennOptions, width: number, height: number, padding: number = 0): VennData {\n  const { data, setsField, sizeField } = options;\n\n  // \n  if (data.length === 0) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    return [];\n  }\n\n  const vennData: VennData = data.map((d) => ({\n    ...d,\n    sets: d[setsField] || [],\n    size: d[sizeField],\n    [PATH_FIELD]: '',\n    [ID_FIELD]: '',\n  }));\n  // 1. \n  vennData.sort((a, b) => a.sets.length - b.sets.length);\n  // todo 2.  crash\n\n  const solution = venn(vennData);\n  const circles = scaleSolution(solution, width, height, padding);\n  const textCenters = computeTextCentres(circles, vennData);\n  vennData.forEach((row) => {\n    const sets = row.sets;\n    const id = sets.join(',');\n    row[ID_FIELD] = id;\n    //  vennText \n    const setCircles = sets.map((set) => circles[set]);\n    let path = intersectionAreaPath(setCircles);\n    if (!/[zZ]$/.test(path)) {\n      path += ' Z';\n    }\n    row[PATH_FIELD] = path;\n    const center = textCenters[id] || { x: 0, y: 0 };\n    assign(row, center);\n  });\n  return vennData;\n}\n\n/**\n *  \n * @param legalArr ['A', 'B']\n * @param testArr ['A', 'B', 'C'] or ['A', 'C'] 'C'\n * @return boolean\n */\nexport function islegalSets(legalArr: any[], testArr: any[]): boolean {\n  for (let i = 0; i < testArr.length; i++) {\n    if (!legalArr.includes(testArr[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n","import { Geometry } from '@antv/g2';\nimport { deepMix, get, isArray, isEqual } from '@antv/util';\nimport { animation, interaction, scale, theme, tooltip } from '../../adaptor/common';\nimport { schema as schemaGeometry } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport {\n  deepAssign,\n  findGeometry,\n  flow,\n  getAdjustAppendPadding,\n  LEVEL,\n  log,\n  normalPadding,\n  resolveAllPadding,\n  transformLabel,\n} from '../../utils';\nimport { ID_FIELD } from './constant';\nimport './interactions';\nimport './label';\nimport './shape';\nimport { CustomInfo, VennData, VennOptions } from './types';\nimport { getColorMap, islegalSets, layoutVennData } from './utils';\n\n/**  */\nexport const LEGEND_SPACE = 40;\n\n/**\n *  color \n */\nfunction colorMap(params: Params<VennOptions>, data: VennData, colorPalette?: string[]) {\n  const { chart, options } = params;\n  const { blendMode, setsField } = options;\n  const { colors10, colors20 } = chart.getTheme();\n  let palette = colorPalette;\n  if (!isArray(palette)) {\n    palette = data.filter((d) => d[setsField].length === 1).length <= 10 ? colors10 : colors20;\n  }\n  const map = getColorMap(palette, data, blendMode, setsField);\n\n  return (id: string) => map.get(id) || palette[0];\n}\n\n/**\n * color options \n */\nfunction transformColor(params: Params<VennOptions>, data: VennData): VennOptions['color'] {\n  const { options } = params;\n  const { color } = options;\n\n  if (typeof color !== 'function') {\n    const colorPalette = typeof color === 'string' ? [color] : color;\n    const map = colorMap(params, data, colorPalette);\n    return (datum: Datum) => map(datum[ID_FIELD]);\n  }\n  return color;\n}\n\n/**\n *  padding\n */\nfunction padding(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, appendPadding, padding } = options;\n\n  //  legend .  40px,  appendPadding \n  let tempPadding: number[] = normalPadding(appendPadding);\n  if (legend !== false) {\n    tempPadding = getAdjustAppendPadding(appendPadding, get(legend, 'position'), LEGEND_SPACE);\n  }\n\n  chart.appendPadding = resolveAllPadding([tempPadding, padding]);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction data(params: Params<VennOptions>): Params<VennOptions> {\n  const { options } = params;\n\n  /*     \n   * \n   * data = [\n   *   { sets: ['A'], size: 3 }, // \n   *   { sets: ['B'], size: 4 }, // \n   *   { sets: ['A', 'B'], size: 2 }, // \n   *   { sets: ['A', 'B', 'C'], size: 2 }, //  ( C)\n   *   ...\n   * ]\n   */\n\n  let data = options['data'];\n  if (!data) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    data = [];\n  }\n\n  // ['A', 'B']\n  const currSets = data.filter((datum) => datum.sets.length === 1).map((datum) => datum.sets[0]);\n  //  data\n  const filterSets = data.filter((datum) => {\n    const sets = datum.sets;\n    // \n    return islegalSets(currSets, sets);\n  });\n\n  if (!isEqual(filterSets, data)) log(LEVEL.WARN, false, 'warn: %s', ', ');\n\n  return deepMix({}, params, {\n    options: {\n      data: filterSets,\n    },\n  });\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { pointStyle, setsField, sizeField } = options;\n\n  // \n  const [t, r, b, l] = normalPadding(chart.appendPadding);\n  //  legend .  40px,  appendPadding \n  const customInfo: CustomInfo = { offsetX: l, offsetY: t };\n  // coordinateBBox + appendPadding = viewBBox,  appendPadding  viewBBox\n  const { width, height } = chart.viewBBox;\n  // padding w  h \n  const vennData: VennData = layoutVennData(options, Math.max(width - (r + l), 0), Math.max(height - (t + b), 0), 0);\n  chart.data(vennData);\n\n  const { ext } = schemaGeometry(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        sizeField: sizeField,\n        seriesField: ID_FIELD,\n        rawFields: [setsField, sizeField],\n        schema: {\n          shape: 'venn',\n          style: pointStyle,\n        },\n      },\n    })\n  );\n\n  const geometry = ext.geometry as Geometry;\n  geometry.customInfo(customInfo);\n\n  const colorOptions = transformColor(params, vennData);\n  // , color .  datum\n  if (typeof colorOptions === 'function') {\n    geometry.color(ID_FIELD, (id) => {\n      const datum = vennData.find((d) => d[ID_FIELD] === id);\n      const defaultColor = colorMap(params, vennData)(id);\n      return colorOptions(datum, defaultColor);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  label\n * @param params\n */\nfunction label(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  // \n  const [t, , , l] = normalPadding(chart.appendPadding);\n  //  label  \n  const customLabelInfo = { offsetX: l, offsetY: t };\n\n  const geometry = findGeometry(chart, 'schema');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: ['id'],\n      callback,\n      cfg: deepMix({}, transformLabel(cfg), {\n        //  G2  label \n        type: 'venn',\n        customLabelInfo,\n      }),\n    });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, sizeField } = options;\n\n  chart.legend(ID_FIELD, legend);\n  //  \n  chart.legend(sizeField, false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function axis(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart } = params;\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *  interaction \n */\nfunction vennInteraction(params: Params<VennOptions>): Params<VennOptions> {\n  const { options, chart } = params;\n  const { interactions } = options;\n\n  if (interactions) {\n    const MAP = {\n      'legend-active': 'venn-legend-active',\n      'legend-highlight': 'venn-legend-highlight',\n    };\n    interaction(\n      deepAssign({}, params, {\n        options: {\n          interactions: interactions.map((i) => ({\n            ...i,\n            type: MAP[i.type] || i.type,\n          })),\n        },\n      })\n    );\n  }\n\n  chart.removeInteraction('legend-active');\n  chart.removeInteraction('legend-highlight');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<VennOptions>) {\n  // flow  G2 API\n  return flow(\n    padding,\n    theme,\n    data,\n    geometry,\n    label,\n    scale({}),\n    legend,\n    axis,\n    tooltip,\n    vennInteraction,\n    animation\n    // ...  adaptor flow\n  )(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { VennOptions } from './types';\n\nexport type { VennOptions };\n\n/**\n *  \n */\nexport class Venn extends Plot<VennOptions> {\n  /**  */\n  public type: string = 'venn';\n\n  static getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Venn.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<VennOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // \n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { ViolinOptions } from './types';\n\nexport const X_FIELD = 'x';\nexport const VIOLIN_Y_FIELD = 'violinY';\nexport const VIOLIN_SIZE_FIELD = 'violinSize';\nexport const MIN_MAX_FIELD = 'minMax';\nexport const QUANTILE_FIELD = 'quantile';\nexport const MEDIAN_FIELD = 'median';\n\nexport const VIOLIN_VIEW_ID = 'violin_view';\nexport const MIN_MAX_VIEW_ID = 'min_max_view';\nexport const QUANTILE_VIEW_ID = 'quantile_view';\nexport const MEDIAN_VIEW_ID = 'median_view';\n\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  view  view padding \n  syncViewPadding: true,\n  // \n  kde: {\n    type: 'triangular',\n    sampleSize: 32,\n    width: 3,\n  },\n\n  // \n  violinStyle: {\n    lineWidth: 1,\n    fillOpacity: 0.3,\n    strokeOpacity: 0.75,\n  },\n  // \n  xAxis: {\n    grid: {\n      line: null,\n    },\n    tickLine: {\n      alignTick: false,\n    },\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineWidth: 0.5,\n          lineDash: [4, 4],\n        },\n      },\n    },\n  },\n  // \n  legend: {\n    position: 'top-left',\n  },\n  // Tooltip\n  tooltip: {\n    showMarkers: false,\n  },\n  // \n  // interactions: [{ type: 'active-region' }],\n} as Partial<ViolinOptions>);\n","// from https://github.com/simple-statistics\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nexport function quantileSorted(x: number[], p: number) {\n  const idx = x.length * p;\n  if (x.length === 0) {\n    throw new Error('quantile requires at least one data point.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\n/**\n * \n * @param arr T[]\n * @param i number\n * @param j number\n */\nexport function swap<T = any>(arr: T[], i: number, j: number): void {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nexport function quickselect(arr: number[], k, left?: number, right?: number): void {\n  left = left || 0;\n  right = right || arr.length - 1;\n\n  while (right > left) {\n    // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp((2 * z) / 3);\n      let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n      if (m - n / 2 < 0) sd *= -1;\n      const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n      const newRight = Math.min(right, Math.floor(k + ((n - m) * s) / n + sd));\n      quickselect(arr, k, newLeft, newRight);\n    }\n\n    const t = arr[k];\n    let i = left;\n    let j = right;\n\n    swap(arr, left, k);\n    if (arr[right] > t) swap(arr, left, right);\n\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n      while (arr[i] < t) i++;\n      while (arr[j] > t) j--;\n    }\n\n    if (arr[left] === t) swap(arr, left, j);\n    else {\n      j++;\n      swap(arr, j, right);\n    }\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x: number[], p: number): number;\nfunction quantile(x: number[], p: number[]): number[];\nfunction quantile(x: any, p: any): any {\n  const copy = x.slice();\n\n  if (Array.isArray(p)) {\n    // rearrange elements so that each element corresponding to a requested\n    // quantile is on a place it would be if the array was fully sorted\n    multiQuantileSelect(copy, p);\n    // Initialize the result array\n    const results: number[] = [];\n    // For each requested quantile\n    for (let i = 0; i < p.length; i++) {\n      results[i] = quantileSorted(copy, p[i]);\n    }\n    return results;\n  } else {\n    const idx = quantileIndex(copy.length, p);\n    quantileSelect(copy, idx, 0, copy.length - 1);\n    return quantileSorted(copy, p);\n  }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n  if (k % 1 === 0) {\n    quickselect(arr, k, left, right);\n  } else {\n    k = Math.floor(k);\n    quickselect(arr, k, left, right);\n    quickselect(arr, k + 1, k + 1, right);\n  }\n}\n\nfunction multiQuantileSelect(arr, p) {\n  const indices = [0];\n  for (let i = 0; i < p.length; i++) {\n    indices.push(quantileIndex(arr.length, p[i]));\n  }\n  indices.push(arr.length - 1);\n  indices.sort(compare);\n\n  const stack = [0, indices.length - 1];\n\n  while (stack.length) {\n    const r = Math.ceil(stack.pop());\n    const l = Math.floor(stack.pop());\n    if (r - l <= 1) continue;\n\n    const m = Math.floor((l + r) / 2);\n    quantileSelect(arr, indices[m], Math.floor(indices[l]), Math.ceil(indices[r]));\n\n    stack.push(l, m, m, r);\n  }\n}\n\nfunction compare(a, b) {\n  return a - b;\n}\n\nfunction quantileIndex(len, p) {\n  const idx = len * p;\n  if (p === 1) {\n    // If p is 1, directly return the last index\n    return len - 1;\n  } else if (p === 0) {\n    // If p is 0, directly return the first index\n    return 0;\n  } else if (idx % 1 !== 0) {\n    // If index is not integer, return the next index in array\n    return Math.ceil(idx) - 1;\n  } else if (len % 2 === 0) {\n    // If the list has even-length, we'll return the middle of two indices\n    // around quantile to indicate that we need an average value of the two\n    return idx - 0.5;\n  } else {\n    // Finally, in the simple case of an integer index\n    // with an odd-length list, return the index\n    return idx;\n  }\n}\n\nexport { quantile };\n","import { groupBy, max, min } from '@antv/util';\nimport pdf from 'pdfast';\nimport { quantile } from '../../utils/transform/quantile';\nimport { ViolinOptions } from './types';\n\nexport type ViolinData = {\n  /** X */\n  x: string;\n\n  /**  size  */\n  violinSize: number[];\n  /**  y  */\n  violinY: number[];\n\n  // \n  /**  */\n  high: number;\n  /**  */\n  low: number;\n  /**  */\n  q1: number;\n  /**  */\n  q3: number;\n  /**  */\n  median: number[];\n\n  /**  */\n  minMax: number[];\n  /**  */\n  quantile: number[];\n};\n\nexport type PdfOptions = {\n  min: number;\n  max: number;\n  size: number;\n  width: number;\n};\n\nexport const toBoxValue = (values: number[]) => {\n  return {\n    low: min(values),\n    high: max(values),\n    q1: quantile(values, 0.25),\n    q3: quantile(values, 0.75),\n    median: quantile(values, [0.5]),\n    minMax: [min(values), max(values)],\n    quantile: [quantile(values, 0.25), quantile(values, 0.75)],\n  };\n};\n\nexport const toViolinValue = (values: number[], pdfOptions: PdfOptions) => {\n  const pdfResults: Array<{ x: number; y: number }> = pdf.create(values, pdfOptions);\n  return {\n    violinSize: pdfResults.map((result) => result.y),\n    violinY: pdfResults.map((result) => result.x),\n  };\n};\n\nexport const transformViolinData = (options: ViolinOptions): ViolinData[] => {\n  const { xField, yField, seriesField, data, kde } = options;\n\n  /**  */\n  const pdfOptions: PdfOptions = {\n    min: kde.min,\n    max: kde.max,\n    size: kde.sampleSize,\n    width: kde.width,\n  };\n\n  // \n  if (!seriesField) {\n    const group = groupBy(data, xField);\n    return Object.keys(group).map((x) => {\n      const records = group[x];\n      const values = records.map((record) => record[yField]);\n      return {\n        x,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      };\n    });\n  }\n\n  // \n  const resultList: ViolinData[] = [];\n  const seriesGroup = groupBy(data, seriesField);\n  Object.keys(seriesGroup).forEach((series) => {\n    const group = groupBy(seriesGroup[series], xField);\n    return Object.keys(group).forEach((key) => {\n      const records = group[key];\n      const values = records.map((record) => record[yField]);\n      resultList.push({\n        x: key,\n        [seriesField]: series,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      });\n    });\n  });\n  return resultList;\n};\n","import { each, get, omit, set } from '@antv/util';\nimport { annotation as baseAnnotation, interaction, theme, tooltip } from '../../adaptor/common';\nimport { interval, point, violin } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow, pick } from '../../utils';\nimport { addViewAnimation } from '../../utils/view';\nimport {\n  MEDIAN_FIELD,\n  MEDIAN_VIEW_ID,\n  MIN_MAX_FIELD,\n  MIN_MAX_VIEW_ID,\n  QUANTILE_FIELD,\n  QUANTILE_VIEW_ID,\n  VIOLIN_SIZE_FIELD,\n  VIOLIN_VIEW_ID,\n  VIOLIN_Y_FIELD,\n  X_FIELD,\n} from './constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\n\nconst TOOLTIP_FIELDS = ['low', 'high', 'q1', 'q3', 'median'];\n\nconst adjustCfg = [\n  {\n    type: 'dodge',\n    marginRatio: 1 / 32,\n  } as const,\n];\n\n/**  */\nfunction data(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  chart.data(transformViolinData(options));\n  return params;\n}\n\n/**  */\nfunction violinView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, shape = 'violin', violinStyle, tooltip, state } = options;\n\n  const view = chart.createView({ id: VIOLIN_VIEW_ID });\n  violin({\n    chart: view,\n    options: {\n      xField: X_FIELD,\n      yField: VIOLIN_Y_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      sizeField: VIOLIN_SIZE_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      violin: {\n        style: violinStyle,\n        color,\n        shape,\n      },\n      state,\n    },\n  });\n  view.geometries[0].adjust(adjustCfg);\n\n  return params;\n}\n\n/**  */\nfunction boxView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, tooltip, box } = options;\n\n  //  `box`  false \n  if (box === false) return params;\n\n  // \n  const minMaxView = chart.createView({ id: MIN_MAX_VIEW_ID });\n  interval({\n    chart: minMaxView,\n    options: {\n      xField: X_FIELD,\n      yField: MIN_MAX_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 1,\n        style: {\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  minMaxView.geometries[0].adjust(adjustCfg);\n\n  // \n  const quantileView = chart.createView({ id: QUANTILE_VIEW_ID });\n  interval({\n    chart: quantileView,\n    options: {\n      xField: X_FIELD,\n      yField: QUANTILE_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 8,\n        style: {\n          fillOpacity: 1,\n        },\n      },\n    },\n  });\n  quantileView.geometries[0].adjust(adjustCfg);\n\n  // \n  const medianView = chart.createView({ id: MEDIAN_VIEW_ID });\n  point({\n    chart: medianView,\n    options: {\n      xField: X_FIELD,\n      yField: MEDIAN_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      point: {\n        color,\n        size: 1,\n        style: {\n          fill: 'white',\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  medianView.geometries[0].adjust(adjustCfg);\n\n  //  view \n  quantileView.axis(false);\n  minMaxView.axis(false);\n  medianView.axis(false);\n\n  //  view \n  medianView.legend(false);\n  minMaxView.legend(false);\n  quantileView.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n */\nfunction meta(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis } = options;\n\n  const baseMeta = {};\n\n  const scales = deepAssign(baseMeta, meta, {\n    [X_FIELD]: {\n      sync: true,\n      ...pick(xAxis, AXIS_META_CONFIG_KEYS),\n      // fix:  dodge is not support linear attribute, please use category attribute!\n      //  x \n      type: 'cat',\n    },\n    [VIOLIN_Y_FIELD]: {\n      sync: true,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MIN_MAX_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [QUANTILE_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MEDIAN_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n */\nfunction axis(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  const view = findViewById(chart, VIOLIN_VIEW_ID);\n\n  //  false \n  if (xAxis === false) {\n    view.axis(X_FIELD, false);\n  } else {\n    view.axis(X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    view.axis(VIOLIN_Y_FIELD, false);\n  } else {\n    view.axis(VIOLIN_Y_FIELD, yAxis);\n  }\n\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *\n * @param params\n * @returns\n */\nfunction legend(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField, shape } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const legendField = seriesField ? seriesField : X_FIELD;\n    // fixme \n    const legendOptions = omit(legend as any, ['selected']);\n    if (!shape || !shape.startsWith('hollow')) {\n      if (!get(legendOptions, ['marker', 'style', 'lineWidth'])) {\n        set(legendOptions, ['marker', 'style', 'lineWidth'], 0);\n      }\n    }\n    chart.legend(legendField, legendOptions);\n    //  fixme G2 \n    if (get(legend, 'selected')) {\n      each(chart.views, (view) => view.legend(legendField, legend));\n    }\n  }\n\n  return params;\n}\n\n/**\n * annotation, apply to violin view.\n * @param params\n * @returns\n */\nfunction annotation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart } = params;\n\n  const violinView = findViewById(chart, VIOLIN_VIEW_ID);\n  baseAnnotation()({ ...params, chart: violinView });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  each(chart.views, (view) => {\n    addViewAnimation(view, animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ViolinOptions>) {\n  return flow(\n    theme,\n    data,\n    violinView,\n    boxView,\n    meta,\n    tooltip,\n    axis,\n    legend,\n    interaction,\n    annotation,\n    animation\n  )(params);\n}\n","import { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry, GeometryOptions, MappingOptions } from './base';\n\nexport interface ViolinGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y Y */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** violin  */\n  readonly violin?: MappingOptions;\n}\n\n/**\n * violin \n * @param params\n */\nexport function violin<O extends ViolinGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { violin, xField, yField, seriesField, sizeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField]);\n\n  return violin\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'violin',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...violin,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\nexport type { ViolinOptions };\n\nexport class Violin extends Plot<ViolinOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<ViolinOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'violin';\n\n  /**\n   * @override\n   */\n  public changeData(data: ViolinOptions['data']) {\n    this.updateOption({ data });\n    this.chart.changeData(transformViolinData(this.options));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<ViolinOptions> {\n    return Violin.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ViolinOptions> {\n    return adaptor;\n  }\n}\n","export const Y_FIELD = '$$yField$$';\nexport const DIFF_FIELD = '$$diffField$$';\nexport const ABSOLUTE_FIELD = '$$absoluteField$$';\nexport const IS_TOTAL = '$$isTotal$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  /** default: show label */\n  label: {},\n  /** default: show leaderLine */\n  leaderLine: {\n    style: {\n      lineWidth: 1,\n      stroke: '#8c8c8c',\n      lineDash: [4, 2],\n    },\n  },\n  /** default: show total */\n  total: {\n    style: {\n      fill: 'rgba(0, 0, 0, 0.25)',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n  risingFill: '#f4664a',\n  fallingFill: '#30bf78',\n  waterfallStyle: {\n    fill: 'rgba(0, 0, 0, 0.25)',\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineDash: [4, 2],\n        },\n      },\n    },\n  },\n};\n","import { get, isNumber, isObject, isUndefined, reduce } from '@antv/util';\nimport { Options } from '../../types';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\n\n/**\n * @desc [start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  newYField: string,\n  total?: false | { label?: string }\n) {\n  const newData = [];\n  reduce(\n    data,\n    (r, d) => {\n      // \n      log(LEVEL.WARN, isNumber(d[yField]), `${d[yField]} is not a valid number`);\n      const value = isUndefined(d[yField]) ? null : d[yField];\n      newData.push({ ...d, [newYField]: [r, r + value] });\n\n      return r + value;\n    },\n    0\n  );\n  // \n  if (newData.length && total) {\n    const sum = get(newData, [[data.length - 1], newYField, [1]]);\n    newData.push({\n      [xField]: total.label,\n      [yField]: sum,\n      [newYField]: [0, sum],\n    });\n  }\n  return newData;\n}\n\n/**\n *   \n */\nexport function transformData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  total?: false | { label?: string }\n) {\n  const processed = processData(data, xField, yField, Y_FIELD, total);\n  return processed.map((d, dIdx) => {\n    if (!isObject(d)) {\n      return d;\n    }\n    return {\n      ...d,\n      [ABSOLUTE_FIELD]: d[Y_FIELD][1],\n      [DIFF_FIELD]: d[Y_FIELD][1] - d[Y_FIELD][0],\n      [IS_TOTAL]: dIdx === data.length,\n    };\n  });\n}\n","import { Geometry } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { animation, annotation, interaction, scale, state, theme } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { deepAssign, findGeometry, flow, transformLabel } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\nimport './shape';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n *  \n * @param params\n * @returns\n */\nfunction defaultOptions(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { locale, total } = params.options;\n\n  const localeTotalLabel = getLocale(locale).get(['waterfall', 'total']);\n\n  if (total && typeof total.label !== 'string' && localeTotalLabel) {\n    // @ts-ignore\n    params.options.total.label = localeTotalLabel;\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    total,\n    leaderLine,\n    columnWidthRatio,\n    waterfallStyle,\n    risingFill,\n    fallingFill,\n    color,\n    shape,\n    customInfo,\n  } = options;\n\n  // \n  chart.data(transformData(data, xField, yField, total));\n\n  //  colorMapping\n  const colorMapping =\n    color ||\n    function (datum: Datum) {\n      if (get(datum, [IS_TOTAL])) {\n        return get(total, ['style', 'fill'], '');\n      }\n      return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n    };\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: Y_FIELD,\n      seriesField: xField,\n      rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: waterfallStyle,\n        // \n        shape: shape || 'waterfall',\n        color: colorMapping,\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n\n  //  waterfall leaderLineCfg  shape \n  geometry.customInfo({\n    ...customInfo,\n    leaderLine,\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, meta } = options;\n\n  const Y_FIELD_META = deepAssign({}, { alias: yField }, get(meta, yField));\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n        [Y_FIELD]: yAxis,\n      },\n      deepAssign({}, meta, { [Y_FIELD]: Y_FIELD_META, [DIFF_FIELD]: Y_FIELD_META, [ABSOLUTE_FIELD]: Y_FIELD_META })\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(yField, yAxis);\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend  todo  hover \n * @param params\n */\nfunction legend(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { legend, total, risingFill, fallingFill, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const items = [\n      {\n        name: i18n.get(['general', 'increase']),\n        value: 'increase',\n        marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n      },\n      {\n        name: i18n.get(['general', 'decrease']),\n        value: 'decrease',\n        marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n      },\n    ];\n\n    if (total) {\n      items.push({\n        name: total.label || '',\n        value: 'total',\n        marker: {\n          symbol: 'square',\n          style: deepAssign({}, { r: 5 }, get(total, 'style')),\n        },\n      });\n    }\n    chart.legend(\n      deepAssign(\n        {},\n        {\n          custom: true,\n          position: 'top',\n          items,\n        },\n        legend\n      )\n    );\n    chart.removeInteraction('legend-filter');\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { label, labelMode, xField } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD, xField] : [DIFF_FIELD, xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { tooltip, xField, yField } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip({\n      showCrosshairs: false,\n      showMarkers: false,\n      shared: true,\n      // tooltip  y \n      fields: [yField],\n      ...tooltip,\n    });\n    //  yField  tooltip \n    const geometry = chart.geometries[0];\n    tooltip?.formatter ? geometry.tooltip(`${xField}*${yField}`, tooltip.formatter) : geometry.tooltip(yField);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<WaterfallOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    state,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Point } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**\n *  path\n * @param points\n */\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n\n  return path;\n}\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  return deepAssign({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\n\nregisterShape('interval', 'waterfall', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const { customInfo, points, nextPoints } = cfg;\n\n    const group = container.addGroup();\n\n    //  \n    const rectPath = this.parsePath(getRectPath(points));\n    const fillAttrs = getFillAttrs(cfg);\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: rectPath,\n      },\n    });\n\n    //  \n    const leaderLineCfg = get(customInfo, 'leaderLine');\n    if (leaderLineCfg && nextPoints) {\n      let linkPath = [\n        ['M', points[2].x, points[2].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n      ];\n\n      if (points[2].y === nextPoints[1].y) {\n        linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n      }\n\n      linkPath = this.parsePath(linkPath);\n      group.addShape('path', {\n        attrs: {\n          path: linkPath,\n          ...(leaderLineCfg.style || {}),\n        },\n      });\n    }\n\n    return group;\n  },\n});\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\n\nexport type { WaterfallOptions };\n\n/**\n * \n */\nexport class Waterfall extends Plot<WaterfallOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WaterfallOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'waterfall';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    const { xField, yField, total } = this.options;\n    this.updateOption({ data });\n    this.chart.changeData(transformData(data, xField, yField, total));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WaterfallOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<WaterfallOptions> {\n    return Waterfall.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Datum } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**  color  */\nexport const WORD_CLOUD_COLOR_FIELD = 'color';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  timeInterval: 2000,\n  legend: false,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: false,\n    fields: ['text', 'value', WORD_CLOUD_COLOR_FIELD],\n    formatter: (datum: Datum) => {\n      return { name: datum.text, value: datum.value };\n    },\n  },\n  wordStyle: {\n    fontFamily: 'Verdana',\n    fontWeight: 'normal',\n    padding: 1,\n    fontSize: [12, 60],\n    rotation: [0, 90],\n    rotationSteps: 2,\n    rotateRatio: 0.5,\n  },\n});\n","import { assign, isFunction, isNil } from '@antv/util';\r\nimport { Tag, Word } from '../../plots/word-cloud/types';\r\n\r\ntype FontWeight = number | 'normal' | 'bold' | 'bolder' | 'lighter';\r\n\r\nexport interface Options {\r\n  size: [number, number];\r\n  font?: string | ((row: Word, index?: number, words?: Word[]) => string);\r\n  fontSize?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  fontWeight?: FontWeight | ((row: Word, index?: number, words?: Word[]) => FontWeight);\r\n  rotate?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  padding?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  spiral?: 'archimedean' | 'rectangular' | ((size: [number, number]) => (t: number) => number[]);\r\n  random?: number | (() => number);\r\n  timeInterval?: number;\r\n  imageMask?: HTMLImageElement;\r\n}\r\n\r\nconst DEFAULT_OPTIONS: Options = {\r\n  font: () => 'serif',\r\n  padding: 1,\r\n  size: [500, 500],\r\n  spiral: 'archimedean', // 'archimedean' || 'rectangular' || {function}\r\n  // timeInterval: Infinity // max execute time\r\n  timeInterval: 3000, // max execute time\r\n  // imageMask: '', // instance of Image, must be loaded\r\n};\r\n\r\n/**\r\n * \r\n * \r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function wordCloud(words: Word[], options?: Partial<Options>): Tag[] {\r\n  // \r\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\r\n  return transform(words, options as Options);\r\n}\r\n\r\n/**\r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function transform(words: Word[], options: Options) {\r\n  // \r\n  const layout = tagCloud();\r\n  ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval', 'random'].forEach(\r\n    (key: string) => {\r\n      if (!isNil(options[key])) {\r\n        layout[key](options[key]);\r\n      }\r\n    }\r\n  );\r\n\r\n  layout.words(words);\r\n  if (options.imageMask) {\r\n    layout.createMask(options.imageMask);\r\n  }\r\n\r\n  const result = layout.start();\r\n  const tags: any[] = result._tags;\r\n\r\n  tags.forEach((tag) => {\r\n    tag.x += options.size[0] / 2;\r\n    tag.y += options.size[1] / 2;\r\n  });\r\n\r\n  const [w, h] = options.size;\r\n  // \r\n  // \r\n  // \r\n  // \r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: 0,\r\n    y: 0,\r\n    opacity: 0,\r\n  });\r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: w,\r\n    y: h,\r\n    opacity: 0,\r\n  });\r\n\r\n  return tags;\r\n}\r\n\r\n/*\r\n * Synchronous version of d3-cloud\r\n */\r\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\r\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\r\n/* eslint-disable no-return-assign, no-cond-assign */\r\n\r\ninterface Item {\r\n  value: number;\r\n  text: string;\r\n  sprite: boolean;\r\n}\r\n\r\nconst cloudRadians = Math.PI / 180,\r\n  cw = (1 << 11) >> 5,\r\n  ch = 1 << 11;\r\n\r\nfunction cloudText(d: Item) {\r\n  return d.text;\r\n}\r\n\r\nfunction cloudFont() {\r\n  return 'serif';\r\n}\r\n\r\nfunction cloudFontNormal() {\r\n  return 'normal';\r\n}\r\n\r\nfunction cloudFontSize(d: Item) {\r\n  return d.value;\r\n}\r\n\r\nfunction cloudRotate() {\r\n  return ~~(Math.random() * 2) * 90;\r\n}\r\n\r\nfunction cloudPadding() {\r\n  return 1;\r\n}\r\n\r\n// Fetches a monochrome sprite bitmap for the specified text.\r\n// Load in batches for speed.\r\nfunction cloudSprite(contextAndRatio, d, data, di) {\r\n  if (d.sprite) return;\r\n  const c = contextAndRatio.context,\r\n    ratio = contextAndRatio.ratio;\r\n\r\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\r\n  let x = 0,\r\n    y = 0,\r\n    maxh = 0;\r\n  const n = data.length;\r\n  --di;\r\n  while (++di < n) {\r\n    d = data[di];\r\n    c.save();\r\n    c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\r\n    let w = c.measureText(d.text + 'm').width * ratio,\r\n      h = d.size << 1;\r\n    if (d.rotate) {\r\n      const sr = Math.sin(d.rotate * cloudRadians),\r\n        cr = Math.cos(d.rotate * cloudRadians),\r\n        wcr = w * cr,\r\n        wsr = w * sr,\r\n        hcr = h * cr,\r\n        hsr = h * sr;\r\n      w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\r\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\r\n    } else {\r\n      w = ((w + 0x1f) >> 5) << 5;\r\n    }\r\n    if (h > maxh) maxh = h;\r\n    if (x + w >= cw << 5) {\r\n      x = 0;\r\n      y += maxh;\r\n      maxh = 0;\r\n    }\r\n    if (y + h >= ch) break;\r\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\r\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\r\n    c.fillText(d.text, 0, 0);\r\n    if (d.padding) {\r\n      c.lineWidth = 2 * d.padding;\r\n      c.strokeText(d.text, 0, 0);\r\n    }\r\n    c.restore();\r\n    d.width = w;\r\n    d.height = h;\r\n    d.xoff = x;\r\n    d.yoff = y;\r\n    d.x1 = w >> 1;\r\n    d.y1 = h >> 1;\r\n    d.x0 = -d.x1;\r\n    d.y0 = -d.y1;\r\n    d.hasText = true;\r\n    x += w;\r\n  }\r\n  const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\r\n    sprite = [];\r\n  while (--di >= 0) {\r\n    d = data[di];\r\n    if (!d.hasText) continue;\r\n    const w = d.width,\r\n      w32 = w >> 5;\r\n    let h = d.y1 - d.y0;\r\n    // Zero the buffer\r\n    for (let i = 0; i < h * w32; i++) sprite[i] = 0;\r\n    x = d.xoff;\r\n    if (x == null) return;\r\n    y = d.yoff;\r\n    let seen = 0,\r\n      seenRow = -1;\r\n    for (let j = 0; j < h; j++) {\r\n      for (let i = 0; i < w; i++) {\r\n        const k = w32 * j + (i >> 5),\r\n          m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\r\n        sprite[k] |= m;\r\n        seen |= m;\r\n      }\r\n      if (seen) seenRow = j;\r\n      else {\r\n        d.y0++;\r\n        h--;\r\n        j--;\r\n        y++;\r\n      }\r\n    }\r\n    d.y1 = d.y0 + seenRow;\r\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\r\n  }\r\n}\r\n\r\n// Use mask-based collision detection.\r\nfunction cloudCollide(tag, board, sw) {\r\n  sw >>= 5;\r\n  const sprite = tag.sprite,\r\n    w = tag.width >> 5,\r\n    lx = tag.x - (w << 4),\r\n    sx = lx & 0x7f,\r\n    msx = 32 - sx,\r\n    h = tag.y1 - tag.y0;\r\n  let x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n    last;\r\n  for (let j = 0; j < h; j++) {\r\n    last = 0;\r\n    for (let i = 0; i <= w; i++) {\r\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\r\n    }\r\n    x += sw;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction cloudBounds(bounds, d) {\r\n  const b0 = bounds[0],\r\n    b1 = bounds[1];\r\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\r\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\r\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\r\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\r\n}\r\n\r\nfunction collideRects(a, b) {\r\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\r\n}\r\n\r\nfunction archimedeanSpiral(size) {\r\n  const e = size[0] / size[1];\r\n  return function (t) {\r\n    return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\r\n  };\r\n}\r\n\r\nfunction rectangularSpiral(size) {\r\n  const dy = 4,\r\n    dx = (dy * size[0]) / size[1];\r\n  let x = 0,\r\n    y = 0;\r\n  return function (t) {\r\n    const sign = t < 0 ? -1 : 1;\r\n    // See triangular numbers: T_n = n * (n + 1) / 2.\r\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\r\n      case 0:\r\n        x += dx;\r\n        break;\r\n      case 1:\r\n        y += dy;\r\n        break;\r\n      case 2:\r\n        x -= dx;\r\n        break;\r\n      default:\r\n        y -= dy;\r\n        break;\r\n    }\r\n    return [x, y];\r\n  };\r\n}\r\n\r\n// TODO reuse arrays?\r\nfunction zeroArray(n) {\r\n  const a = [];\r\n  let i = -1;\r\n  while (++i < n) a[i] = 0;\r\n  return a;\r\n}\r\n\r\nfunction cloudCanvas() {\r\n  return document.createElement('canvas');\r\n}\r\n\r\nexport function functor(d) {\r\n  return isFunction(d)\r\n    ? d\r\n    : function () {\r\n        return d;\r\n      };\r\n}\r\n\r\nconst spirals = {\r\n  archimedean: archimedeanSpiral,\r\n  rectangular: rectangularSpiral,\r\n};\r\n\r\nfunction tagCloud() {\r\n  let size = [256, 256],\r\n    font = cloudFont,\r\n    fontSize = cloudFontSize,\r\n    fontWeight = cloudFontNormal,\r\n    rotate = cloudRotate,\r\n    padding = cloudPadding,\r\n    spiral = archimedeanSpiral,\r\n    random = Math.random,\r\n    words = [],\r\n    timeInterval = Infinity;\r\n\r\n  const text = cloudText;\r\n  const fontStyle = cloudFontNormal;\r\n  const canvas = cloudCanvas;\r\n  const cloud: any = {};\r\n\r\n  cloud.start = function () {\r\n    const [width, height] = size;\r\n    const contextAndRatio = getContext(canvas()),\r\n      board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]),\r\n      n = words.length,\r\n      tags = [],\r\n      data = words\r\n        .map(function (d, i, data) {\r\n          d.text = text.call(this, d, i, data);\r\n          d.font = font.call(this, d, i, data);\r\n          d.style = fontStyle.call(this, d, i, data);\r\n          d.weight = fontWeight.call(this, d, i, data);\r\n          d.rotate = rotate.call(this, d, i, data);\r\n          d.size = ~~fontSize.call(this, d, i, data);\r\n          d.padding = padding.call(this, d, i, data);\r\n          return d;\r\n        })\r\n        .sort(function (a, b) {\r\n          return b.size - a.size;\r\n        });\r\n    let i = -1,\r\n      bounds = !cloud.board\r\n        ? null\r\n        : [\r\n            {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            {\r\n              x: width,\r\n              y: height,\r\n            },\r\n          ];\r\n\r\n    step();\r\n\r\n    function step() {\r\n      const start = Date.now();\r\n      while (Date.now() - start < timeInterval && ++i < n) {\r\n        const d = data[i];\r\n        d.x = (width * (random() + 0.5)) >> 1;\r\n        d.y = (height * (random() + 0.5)) >> 1;\r\n        cloudSprite(contextAndRatio, d, data, i);\r\n        if (d.hasText && place(board, d, bounds)) {\r\n          tags.push(d);\r\n          if (bounds) {\r\n            if (!cloud.hasImage) {\r\n              // update bounds if image mask not set\r\n              cloudBounds(bounds, d);\r\n            }\r\n          } else {\r\n            bounds = [\r\n              { x: d.x + d.x0, y: d.y + d.y0 },\r\n              { x: d.x + d.x1, y: d.y + d.y1 },\r\n            ];\r\n          }\r\n          // Temporary hack\r\n          d.x -= size[0] >> 1;\r\n          d.y -= size[1] >> 1;\r\n        }\r\n      }\r\n      cloud._tags = tags;\r\n      cloud._bounds = bounds;\r\n    }\r\n\r\n    return cloud;\r\n  };\r\n\r\n  function getContext(canvas: HTMLCanvasElement) {\r\n    canvas.width = canvas.height = 1;\r\n    const ratio = Math.sqrt(\r\n      (canvas.getContext('2d', { willReadFrequently: true }) as CanvasRenderingContext2D)!.getImageData(0, 0, 1, 1).data\r\n        .length >> 2\r\n    );\r\n    canvas.width = (cw << 5) / ratio;\r\n    canvas.height = ch / ratio;\r\n\r\n    const context = canvas.getContext('2d', { willReadFrequently: true }) as CanvasRenderingContext2D;\r\n    context.fillStyle = context.strokeStyle = 'red';\r\n    context.textAlign = 'center';\r\n    return { context, ratio };\r\n  }\r\n\r\n  function place(board, tag, bounds) {\r\n    // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\r\n    const startX = tag.x,\r\n      startY = tag.y,\r\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\r\n      s = spiral(size),\r\n      dt = random() < 0.5 ? 1 : -1;\r\n    let dxdy,\r\n      t = -dt,\r\n      dx,\r\n      dy;\r\n\r\n    while ((dxdy = s((t += dt)))) {\r\n      dx = ~~dxdy[0];\r\n      dy = ~~dxdy[1];\r\n\r\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\r\n\r\n      tag.x = startX + dx;\r\n      tag.y = startY + dy;\r\n\r\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\r\n      // TODO only check for collisions within current bounds.\r\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\r\n        if (!bounds || collideRects(tag, bounds)) {\r\n          const sprite = tag.sprite,\r\n            w = tag.width >> 5,\r\n            sw = size[0] >> 5,\r\n            lx = tag.x - (w << 4),\r\n            sx = lx & 0x7f,\r\n            msx = 32 - sx,\r\n            h = tag.y1 - tag.y0;\r\n          let last,\r\n            x = (tag.y + tag.y0) * sw + (lx >> 5);\r\n          for (let j = 0; j < h; j++) {\r\n            last = 0;\r\n            for (let i = 0; i <= w; i++) {\r\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\r\n            }\r\n            x += sw;\r\n          }\r\n          delete tag.sprite;\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  cloud.createMask = (img: HTMLImageElement) => {\r\n    const can: HTMLCanvasElement = document.createElement('canvas');\r\n    const [width, height] = size;\r\n\r\n    //  width  height  0  cxt.getImageData \r\n    if (!width || !height) {\r\n      return;\r\n    }\r\n    const w32 = width >> 5;\r\n    const board = zeroArray((width >> 5) * height);\r\n    can.width = width;\r\n    can.height = height;\r\n    const cxt = can.getContext('2d') as CanvasRenderingContext2D;\r\n    cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\r\n    const imageData = cxt.getImageData(0, 0, width, height).data;\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const k = w32 * j + (i >> 5);\r\n        const tmp = (j * width + i) << 2;\r\n        const flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\r\n        const m = flag ? 1 << (31 - (i % 32)) : 0;\r\n        board[k] |= m;\r\n      }\r\n    }\r\n    cloud.board = board;\r\n    cloud.hasImage = true;\r\n  };\r\n\r\n  cloud.timeInterval = function (_) {\r\n    timeInterval = _ == null ? Infinity : _;\r\n  };\r\n\r\n  cloud.words = function (_) {\r\n    words = _;\r\n  };\r\n\r\n  cloud.size = function (_) {\r\n    size = [+_[0], +_[1]];\r\n  };\r\n\r\n  cloud.font = function (_) {\r\n    font = functor(_);\r\n  };\r\n\r\n  cloud.fontWeight = function (_) {\r\n    fontWeight = functor(_);\r\n  };\r\n\r\n  cloud.rotate = function (_) {\r\n    rotate = functor(_);\r\n  };\r\n\r\n  cloud.spiral = function (_) {\r\n    spiral = spirals[_] || _;\r\n  };\r\n\r\n  cloud.fontSize = function (_) {\r\n    fontSize = functor(_);\r\n  };\r\n\r\n  cloud.padding = function (_) {\r\n    padding = functor(_);\r\n  };\r\n\r\n  cloud.random = function (_) {\r\n    random = functor(_);\r\n  };\r\n\r\n  return cloud;\r\n}\r\n","import { Chart, Types } from '@antv/g2';\r\nimport { isArray, isFunction, isString } from '@antv/util';\r\nimport { Params } from '../../core/adaptor';\r\nimport { Datum } from '../../types';\r\nimport { getContainerSize, LEVEL, log } from '../../utils';\r\nimport { normalPadding } from '../../utils/padding';\r\nimport { functor, wordCloud } from '../../utils/transform/word-cloud';\r\nimport { Tag, Word, WordCloudOptions, WordStyle } from './types';\r\n\r\n/**\r\n *  DataSet \r\n * @param params\r\n */\r\nexport function transform(params: Params<WordCloudOptions>): Tag[] {\r\n  const { options: rawOptions, chart } = params;\r\n  const { width, height, padding: chartPadding, appendPadding, ele } = chart as Chart;\r\n  const {\r\n    data,\r\n    imageMask,\r\n    wordField,\r\n    weightField,\r\n    colorField,\r\n    wordStyle,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    autoFit = true,\r\n    placementStrategy,\r\n  } = rawOptions;\r\n  if (!data || !data.length) {\r\n    return [];\r\n  }\r\n  const { fontFamily, fontWeight, padding, fontSize } = wordStyle;\r\n  const arr = getSingleKeyValues(data, weightField);\r\n  const range = [min(arr), max(arr)] as [number, number];\r\n\r\n  //  text  value \r\n  const words = data.map(\r\n    (datum: Datum): Word => ({\r\n      text: datum[wordField],\r\n      value: datum[weightField],\r\n      color: datum[colorField],\r\n      datum, // \r\n    })\r\n  );\r\n\r\n  const options = {\r\n    imageMask: imageMask as HTMLImageElement,\r\n    font: fontFamily,\r\n    fontSize: getFontSizeMapping(fontSize, range),\r\n    fontWeight: fontWeight,\r\n    //  padding \r\n    size: getSize({\r\n      width,\r\n      height,\r\n      padding: chartPadding,\r\n      appendPadding,\r\n      autoFit,\r\n      container: ele,\r\n    }),\r\n    padding: padding,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    rotate: getRotate(rawOptions),\r\n  };\r\n\r\n  // \r\n  if (isFunction(placementStrategy)) {\r\n    const result = words.map((word: Word, index: number, words: Word[]) => ({\r\n      ...word,\r\n      hasText: !!word.text,\r\n      font: functor(options.font)(word, index, words),\r\n      weight: functor(options.fontWeight)(word, index, words),\r\n      rotate: functor(options.rotate)(word, index, words),\r\n      size: functor(options.fontSize)(word, index, words),\r\n      style: 'normal',\r\n      ...placementStrategy.call(chart, word, index, words),\r\n    }));\r\n\r\n    // \r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: 0,\r\n      y: 0,\r\n      opacity: 0,\r\n    });\r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: options.size[0],\r\n      y: options.size[1],\r\n      opacity: 0,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  // wordCloud \r\n  return wordCloud(words, options);\r\n}\r\n\r\n/**\r\n * [width, height]\r\n * @param chart\r\n */\r\nexport function getSize(options: {\r\n  width: number;\r\n  height: number;\r\n  padding: Types.ViewPadding;\r\n  appendPadding: Types.ViewAppendPadding;\r\n  autoFit: boolean;\r\n  container: HTMLElement;\r\n}): [number, number] {\r\n  let { width, height } = options;\r\n  const { container, autoFit, padding, appendPadding } = options;\r\n\r\n  //  DataSet \r\n  //  DataSet \r\n  //  DataSet \r\n  // \r\n  if (autoFit) {\r\n    const containerSize = getContainerSize(container);\r\n    width = containerSize.width;\r\n    height = containerSize.height;\r\n  }\r\n\r\n  //  0\r\n  width = width || 400;\r\n  height = height || 400;\r\n\r\n  const [top, right, bottom, left] = resolvePadding({ padding, appendPadding });\r\n  const result = [width - (left + right), height - (top + bottom)];\r\n\r\n  return result as [number, number];\r\n}\r\n\r\n/**\r\n *  padding  appendPadding  padding\r\n * @param chart\r\n */\r\nfunction resolvePadding(options: { padding: Types.ViewPadding; appendPadding: Types.ViewAppendPadding }) {\r\n  const padding = normalPadding(options.padding);\r\n  const appendPadding = normalPadding(options.appendPadding);\r\n  const top = padding[0] + appendPadding[0];\r\n  const right = padding[1] + appendPadding[1];\r\n  const bottom = padding[2] + appendPadding[2];\r\n  const left = padding[3] + appendPadding[3];\r\n\r\n  return [top, right, bottom, left];\r\n}\r\n\r\n/**\r\n *  imageMask  url \r\n * @param  {HTMLImageElement | string} img\r\n * @return {Promise}\r\n */\r\nexport function processImageMask(img: HTMLImageElement | string): Promise<HTMLImageElement> {\r\n  return new Promise((res, rej) => {\r\n    if (img instanceof HTMLImageElement) {\r\n      res(img);\r\n      return;\r\n    }\r\n    if (isString(img)) {\r\n      const image = new Image();\r\n      image.crossOrigin = 'anonymous';\r\n      image.src = img;\r\n      image.onload = () => {\r\n        res(image);\r\n      };\r\n      image.onerror = () => {\r\n        log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\r\n        rej();\r\n      };\r\n      return;\r\n    }\r\n    log(LEVEL.WARN, img === undefined, 'The type of imageMask option must be String or HTMLImageElement.');\r\n    rej();\r\n  });\r\n}\r\n\r\n/**\r\n *  fontSize  DataSet \r\n * @param options\r\n * @param range\r\n */\r\nexport function getFontSizeMapping(fontSize: WordStyle['fontSize'], range?: [number, number]) {\r\n  if (isFunction(fontSize)) {\r\n    return fontSize;\r\n  }\r\n  if (isArray(fontSize)) {\r\n    const [fMin, fMax] = fontSize;\r\n    if (!range) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    const [min, max] = range;\r\n    if (max === min) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    return function fontSize({ value }) {\r\n      return ((fMax - fMin) / (max - min)) * (value - min) + fMin;\r\n    };\r\n  }\r\n  return () => fontSize;\r\n}\r\n\r\nexport function getSingleKeyValues(data: Datum[], key: string) {\r\n  return data\r\n    .map((v) => v[key])\r\n    .filter((v) => {\r\n      //  number\r\n      if (typeof v === 'number' && !isNaN(v)) return true;\r\n      return false;\r\n    });\r\n}\r\n\r\n/**\r\n *  DataSet \r\n * @param options\r\n */\r\nfunction getRotate(options: WordCloudOptions) {\r\n  const { rotation, rotationSteps } = resolveRotate(options);\r\n  if (!isArray(rotation)) return rotation;\r\n  const min = rotation[0];\r\n  const max = rotation[1];\r\n  //  1  0\r\n  const perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\r\n  return function rotate() {\r\n    if (max === min) return max;\r\n    return Math.floor(Math.random() * rotationSteps) * perSize;\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param options\r\n */\r\nfunction resolveRotate(options: WordCloudOptions) {\r\n  let { rotationSteps } = options.wordStyle;\r\n  if (rotationSteps < 1) {\r\n    log(LEVEL.WARN, false, 'The rotationSteps option must be greater than or equal to 1.');\r\n    rotationSteps = 1;\r\n  }\r\n  return {\r\n    rotation: options.wordStyle.rotation,\r\n    rotationSteps,\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction min(numbers: number[]) {\r\n  return Math.min(...numbers);\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction max(numbers: number[]) {\r\n  return Math.max(...numbers);\r\n}\r\n","import { get, isFunction } from '@antv/util';\nimport { animation, interaction, scale, state, theme, tooltip } from '../../adaptor/common';\nimport { point } from '../../adaptor/geometries';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow } from '../../utils';\nimport { WORD_CLOUD_COLOR_FIELD } from './constant';\nimport { WordCloudOptions } from './types';\nimport { transform } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { colorField, color } = options;\n  const data = transform(params);\n\n  chart.data(data);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'x',\n      yField: 'y',\n      seriesField: colorField && WORD_CLOUD_COLOR_FIELD,\n      rawFields: isFunction(color) && [...get(options, 'rawFields', []), 'datum'],\n      point: {\n        color,\n        shape: 'word-cloud',\n      },\n    },\n  });\n\n  const { ext } = point(p);\n  ext.geometry.label(false);\n\n  chart.coordinate().reflect('y');\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  return flow(\n    scale({\n      x: { nice: false },\n      y: { nice: false },\n    })\n  )(params);\n}\n\n/**\n *  legend \n * @param params\n */\nexport function legend(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { legend, colorField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField) {\n    chart.legend(WORD_CLOUD_COLOR_FIELD, legend);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<WordCloudOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, tooltip, legend, interaction, animation, theme, state)(params);\n}\n","import { IGroup, registerShape, ShapeAttrs, Types, Util } from '@antv/g2';\nimport { Tag } from '../types';\n\ntype Config = Types.ShapeInfo & { data: Tag };\n\nregisterShape('point', 'word-cloud', {\n  draw(cfg: Config, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const shape = group.addShape('text', {\n      attrs: {\n        ...getTextAttrs(cfg),\n        x: cx,\n        y: cy,\n      },\n    });\n    const rotate = cfg.data.rotate;\n    if (typeof rotate === 'number') {\n      Util.rotate(shape, (rotate * Math.PI) / 180);\n    }\n\n    return shape;\n  },\n});\n\nfunction getTextAttrs(cfg: Config): ShapeAttrs {\n  return {\n    fontSize: cfg.data.size,\n    text: cfg.data.text,\n    textAlign: 'center',\n    fontFamily: cfg.data.font,\n    fontWeight: cfg.data.weight,\n    fill: cfg.color || cfg.defaultStyle.stroke,\n    textBaseline: 'alphabetic',\n  };\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// shape\nimport './shapes/word-cloud';\nimport { WordCloudOptions } from './types';\nimport { processImageMask, transform } from './utils';\n\nexport type { WordCloudOptions };\n\nexport class WordCloud extends Plot<WordCloudOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WordCloudOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'word-cloud';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    if (this.options.imageMask) {\n      this.render();\n    } else {\n      this.chart.changeData(transform({ chart: this.chart, options: this.options }));\n    }\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<WordCloudOptions> {\n    return WordCloud.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  public render() {\n    return new Promise<void>((res) => {\n      const { imageMask } = this.options;\n\n      if (!imageMask) {\n        // \n        super.render();\n        res();\n        return;\n      }\n\n      const handler = (img: HTMLImageElement) => {\n        this.options = {\n          ...this.options,\n          imageMask: img || null,\n        };\n\n        // \n        super.render();\n        res();\n      };\n\n      processImageMask(imageMask).then(handler).catch(handler);\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WordCloudOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      //  adaptor\n      // \n      this.execAdaptor();\n\n      // \n      // TODO: \n      window.setTimeout(() => {\n        // \n        super.triggerResize();\n      });\n    }\n  }\n}\n","import { Adaptor } from '../core/adaptor';\nimport { PickOptions, Plot } from '../core/plot';\nimport { deepAssign } from '../utils';\n/**\n *  G2Plot  G2Plot \n * 1. \n * 2. \n * 3. \n * \n *\n * \n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nexport class P<O extends PickOptions> extends Plot<O> {\n  /**  any plot */\n  public readonly type = 'g2-plot';\n\n  /**  defaultOptions */\n  private defaultOptions: Partial<O>;\n\n  /**  adaptor  */\n  private adaptor: Adaptor<O>;\n\n  /**\n   *  adaptor \n   * @param container\n   * @param options\n   * @param adaptor\n   * @param defaultOptions\n   */\n  constructor(container: string | HTMLElement, options: O, adaptor: Adaptor<O>, defaultOptions?: Partial<O>) {\n    super(container, deepAssign({}, defaultOptions, options));\n\n    this.defaultOptions = defaultOptions;\n    this.adaptor = adaptor;\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<O> {\n    return this.adaptor;\n  }\n}\n","import { Locale } from '../types/locale';\n\nexport const EN_US_LOCALE: Locale = {\n  locale: 'en-US',\n\n  // General\n  general: {\n    increase: 'Increase',\n    decrease: 'Decrease',\n    root: 'Root',\n  },\n\n  // Plot Components\n  /** statistic text component */\n  statistic: {\n    total: 'Total',\n  },\n  /** conversionTag component */\n  conversionTag: {\n    label: 'Rate',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // Plots\n  waterfall: {\n    total: 'Total',\n  },\n};\n","import { Locale } from '../types/locale';\n\nexport const ZH_CN_LOCALE: Locale = {\n  locale: 'zh-CN',\n\n  // \n  general: {\n    increase: '',\n    decrease: '',\n    root: '',\n  },\n\n  // \n  /**  */\n  statistic: {\n    total: '',\n  },\n  /**  */\n  conversionTag: {\n    label: '',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // \n  waterfall: {\n    total: '',\n  },\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport * as ReactDOM from 'react-dom';\n// Let compiler not to search module usage\nvar fullClone = __assign({}, ReactDOM);\nvar version = fullClone.version, reactRender = fullClone.render, unmountComponentAtNode = fullClone.unmountComponentAtNode;\nvar createRoot;\ntry {\n    var mainVersion = Number((version || '').split('.')[0]);\n    if (mainVersion >= 18) {\n        (createRoot = fullClone.createRoot);\n    }\n}\ncatch (e) {\n    // Do nothing;\n}\nfunction toggleWarning(skip) {\n    var __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = fullClone.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n    if (__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED &&\n        typeof __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED === 'object') {\n        __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.usingClientEntryPoint = skip;\n    }\n}\nvar MARK = '__rc_react_root__';\nfunction modernRender(node, container) {\n    toggleWarning(true);\n    var root = container[MARK] || createRoot(container);\n    toggleWarning(false);\n    root.render(node);\n    container[MARK] = root;\n}\nfunction legacyRender(node, container) {\n    reactRender(node, container);\n}\n/** @private Test usage. Not work in prod */\nexport function _r(node, container) {\n    if (process.env.NODE_ENV !== 'production') {\n        return legacyRender(node, container);\n    }\n}\nexport function render(node, container) {\n    if (createRoot) {\n        modernRender(node, container);\n        return;\n    }\n    legacyRender(node, container);\n}\n// ========================= Unmount ==========================\nfunction modernUnmount(container) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            // Delay to unmount to avoid React 18 sync warning\n            return [2 /*return*/, Promise.resolve().then(function () {\n                    var _a;\n                    (_a = container[MARK]) === null || _a === void 0 ? void 0 : _a.unmount();\n                    delete container[MARK];\n                })];\n        });\n    });\n}\nfunction legacyUnmount(container) {\n    unmountComponentAtNode(container);\n}\n/** @private Test usage. Not work in prod */\nexport function _u(container) {\n    if (process.env.NODE_ENV !== 'production') {\n        return legacyUnmount(container);\n    }\n}\nexport function unmount(container) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            if (createRoot !== undefined) {\n                // Delay to unmount to avoid React 18 sync warning\n                return [2 /*return*/, modernUnmount(container)];\n            }\n            legacyUnmount(container);\n            return [2 /*return*/];\n        });\n    });\n}\n","import { render } from './render';\nvar TOOLTIP_CONTAINER_MAPPING = new Map();\nvar createNode = function (children, type, uuid) {\n    var mountPoint = document.createElement('div');\n    if (type === 'tooltip') {\n        mountPoint.setAttribute('data-uuid', uuid);\n        if (TOOLTIP_CONTAINER_MAPPING.has(uuid)) {\n            mountPoint = TOOLTIP_CONTAINER_MAPPING.get(uuid);\n        }\n        else {\n            TOOLTIP_CONTAINER_MAPPING.set(uuid, mountPoint);\n        }\n        mountPoint.className = 'g2-tooltip';\n    }\n    render(children, mountPoint);\n    return mountPoint;\n};\nexport default createNode;\n","/* eslint-disable no-restricted-syntax */\n// \nexport var isType = function (value, type) {\n    var toString = {}.toString;\n    return toString.call(value) === \"[object \".concat(type, \"]\");\n};\nexport var clone = function (source) {\n    if (!source) {\n        return source;\n    }\n    var target = {};\n    // eslint-disable-next-line guard-for-in\n    for (var k in source) {\n        target[k] = source[k];\n    }\n    return target;\n};\nexport var getType = function (n) {\n    return Object.prototype.toString.call(n).slice(8, -1);\n};\n/**\n * \n * @param source \n */\nexport var deepClone = function (source) {\n    if (!source || typeof source !== 'object') {\n        return source;\n    }\n    var target;\n    if (Array.isArray(source)) {\n        target = source.map(function (item) { return deepClone(item); });\n    }\n    else {\n        target = {};\n        Object.keys(source).forEach(function (key) {\n            return (target[key] = deepClone(source[key]));\n        });\n    }\n    return target;\n};\n/**\n *  undefined\n */\nexport var hasPath = function (source, path) {\n    var current = source;\n    for (var i = 0; i < path.length; i += 1) {\n        if (current === null || current === void 0 ? void 0 : current[path[i]]) {\n            current = current[path[i]];\n        }\n        else {\n            current = undefined;\n            break;\n        }\n    }\n    return current;\n};\n/**\n *  params \n */\nexport var setPath = function (source, path, value) {\n    if (!source) {\n        return source;\n    }\n    var o = source;\n    path.forEach(function (key, idx) {\n        // \n        if (idx < path.length - 1) {\n            o = o[key];\n        }\n        else {\n            o[key] = value;\n        }\n    });\n    return source;\n};\nexport var uuid = function () {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (Math.random() * 16) | 0;\n        var v = c == 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n};\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useRef, useEffect } from 'react';\nimport { isEqual, get } from '@antv/util';\nimport createNode from '../utils/createNode';\nimport { hasPath, isType, deepClone, clone, setPath, uuid } from '../utils';\nexport default function useInit(ChartClass, config) {\n    var chart = useRef();\n    var chartOptions = useRef();\n    var container = useRef(null);\n    var onReady = config.onReady, onEvent = config.onEvent;\n    /**\n     * Get data base64\n     * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n     * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n     */\n    var toDataURL = function (type, encoderOptions) {\n        var _a;\n        if (type === void 0) { type = 'image/png'; }\n        return (_a = chart.current) === null || _a === void 0 ? void 0 : _a.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n    };\n    /**\n     * Download Iamge\n     * @param {string} name A name of image\n     * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n     * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n     */\n    var downloadImage = function (name, type, encoderOptions) {\n        var _a;\n        if (name === void 0) { name = 'download'; }\n        if (type === void 0) { type = 'image/png'; }\n        var imageName = name;\n        if (name.indexOf('.') === -1) {\n            imageName = \"\".concat(name, \".\").concat(type.split('/')[1]);\n        }\n        var base64 = (_a = chart.current) === null || _a === void 0 ? void 0 : _a.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n        var a = document.createElement('a');\n        a.href = base64;\n        a.download = imageName;\n        document.body.appendChild(a);\n        a.click();\n        document.body.removeChild(a);\n        a = null;\n        return imageName;\n    };\n    var reactDomToString = function (source, path, type, _uuid) {\n        var statisticCustomHtml = hasPath(source, path);\n        setPath(source, path, function () {\n            var arg = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                arg[_i] = arguments[_i];\n            }\n            var statisticDom = isType(statisticCustomHtml, 'Function') ? statisticCustomHtml.apply(void 0, arg) : statisticCustomHtml;\n            if (isType(statisticDom, 'String') || isType(statisticDom, 'Number') || isType(statisticDom, 'HTMLDivElement')) {\n                return statisticDom;\n            }\n            return createNode(statisticDom, type, _uuid);\n        });\n    };\n    var processConfig = function () {\n        var _uuid = uuid();\n        // statistic\n        if (hasPath(config, ['statistic', 'content', 'customHtml'])) {\n            reactDomToString(config, ['statistic', 'content', 'customHtml']);\n        }\n        if (hasPath(config, ['statistic', 'title', 'customHtml'])) {\n            reactDomToString(config, ['statistic', 'title', 'customHtml']);\n        }\n        // tooltip\n        if (typeof config.tooltip === 'object') {\n            if (hasPath(config, ['tooltip', 'container'])) {\n                reactDomToString(config, ['tooltip', 'container'], 'tooltip', _uuid);\n            }\n            if (hasPath(config, ['tooltip', 'customContent'])) {\n                reactDomToString(config, ['tooltip', 'customContent'], 'tooltip', _uuid);\n            }\n        }\n    };\n    useEffect(function () {\n        if (chart.current && !isEqual(chartOptions.current, config)) {\n            var changeData = false;\n            if (chartOptions.current) {\n                //  options  data value  percent \n                var _a = chartOptions.current, currentData = _a.data, currentValue = _a.value, currentPercent = _a.percent, currentConfig = __rest(_a, [\"data\", \"value\", \"percent\"]);\n                var inputData = config.data, inputValue = config.value, inputPercent = config.percent, inputConfig = __rest(config, [\"data\", \"value\", \"percent\"]);\n                changeData = isEqual(currentConfig, inputConfig);\n            }\n            chartOptions.current = deepClone(config);\n            if (changeData && get(config, 'chartType') !== 'Mix') {\n                var changeType_1 = 'data';\n                var typeMaps = ['percent']; //  data  RingProgress\n                var currentKeys_1 = Object.keys(config);\n                typeMaps.forEach(function (type) {\n                    if (currentKeys_1.includes(type)) {\n                        changeType_1 = type;\n                    }\n                });\n                chart.current.changeData((config === null || config === void 0 ? void 0 : config[changeType_1]) || []);\n                chart.current.render();\n            }\n            else {\n                processConfig();\n                chart.current.update(config);\n            }\n        }\n    }, [config]);\n    useEffect(function () {\n        if (!container.current) {\n            return function () { return null; };\n        }\n        if (!chartOptions.current) {\n            chartOptions.current = deepClone(config);\n        }\n        processConfig();\n        var chartInstance = new ChartClass(container.current, __assign({}, config));\n        chartInstance.toDataURL = function (type, encoderOptions) {\n            return toDataURL(type, encoderOptions);\n        };\n        chartInstance.downloadImage = function (name, type, encoderOptions) {\n            return downloadImage(name, type, encoderOptions);\n        };\n        chartInstance.render();\n        chart.current = clone(chartInstance);\n        if (onReady) {\n            onReady(chartInstance);\n        }\n        var handler = function (event) {\n            if (onEvent) {\n                onEvent(chartInstance, event);\n            }\n        };\n        chartInstance.on('*', handler);\n        // \n        return function () {\n            if (chart.current) {\n                chart.current.destroy();\n                chart.current.off('*', handler);\n                chart.current = undefined;\n            }\n        };\n    }, []);\n    return {\n        chart: chart,\n        container: container,\n    };\n}\n","import { isFunction } from '@antv/util';\n/**\n * \n */\nexport var getChart = function (chartRef, chart) {\n    if (!chartRef) {\n        return;\n    }\n    if (isFunction(chartRef)) {\n        chartRef(chart);\n    }\n    else {\n        chartRef.current = chart;\n    }\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React, { Fragment } from 'react';\nvar ErrorBoundary = /** @class */ (function (_super) {\n    __extends(ErrorBoundary, _super);\n    function ErrorBoundary() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            hasError: false,\n        };\n        _this.renderError = function (e) {\n            var errorTemplate = _this.props.errorTemplate;\n            switch (e) {\n                default:\n                    if (typeof errorTemplate === 'function') {\n                        return errorTemplate(e);\n                    }\n                    return errorTemplate ? errorTemplate : React.createElement(\"h5\", null,\n                        \"\\u7EC4\\u4EF6\\u51FA\\u9519\\u4E86\\uFF0C\\u8BF7\\u6838\\u67E5\\u540E\\u91CD\\u8BD5\\uFF1A \",\n                        e.message);\n            }\n        };\n        return _this;\n    }\n    ErrorBoundary.getDerivedStateFromError = function (error) {\n        return { hasError: true, error: error };\n    };\n    ErrorBoundary.getDerivedStateFromProps = function (nextProps, state) {\n        if (state.children !== nextProps.children) {\n            return {\n                children: nextProps.children,\n                hasError: false,\n                error: undefined,\n            };\n        }\n        return null;\n    };\n    ErrorBoundary.prototype.render = function () {\n        if (this.state.hasError) {\n            return this.renderError(this.state.error);\n        }\n        return React.createElement(Fragment, null, this.props.children);\n    };\n    return ErrorBoundary;\n}(React.Component));\nexport default ErrorBoundary;\n","export default (): string =>\n  Math.random()\n    .toString(36)\n    .substring(6)\n","import * as React from 'react'\n\nimport uid from '../shared/uid'\nimport { IContentLoaderProps } from './'\n\nconst SVG: React.FC<IContentLoaderProps> = ({\n  animate,\n  backgroundColor,\n  backgroundOpacity,\n  baseUrl,\n  children,\n  foregroundColor,\n  foregroundOpacity,\n  gradientRatio,\n  uniqueKey,\n  interval,\n  rtl,\n  speed,\n  style,\n  title,\n  ...props\n}) => {\n  const fixedId = uniqueKey || uid()\n  const idClip = `${fixedId}-diff`\n  const idGradient = `${fixedId}-animated-diff`\n  const idAria = `${fixedId}-aria`\n\n  const rtlStyle = rtl ? { transform: 'scaleX(-1)' } : null\n  const keyTimes = `0; ${interval}; 1`\n  const dur = `${speed}s`\n\n  return (\n    <svg\n      aria-labelledby={idAria}\n      role=\"img\"\n      style={{ ...style, ...rtlStyle }}\n      {...props}\n    >\n      {title ? <title id={idAria}>{title}</title> : null}\n      <rect\n        role=\"presentation\"\n        x=\"0\"\n        y=\"0\"\n        width=\"100%\"\n        height=\"100%\"\n        clipPath={`url(${baseUrl}#${idClip})`}\n        style={{ fill: `url(${baseUrl}#${idGradient})` }}\n      />\n\n      <defs role=\"presentation\">\n        <clipPath id={idClip}>{children}</clipPath>\n\n        <linearGradient id={idGradient}>\n          <stop\n            offset=\"0%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio}; ${-gradientRatio}; 1`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"50%\"\n            stopColor={foregroundColor}\n            stopOpacity={foregroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio / 2}; ${-gradientRatio / 2}; ${1 +\n                  gradientRatio / 2}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"100%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`0; 0; ${1 + gradientRatio}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n        </linearGradient>\n      </defs>\n    </svg>\n  )\n}\n\nSVG.defaultProps = {\n  animate: true,\n  backgroundColor: '#f5f6f7',\n  backgroundOpacity: 1,\n  baseUrl: '',\n  foregroundColor: '#eee',\n  foregroundOpacity: 1,\n  gradientRatio: 2,\n  id: null,\n  interval: 0.25,\n  rtl: false,\n  speed: 1.2,\n  style: {},\n  title: 'Loading...',\n}\n\nexport default SVG\n","import * as React from 'react'\n\nimport { Facebook, IContentLoaderProps } from '.'\nimport Svg from './Svg'\n\nconst ContentLoader: React.FC<IContentLoaderProps> = props =>\n  props.children ? <Svg {...props} /> : <Facebook {...props} />\n\nexport default ContentLoader\n","import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderFacebook: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 476 124\" {...props}>\n    <rect x=\"48\" y=\"8\" width=\"88\" height=\"6\" rx=\"3\" />\n    <rect x=\"48\" y=\"26\" width=\"52\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"56\" width=\"410\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"72\" width=\"380\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"88\" width=\"178\" height=\"6\" rx=\"3\" />\n    <circle cx=\"20\" cy=\"20\" r=\"20\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderFacebook\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\nvar ChartLoading = function (_a) {\n    var loadingTemplate = _a.loadingTemplate, _b = _a.theme, theme = _b === void 0 ? 'light' : _b;\n    var renderLoading = function () {\n        if (loadingTemplate) {\n            return loadingTemplate;\n        }\n        return (React.createElement(ContentLoader, { viewBox: \"0 0 400 180\", width: 200, height: 90, speed: 1, backgroundColor: theme === 'dark' ? '#262626' : '#D9D9D9' },\n            React.createElement(\"rect\", { x: \"20\", y: \"5\", rx: \"0\", ry: \"0\", width: \"1\", height: \"170\" }),\n            React.createElement(\"rect\", { x: \"20\", y: \"175\", rx: \"0\", ry: \"0\", width: \"360\", height: \"1\" }),\n            React.createElement(\"rect\", { x: \"40\", y: \"75\", rx: \"0\", ry: \"0\", width: \"35\", height: \"100\" }),\n            React.createElement(\"rect\", { x: \"80\", y: \"125\", rx: \"0\", ry: \"0\", width: \"35\", height: \"50\" }),\n            React.createElement(\"rect\", { x: \"120\", y: \"105\", rx: \"0\", ry: \"0\", width: \"35\", height: \"70\" }),\n            React.createElement(\"rect\", { x: \"160\", y: \"35\", rx: \"0\", ry: \"0\", width: \"35\", height: \"140\" }),\n            React.createElement(\"rect\", { x: \"200\", y: \"55\", rx: \"0\", ry: \"0\", width: \"35\", height: \"120\" }),\n            React.createElement(\"rect\", { x: \"240\", y: \"15\", rx: \"0\", ry: \"0\", width: \"35\", height: \"160\" }),\n            React.createElement(\"rect\", { x: \"280\", y: \"135\", rx: \"0\", ry: \"0\", width: \"35\", height: \"40\" }),\n            React.createElement(\"rect\", { x: \"320\", y: \"85\", rx: \"0\", ry: \"0\", width: \"35\", height: \"90\" })));\n    };\n    return (React.createElement(\"div\", { className: \"charts-loading-container\", style: {\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            left: 0,\n            top: 0,\n            zIndex: 99,\n            backgroundColor: theme === 'dark' ? 'rgb(20, 20, 20)' : 'rgb(255, 255, 255)',\n        } }, renderLoading()));\n};\nexport default ChartLoading;\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Column as G2plotColumn } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../utils';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../utils/createLoading';\nvar ColumnChart = forwardRef(function (props, ref) {\n    var chartRef = props.chartRef, _a = props.style, style = _a === void 0 ? {\n        height: 'inherit',\n    } : _a, className = props.className, loading = props.loading, loadingTemplate = props.loadingTemplate, errorTemplate = props.errorTemplate, rest = __rest(props, [\"chartRef\", \"style\", \"className\", \"loading\", \"loadingTemplate\", \"errorTemplate\"]);\n    var _b = useChart(G2plotColumn, rest), chart = _b.chart, container = _b.container;\n    useEffect(function () {\n        getChart(chartRef, chart.current);\n    }, [chart.current]);\n    useImperativeHandle(ref, function () { return ({\n        getChart: function () { return chart.current; },\n    }); });\n    return (React.createElement(ErrorBoundary, { errorTemplate: errorTemplate },\n        loading && React.createElement(ChartLoading, { loadingTemplate: loadingTemplate, theme: props.theme }),\n        React.createElement(\"div\", { className: className, style: style, ref: container })));\n});\nexport default ColumnChart;\n"],"sourceRoot":""}